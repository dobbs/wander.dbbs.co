{
  "version": 3,
  "names": [
    "any",
    "bind",
    "emit",
    "escape",
    "expand",
    "parse",
    "traffic",
    "array",
    "Math",
    "floor",
    "random",
    "length",
    "installed",
    "published",
    "color",
    "gray",
    "red",
    "yellow",
    "green",
    "text",
    "replace",
    "string",
    "external",
    "stash",
    "stashed",
    "unstash",
    "here",
    "push",
    "match",
    "digits",
    "href",
    "protocol",
    "concat",
    "i",
    "len",
    "line",
    "lines",
    "m",
    "result",
    "columns",
    "plugins",
    "split",
    "$item",
    "item",
    "markup",
    "render",
    "trouble",
    "append",
    "data",
    "bright",
    "column",
    "detail",
    "format",
    "installer",
    "more",
    "normal",
    "pub",
    "report",
    "showdetail",
    "name",
    "publish",
    "find",
    "obj",
    "plugin",
    "dependencies",
    "months",
    "ref",
    "status",
    "birth",
    "Date",
    "now",
    "toFixed",
    "ref1",
    "version",
    "npm",
    "factory",
    "category",
    "ref2",
    "pages",
    "ref3",
    "ref4",
    "join",
    "head",
    "index",
    "inventory",
    "retrieve",
    "map",
    "results",
    "window",
    "location",
    "host",
    "row",
    "$row",
    "choice",
    "choices",
    "update",
    "install",
    "indexOf",
    "css",
    "removeAttr",
    "show",
    "plugmatic",
    "$",
    "ajax",
    "type",
    "url",
    "JSON",
    "stringify",
    "contentType",
    "dataType",
    "success",
    "error",
    "dialog",
    "button",
    "versions",
    "reverse",
    "description",
    "done",
    "npmjs",
    "struct",
    "title",
    "synopsis",
    "toString",
    "getJSON",
    "authors",
    "bundle",
    "e",
    "$parent",
    "target",
    "parent",
    "html",
    "wiki",
    "shiftKey",
    "currentTarget",
    "on",
    "mouseenter",
    "mouseleave",
    "attr",
    "hide",
    "xhr",
    "responseJSON",
    "textEditor",
    "module",
    "exports"
  ],
  "sources": [
    "plugmatic.coffee"
  ],
  "sourcesContent": [
    "\nany = (array) ->\n  array[Math.floor Math.random()*array.length]\n\ntraffic = (installed, published) ->\n  color =\n    gray:   '#ccc'\n    red:    '#f55'\n    yellow: '#fb0'\n    green:  '#0e0'\n\n  if installed? and published?\n    if installed == published\n      color.green\n    else\n      color.yellow\n  else\n    if published?\n      color.red\n    else\n      color.gray\n\nescape = (text) ->\n  text\n    .replace /&/g, '&amp;'\n    .replace /</g, '&lt;'\n    .replace />/g, '&gt;'\n\nexpand = (string) ->\n  stashed = []\n  stash = (text) ->\n    here = stashed.length\n    stashed.push text\n    \"〖#{here}〗\"\n  unstash = (match, digits) ->\n    stashed[+digits]\n  external = (match, href, protocol) ->\n    stash \"\"\"\\\"<a class=\"external\" target=\"_blank\" href=\"#{href}\" title=\"#{href}\" rel=\"nofollow\">#{escape href}</a>\\\"\"\"\"\n  string = string\n    .replace /〖(\\d+)〗/g, \"〖 $1 〗\"\n    .replace /\"((http|https|ftp):.*?)\"/gi, external\n  escape string\n    .replace /〖(\\d+)〗/g, unstash\n\n\nparse = (text) ->\n  result = {columns: [], plugins: []}\n  lines = (text || '').split /\\n+/\n  for line in lines\n    result.columns.push 'status'    if line.match /\\bSTATUS\\b/\n    result.columns.push 'name'      if line.match /\\bNAME\\b/\n    result.columns.push 'menu'      if line.match /\\bMENU\\b/\n    result.columns.push 'pages'     if line.match /\\bPAGES\\b/\n    result.columns.push 'service'   if line.match /\\bSERVICE\\b/\n    result.columns.push 'bundled'   if line.match /\\bBUNDLED\\b/\n    result.columns.push 'installed' if line.match /\\bINSTALLED\\b/\n    result.columns.push 'published' if line.match /\\bPUBLISHED\\b/\n    result.plugins.push m[1]        if m = line.match /^wiki-plugin-(\\w+)$/\n  if result.columns.length == 0\n    result.columns = if result.plugins.length == 0\n      ['name', 'pages', 'menu', 'bundled', 'installed']\n    else\n      ['status', 'name', 'pages', 'bundled', 'installed', 'published']\n  result\n\n\nemit = ($item, item) ->\n  markup = parse item.text\n  $item.append \"\"\"\n    <p style=\"background-color:#eee;padding:15px;\">\n      loading plugin details\n    </p>\n  \"\"\"\n\n  render = (data) ->\n    column = 'installed'\n    pub = (name) -> data.publish.find (obj) -> obj.plugin == name\n\n    format = (markup, plugin, dependencies) ->\n      name = plugin.plugin\n      months = if plugin.birth\n        ((Date.now() - plugin.birth) / 1000 / 3600 / 24 / 31.5 ).toFixed(0)\n      else\n        ''\n      status = ->\n        installed = plugin.package?.version\n        published = pub(name).npm?.version\n        traffic installed, published\n\n      result = [\"<tr class=row data-name=#{plugin.plugin}>\"]\n      for column in markup.columns\n        result.push switch column\n          when 'status'    then \"<td title=status style='text-align:center; color: #{status()}'>◉\"\n          when 'name'      then \"<td title=name> #{name}\"\n          when 'menu'      then \"<td title=menu> #{plugin.factory?.category || ''}\"\n          when 'pages'     then \"<td title=pages style='text-align:center;'>#{plugin.pages?.length || ''}\"\n          when 'service'   then \"<td title=service style='text-align:center;'>#{months}\"\n          when 'bundled'   then \"<td title=bundled> #{dependencies['wiki-plugin-'+name] || ''}\"\n          when 'installed' then \"<td title=installed> #{plugin.package?.version || ''}\"\n          when 'published' then \"<td title=published> #{pub(name).npm?.version || ''}\"\n      result.join \"\\n\"\n\n    report = (markup, plugins, dependencies) ->\n      retrieve = (name) ->\n        for plugin in plugins\n          return plugin if plugin.plugin == name\n        {plugin: name}\n      inventory = if markup.plugins.length > 0\n        markup.plugins.map retrieve\n      else\n        plugins\n      head = (\"<td style='font-size:75%; color:gray;'>#{column}\" for column in markup.columns).join \"\\n\"\n      result = (format markup, plugin, dependencies for plugin, index in inventory).join \"\\n\"\n      \"<center>\n        <p><img src='/favicon.png' width=16> <span style='color:gray;'>#{window.location.host}</span></p>\n        <table style=\\\"width:100%;\\\"><tr> #{head} #{result}</table>\n        <button class=restart>restart</button>\n      </center>\"\n\n    installer = (row, npm) ->\n      return \"<p>can't find wiki-plugin-#{row.plugin} in <a href=//npmjs.com target=_blank>npmjs.com</a></p>\" unless npm?\n      $row = $item.find \"table [data-name=#{row.plugin}]\"\n      installed = (update) ->\n        index = data.install.indexOf row\n        data.install[index] = row = update.row\n        $row.find(\"[title=status]\").css('color',traffic(update.installed, npm.version))\n        $row.find(\"[title=menu]\").text(row.factory?.category || '')\n        $row.find(\"[title=pages]\").text(row.pages?.length || '')\n        $row.find('[title=service]').text('0')\n        $row.find(\"[title=installed]\").text(row.package?.version || '')\n        $item.find('button.restart').removeAttr('disabled').show()\n\n      window.plugins.plugmatic.install = (version) ->\n        $.ajax\n          type: 'POST'\n          url: '/plugin/plugmatic/install'\n          data: JSON.stringify({version, plugin: row.plugin})\n          contentType: \"application/json; charset=utf-8\"\n          dataType: 'json'\n          success: installed\n          error: trouble\n        # http://stackoverflow.com/questions/2933826/how-to-close-jquery-dialog-within-the-dialog\n        $row.find(\"[title=status]\").css('color','white')\n        $('.ui-dialog-content:visible').dialog('close')\n\n      array = (obj) -> if typeof obj is 'string' then [obj] else obj\n      choice = (version) ->\n        button = () -> \"<button onclick=window.plugins.plugmatic.install('#{version}')> install </button>\"\n        \"<tr> <td> #{version} <td> #{if version == row.package?.version then 'installed' else button()}\"\n      choices = (choice(version) for version in array(npm.versions).reverse())\n      \"<h3>#{npm.description}</h3> <p>Choose a version to install.</p> <table>#{choices.join \"\\n\"}\"\n\n    detail = (name, done) ->\n      row = data.install.find (obj) -> obj.plugin == name\n      text = (obj) -> return '' unless obj; (expand obj).replace(/\\n/g,'<br>')\n      struct = (obj) -> return '' unless obj; \"<pre>#{expand JSON.stringify obj, null, '  '}</pre>\"\n      pages = (obj) -> \"<p><b><a href=#>#{obj.title}</a></b><br>#{obj.synopsis}</p>\"\n      birth = (obj) -> if obj then (new Date obj).toString() else 'built-in'\n      npmjs = (more) -> $.getJSON \"/plugin/plugmatic/view/#{name}\", more\n      switch column\n        when 'status' then npmjs (npm) -> done installer row, npm\n        when 'name' then done text row.authors\n        when 'menu' then done struct row.factory\n        when 'pages' then done row.pages.map(pages).join('')\n        when 'service' then done birth row.birth\n        when 'bundled' then done struct data.bundle.data.dependencies\n        when 'installed' then done struct row.package\n        when 'published' then done struct pub(name).npm || ''\n        else done 'unexpected column'\n\n    showdetail = (e) ->\n      $parent = $(e.target).parent()\n      name = $parent.data('name')\n      detail name, (html) ->\n        wiki.dialog \"#{name} plugin #{column}\", html || ''\n\n    more = (e) ->\n     if e.shiftKey\n       showdetail e\n\n    bright = (e) -> more(e); $(e.currentTarget).css 'background-color', '#f8f8f8'\n    normal = (e) -> $(e.currentTarget).css 'background-color', '#eee'\n\n    $item.find('p').html report markup, data.install, data.bundle.data.dependencies\n    $item.find('.row').on {\n      mouseenter: bright\n      mouseleave: normal\n    }\n    $item.find('p td').on 'click', (e) ->\n      column = $(e.target).attr('title')\n      showdetail e\n    $item.find('button.restart').hide().on 'click', (e) ->\n      $item.find('button.restart').attr(\"disabled\",\"disabled\")\n      $.ajax\n        type: 'POST'\n        url: '/plugin/plugmatic/restart'\n        success: ->\n          # poll for restart complete, then ...\n          # $item.find('button.restart').hide()\n        error: trouble\n\n  trouble = (xhr) -> \n    $item.find('p').html xhr.responseJSON?.error || 'server error'\n\n  if markup.plugins.length\n    $.ajax\n      type: 'POST'\n      url: '/plugin/plugmatic/plugins'\n      data: JSON.stringify(markup)\n      contentType: \"application/json; charset=utf-8\"\n      dataType: 'json'\n      success: render\n      error: trouble\n  else\n    $.ajax\n      url: '/plugin/plugmatic/plugins'\n      dataType: 'json'\n      success: render\n      error: trouble\n\nbind = ($item, item) ->\n  $item.on 'dblclick', () -> wiki.textEditor $item, item\n\nwindow.plugins.plugmatic = {emit, bind} if window?\nmodule.exports = {parse} if module?\n\n"
  ],
  "mappings": "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"
}