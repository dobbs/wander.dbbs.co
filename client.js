/*! wiki-client - v0.26.0 - 2023-07-01
 * Copyright 2023 Ward Cunningham and other contributors;
 * Released under the MIT license */
!function r(o,i,a){function u(e,t){if(!i[e]){if(!o[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(c)return c(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}n=i[e]={exports:{}},o[e][0].call(n.exports,function(t){return u(o[e][1][t]||t)},n,n.exports,r,o,i,a)}return i[e].exports}for(var c="function"==typeof require&&require,t=0;t<a.length;t++)u(a[t]);return u}({1:[function(t,e,n){"use strict";window.name=window.location.host,window.wiki=t("./lib/wiki"),t("./lib/legacy"),t("./lib/bind"),t("./lib/plugins")},{"./lib/bind":5,"./lib/legacy":13,"./lib/plugins":23,"./lib/wiki":37}],2:[function(t,e,n){"use strict";var r={create:"☼",add:"+",edit:"✎",fork:"⚑",move:"↕",remove:"✕",copyIn:"⨭",copyOut:"⨵"};e.exports={symbols:r,fork:r.fork,add:r.add}},{}],3:[function(t,e,n){"use strict";var c,s,r;e.exports=c={},c.scrollContainer=void 0,s=function(){var t=$("body, html").filter(function(){return 0<$(this).scrollLeft()});return 0<t.length?t:$("body, html").scrollLeft(12).filter(function(){return 0<$(this).scrollLeft()}).scrollTop(0)},r=function(t){var e,n,r,o,i,a,u;if(null!=t.position())return null==c.scrollContainer&&(c.scrollContainer=s()),e=$("body").width(),r=(o=c.scrollContainer.scrollLeft())+e,a=t.position().left,u=t.outerWidth(!0),n=$(".page").outerWidth(!0)*$(".page").length,a<o?i=a:r<a+u?i=a-(e-u):r>$(".pages").outerWidth()&&(i=Math.min(a,n-e)),c.scrollContainer.animate({scrollLeft:i},function(){if(!$.contains(t[0],document.activeElement))return t.trigger("focus")})},c.set=function(t,e){if($(".incremental-search").remove(),t=$(t),$(".active").removeClass("active"),t.addClass("active"),!e)return r(t)}},{}],4:[function(t,e,n){"use strict";var i=t("./util"),a=t("./actionSymbols");e.exports=function(t,e){var n,r=t.parents(".page:first"),o=$('<a href="#" /> ').addClass("action").addClass(e.type||"separator").text(e.symbol||a.symbols[e.type]).attr("title",i.formatActionTitle(e)).attr("data-id",e.id||"0").attr("data-date",e.date||"0").data("action",e);if("add"===e.type&&null!=e.attribution&&(o.text(a.symbols.copyIn),null!=e.attribution.site)&&o.css("background-image","url(".concat(wiki.site(e.attribution.site).flag(),")")),"remove"===e.type&&null!=e.removedTo&&o.text(a.symbols.copyOut),0<(n=t.children(".control-buttons")).length?o.insertBefore(n):o.appendTo(t),"fork"===e.type&&null!=e.site)return o.css("background-image","url(".concat(wiki.site(e.site).flag())).attr("href","".concat(wiki.site(e.site).getDirectURL(r.attr("id")),".html")).attr("target","".concat(e.site)).data("site",e.site).data("slug",r.attr("id"))}},{"./actionSymbols":2,"./util":36}],5:[function(t,e,n){"use strict";var r=t("./neighborhood"),o=t("./neighbors"),i=t("./searchbox"),a=t("./state"),u=t("./link");$(function(){return i.inject(r),i.bind(),o.inject(r),o.bind(),window.seedNeighbors&&seedNeighbors.split(",").forEach(function(t){return r.registerNeighbor(t.trim())}),a.inject(u)})},{"./link":16,"./neighborhood":17,"./neighbors":18,"./searchbox":30,"./state":33}],6:[function(t,e,n){"use strict";var r=t("./resolve"),o=null;e.exports={emit:function(){return o=$("<div></div>").html("This dialog will show every time!").dialog({autoOpen:!1,title:"Basic Dialog",height:600,width:800})},open:function(t,e){return o.html(e),o.dialog("option","title",r.resolveLinks(t)),o.dialog("open")}}},{"./resolve":27}],7:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireDefault")(t("@babel/runtime/helpers/slicedToArray")),o=[].indexOf,i=t("url"),a=function(t){return null!=(t=t.originalEvent.dataTransfer)&&0<=o.call(t.types,"Files")?t.files[0]:null},u=function(t){return null!=(t=t.originalEvent.dataTransfer)&&null!=t.types&&(0<=o.call(t.types,"text/uri-list")||0<=o.call(t.types,"text/x-moz-url"))&&null!=(t=t.getData("URL"))&&t.length?t:null},c=function(t){var e,n;return(t=t.match(/^https?:\/\/([a-zA-Z0-9:.-]+)(\/([a-zA-Z0-9:.-]+)\/([a-z0-9-]+(_rev\d+)?))+$/))?(e={},(t=(0,r.default)(t,6))[0],n=t[1],t[2],e.site=t[3],e.slug=t[4],t[5],"view"!==(t=e.site)&&"local"!==t&&"origin"!==t||(e.site=n),e):null},s=function(t){return i.parse(t,!0,!0).pathname.match(/\.(jpg|jpeg|png)$/i)?t:null},l=function(t){return i.parse(t,!0,!0).pathname.match(/\.(svg)$/i)?t:null},f=function(t){var e=i.parse(t,!0,!0);try{"video"===e.query.source&&(e=i.parse(e.query.url,!0,!0))}catch(t){0}switch(e.hostname){case"www.youtube.com":return null!=e.query.list?{text:"YOUTUBE PLAYLIST ".concat(e.query.list)}:{text:"YOUTUBE ".concat(e.query.v)};case"youtu.be":return null!=e.query.list?{text:"YOUTUBE PLAYLIST ".concat(e.query.list)}:{text:"YOUTUBE ".concat(e.pathname.substr(1))};case"vimeo.com":return{text:"VIMEO ".concat(e.pathname.substr(1))};case"archive.org":return{text:"ARCHIVE ".concat(e.pathname.substr(e.pathname.lastIndexOf("/")+1))};case"tedxtalks.ted.com":return{text:"TEDX ".concat(e.pathname.substr(e.pathname.lastIndexOf("/")+1))};case"www.ted.com":return{text:"TED ".concat(e.pathname.substr(e.pathname.lastIndexOf("/")+1))};default:return null}};e.exports={dispatch:function(i){return function(e){var t,n,r,o=function(t){return e.preventDefault(),e.stopPropagation()};if(n=u(e)){if((r=c(n))&&null!=(t=i.page))return o(t(r));if((r=f(n))&&null!=(t=i.video))return o(t(r));if((r=s(n))&&null!=(t=i.image))return o(t(r));if((r=l(n))&&null!=(t=i.svg))return o(t(r));r={url:n}}if(n=a(e)){if(null!=(t=i.file))return o(t(n));r={file:n}}if(null!=(t=i.punt))return o(t(r=r||{dt:e.dataTransfer,types:null!=(n=e.dataTransfer)?n.types:void 0}))}}}},{"@babel/runtime/helpers/interopRequireDefault":41,"@babel/runtime/helpers/slicedToArray":45,url:78}],8:[function(t,e,n){"use strict";var o=t("./plugin"),f=t("./itemz"),i=t("./pageHandler"),p=t("./link"),a=t("./random"),d=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},h=function(a,u){var c,s,t,e,n,r,l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if("markdown"===u.type&&(s=0),$(".editEnable").is(":visible")&&(e=function(t){var e,n,r,o,i;return 27===t.which||(t.ctrlKey||t.metaKey)&&83===t.which?(t.preventDefault(),c.trigger("focusout"),!1):(t.ctrlKey||t.metaKey)&&73===t.which?(t.preventDefault(),t.shiftKey||(r=$(t.target).parents(".page")),p.doInternalLink("about ".concat(u.type," plugin"),r),!1):(t.ctrlKey||t.metaKey)&&77===t.which?(t.preventDefault(),a.removeClass(u.type).addClass(u.type="factory"),c.trigger("focusout"),!1):"paragraph"===u.type||"markdown"===u.type?(r=g(c),t.which===$.ui.keyCode.BACKSPACE&&0===r.start&&r.start===r.end?(e=a.prev(),(i=f.getItem(e)).type===u.type&&(n=i[l.field||"text"].length,o=c.val(),c.val(""),h(e,i,{caret:n,suffix:o})),!1):t.which===$.ui.keyCode.ENTER?!!r&&("markdown"===u.type&&s++,"paragraph"===u.type||"markdown"===u.type&&2===s?(e=a.parents(".page"),n=(i=c.val()).substring(0,r.start).trim(),o=i.substring(r.end).trim(),""===n?(c.val(o),c.trigger("focusout"),y(e,a.prev(),u.type,n)):(c.val(n),c.trigger("focusout"),y(e,a,u.type,o)),!1):void 0):"markdown"===u.type?s=0:void 0):void 0},t=function(){var t;if(a.removeClass("textEditing"),c.off(),t=a.parents(".page:first"),u[l.field||"text"]=c.val())if(a.removeClass("output-item"),a.removeClass(function(t,e){return(e.match(/\S+-source/)||[]).join(" ")}),o.do(a.empty(),u),l.after){if(""===u[l.field||"text"])return;i.put(t,{type:"add",id:u.id,item:u,after:l.after})}else{if(u[l.field||"text"]===n)return;i.put(t,{type:"edit",id:u.id,item:u})}else l.after||i.put(t,{type:"remove",id:u.id}),t=$(".item").index(a),a.remove(),o.renderFrom(t);return null},!a.hasClass("textEditing")))return a.addClass("textEditing"),a.off(),n=null!=(r=u[l.field||"text"])?r:"",c=$("<textarea>".concat(d(n)).concat(d(null!=(r=l.suffix)?r:""),"</textarea>")).on("focusout",t).on("keydown",e),a.html(c),l.caret?m(c,l.caret):l.append?(m(c,c.val().length),c.scrollTop(c[0].scrollHeight-c.height())):c.trigger("focus")},y=function(t,e,n,r){n={type:n,id:a.itemId(),text:r},r=$('<div class="item '.concat(n.type,'" data-id=').concat(n.id,"></div>"));return r.data("item",n).data("pageElement",t),e.after(r),t=f.getItem(e),h(r,n,{after:null!=t?t.id:void 0})},g=function(t){var e,t=t.get(0);return document.selection?(t.focus(),(e=document.selection.createRange()).moveStart("character",-t.value.length),{start:e=e.text.length,end:e}):{start:t.selectionStart,end:t.selectionEnd}},m=function(t,e){var n,t=t.get(0);if(null!=t)return t.createTextRange?((n=t.createTextRange()).move("character",e),n.select()):t.setSelectionRange(e,e),t.focus()};e.exports={textEditor:h}},{"./itemz":12,"./link":16,"./pageHandler":20,"./plugin":22,"./random":24}],9:[function(t,e,n){"use strict";var s=t("@babel/runtime/helpers/interopRequireDefault")(t("@babel/runtime/helpers/slicedToArray")),l=t("./neighborhood"),f=t("./plugin"),r=t("./resolve"),p=t("./pageHandler"),d=t("./editor"),h=t("./synopsis"),y=t("./drop"),c=t("./active"),o=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>")},g=function(t,e){var n,r,o,i;for(e=e||",",o=new RegExp("(\\"+e+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+e+"\\r\\n]*))","gi"),n=[[]],r=null;r=o.exec(t);)(i=r[1]).length&&i!==e&&n.push([]),i=r[2]?r[2].replace(new RegExp('""',"g"),'"'):r[3],n[n.length-1].push(i);return n},m=function(t){for(var e,u=t.shift(),n=function(t){for(var e={},n=_.zip(u,t),r=0,o=n.length;r<o;r++){var i=(0,s.default)(n[r],2),a=i[0];null!=(i=i[1])&&i.match(/\S/)&&"NULL"!==i&&(e[a]=i)}return e},r=[],o=0,i=t.length;o<i;o++)e=t[o],r.push(n(e));return r};e.exports={emit:function(a,u){var n;return a.append("<p>Double-Click to Edit<br>Drop Text or Image to Insert</p>"),n=function(){for(var t,e,n=a.find("p").append('<br>Or Choose a Plugin\n<center>\n<table style="text-align:left;">\n<tr><td><ul id=format><td><ul id=data><td><ul id=other>'),r=window.catalog,o=0,i=r.length;o<i;o++)(e=r[o])&&e.category&&("format"!==(t=e.category)&&"data"!==t&&(t="other"),n.find("#"+t).append('<li><a class="menu" href="#" title="'.concat(e.title,'">').concat(e.name,"</a></li>")));return n.find("a.menu").on("click",function(e){var n=e.target.text,t=n.toLowerCase();if(a.removeClass("factory").addClass(u.type=t),a.off(),e.preventDefault(),c.set(a.parents(".page")),!window.catalog.find(function(t){return n===t.name}).editor)return d.textEditor(a,u);try{return window.plugins[t].editor(a,u)}catch(t){return e=t,console.log("".concat(n," Plugin editor failed: ").concat(e,". Falling back to textEditor")),d.textEditor(a,u)}})},u.prompt?function(){return a.append("<p>".concat(r.resolveLinks(u.prompt,o),"</b>"))}():null!=window.catalog?n():wiki.origin.get("system/factories.json",function(t,e){return window.catalog=e,n()})},bind:function(o,i){var a=function(){var t;o.empty().off(),o.removeClass("factory").addClass(i.type),t=o.parents(".page:first");try{o.data("pageElement",t),o.data("item",i),f.getPlugin(i.type,function(t){return t.emit(o,i),t.bind(o,i)})}catch(t){o.append("<p class='error'>".concat(t,"</p>"))}return p.put(t,{type:"edit",id:i.id,item:i})},u=function(t){return i.prompt="Unexpected Item\nWe can't make sense of the drop.\nTry something else or see [[About Factory Plugin]].",t.userAgent=navigator.userAgent,i.punt=t,a()},t=function(n){return wiki.site(n.site).get("".concat(n.slug,".json"),function(t,e){if(!t&&(i.type="reference",i.site=n.site,i.slug=n.slug,i.title=e.title||n.slug,i.text=h(e),a(),null!=i.site))return l.registerNeighbor(i.site)})},e=function(t){return i.type="video",i.text="".concat(t.text,"\n(double-click to edit caption)\n"),a()},n=function(r){return document.documentElement.style.cursor="wait",fetch(r).then(function(t){if(t.ok)return t.blob();throw new Error("Unable to fetch image")}).then(function(t){var e=r.split("/").pop().split("#")[0].split("?")[0],n=new FileReader;return n.readAsDataURL(t),n.onload=function(t){t=t.target.result;return window.plugins.image.editor({imageDataURL:t,filename:e,imageSourceURL:r,imageCaption:"Remote image [".concat(r," source]"),$item:o,item:i})}})},r=function(e){return document.documentElement.style.cursor="wait",fetch(e).then(function(t){if(t.ok)return t;throw new Error("Unable to fetch svg")}).then(function(t){return t.text()}).then(function(t){return document.documentElement.style.cursor="default",i.type="html",i.source=e,i.text=t+"<p>[".concat(e," Source]</p>"),a()})},c=function(n){var t,r,e;if(null!=n)return e=n.type.split("/"),t=(e=(0,s.default)(e,2))[0],r=e[1],e=new FileReader,"image"===t?r.startsWith("svg")?(e.onload=function(t){t=t.target.result;return i.type="html",i.text=t,a()},e.readAsText(n)):(e.onload=function(t){t=t.target.result;return window.plugins.image.editor({imageDataURL:t,filename:n.name,imageCaption:"Uploaded image",$item:o,item:i})},e.readAsDataURL(n)):"text"===t?(e.onload=function(t){var e,t=t.target.result;return"csv"===r?(i.type="data",i.columns=(e=g(t))[0],i.data=m(e),i.text=n.fileName):(i.type="paragraph",i.text=t),a()},e.readAsText(n)):u({name:n.name,type:n.type,size:n.size,fileName:n.fileName,lastModified:n.lastModified})};return o.on("dblclick",function(t){if($(".editEnable").is(":visible"))return t.shiftKey?d.textEditor(o,i,{field:"prompt"}):(o.removeClass("factory").addClass(i.type="paragraph"),o.off(),d.textEditor(o,i))}),o.on("dragenter",function(t){return t.preventDefault()}),o.on("dragover",function(t){return t.preventDefault()}),o.on("drop",y.dispatch({page:t,file:c,video:e,image:n,svg:r,punt:u}))}}},{"./active":3,"./drop":7,"./editor":8,"./neighborhood":17,"./pageHandler":20,"./plugin":22,"./resolve":27,"./synopsis":34,"@babel/runtime/helpers/interopRequireDefault":41,"@babel/runtime/helpers/slicedToArray":45}],10:[function(t,e,n){"use strict";var s=t("./resolve"),l=t("./neighborhood"),i=t("./lineup"),a=t("./refresh");e.exports={emit:function(t,n){var e,r,o,i,a,u,c;if(t.append("".concat(n.text)),t.append('<br><br><button class="create">create</button> new blank page'),(c=null!=(c=n.create)&&null!=(c=c.source)?c.transport:void 0)&&(t.append('<br><button class="transport" data-slug='.concat(n.slug,">create</button> transport from ").concat(c)),t.append("<p class=caption> unavailable</p>"),$.get("//localhost:4020",function(){return t.find(".caption").text("ready")})),null!=(c=l.sites[location.host])&&null!=c.sitemap)for(r=0,o=(u=c.sitemap).length;r<o;r++)(i=u[r]).slug.match(/-template$/)&&t.append('<br><button class="create" data-slug='.concat(i.slug,">create</button> from ").concat(s.resolveLinks("[[".concat(i.title,"]]"))));if((null!=n.context&&0<n.context.length||isSecureContext&&!location.hostname.endsWith("localhost"))&&t.append("<p>Some possible places to look for this page, if it exists.</p>"),c=!0,null!=n.context&&0<n.context.length?(a=[],n.context.forEach(function(t){var e;if(0===wiki.neighborhood[t].lastModified)return e=wiki.asSlug(n.title),a.push("<p>\n  <img class='remote'\n    src='".concat(wiki.site(t).flag(),"' \n    title=\"").concat(t,"\">\n  <a class='internal' \n    href='http://").concat(t,"/").concat(e,".html' \n    target='_blank'>").concat(t,"</a>\n</p>"))}),0<a.length?t.append("<div>\n  <p>Try on remote wiki where it was expected to be found, opens in a new tab.</p>\n  ".concat(a.join("\n"),"\n</div>")):(c=!1,t.append("<div>\n  <p>None of the expected places were unreachable.</p>\n</div>"))):c=!1,isSecureContext&&c&&!location.hostname.endsWith("localhost"))return e=55<(c=document.URL.replace(/^https/,"http").replace(/\/\w+\/[\w-]+$/,"")).length?c.substring(0,55)+"...":c,t.append('<div>\n  <p>Try opening lineup using http, opens in a new tab.</p>\n  <p><a href="'.concat(c,"\" target=\"_blank\"><img class='remote' src='/favicon.png' title='").concat(location.host,"'> ").concat(e,"</a>.</p>\n</div>\n<div>\n  <p>\n</div>"))},bind:function(o,n){return o.find("button.transport").on("click",function(t){var e;return o.find(".caption").text("waiting"),e={title:o.parents(".page").data("data").title,create:n.create},e={type:"POST",url:n.create.source.transport,dataType:"json",contentType:"application/json",data:JSON.stringify(e)},$.ajax(e).done(function(t){var e,n,r;return o.find(".caption").text("ready"),r=wiki.newPage(t),e=o.parents(".page"),(n=i.atKey(e.data("key"))).become(r,r),t=n.getRawPage(),a.rebuildPage(n,e.empty())})})}}},{"./lineup":15,"./neighborhood":17,"./refresh":26,"./resolve":27}],11:[function(t,e,n){"use strict";var a=t("./util"),o=t("./link"),i=t("./page").newPage,u=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};e.exports={emit:function(t,e){return t.append('<p style="background-color:#eee;padding:15px;">\n  '.concat(function(t){var e,n,r,o,i=[];for(o in t)r=t[o],n="<a href=".concat(o,">").concat(u(r.title)||o,"</a>"),r.journal&&((e=r.journal[r.journal.length-1].date)?n+=" &nbsp; from ".concat(a.formatElapsedTime(e)):n+=" &nbsp; from revision ".concat(r.journal.length-1)),i.push(n);return i.join("<br>")}(e.pages),"\n</p>"))},bind:function(t,r){return t.find("a").on("click",function(t){var e,n=$(t.target).attr("href");return t.shiftKey||(e=$(t.target).parents(".page")),t=i(r.pages[n]),o.showResult(t,{$page:e}),!1})}}},{"./link":16,"./page":19,"./util":36}],12:[function(t,e,n){"use strict";var i=t("./pageHandler"),a=t("./plugin"),u=t("./random"),c=function(t,e){return setTimeout(e,t)},s=function(t){if(0<$(t).length)return $(t).data("item")||$(t).data("staticItem")};e.exports={createItem:function(t,e,n){var r,o;return null==t&&(t=e.parents(".page")),n.id=u.itemId(),(r=$('<div class="item '.concat(n.type,'" data-id=""</div>'))).data("item",n).data("pageElement",t),null!=e?e.after(r):t.find(".story").append(r),a.do(r,n),o=s(e),c(500,function(){return i.put(t,{item:n,id:n.id,type:"add",after:null!=o?o.id:void 0})}),r},removeItem:function(t,e){return i.put(t.parents(".page:first"),{type:"remove",id:e.id}),t.remove()},getItem:s,replaceItem:function(e,t,n){var r=$.extend({},n);e.empty().off(),e.removeClass(t).addClass(r.type),t=e.parents(".page:first");try{e.data("pageElement",t),e.data("item",r),a.getPlugin(n.type,function(t){return t.emit(e,r),t.bind(e,r)})}catch(t){e.append("<p class='error'>".concat(t,"</p>"))}return i.put(t,{type:"edit",id:r.id,item:r})}}},{"./pageHandler":20,"./plugin":22,"./random":24}],13:[function(t,e,n){"use strict";var f=t("./pageHandler"),p=t("./state"),c=t("./active"),d=t("./refresh"),h=t("./lineup"),r=t("./drop"),o=t("./dialog"),y=t("./link"),g=t("./target"),m=t("./license"),v=t("./plugin"),b=t("./util"),w=t("./page").asSlug,x=t("./page").newPage,i=function(t){return t.filter(function(t){return t.editor}).forEach(function(e){return console.log("".concat(e.name," Plugin declares an editor, so pre-loading the plugin")),wiki.getPlugin(e.name.toLowerCase(),function(t){if(!t.editor||"function"!=typeof t.editor)return console.log("".concat(e.name,' Plugin ERROR.\nCannot find `editor` function in plugin. Set `"editor": false` in factory.json or\nCorrect the plugin to include all three of `{emit, bind, editor}`'))})})};wiki.origin.get("system/factories.json",function(t,e){return window.catalog=e,i(e)}),$(function(){var i,s,a,l,t,u,e;return o.emit(),$(document).on("keydown",function(t){var e,n=function(){switch(t.which){case 37:return-1;case 39:return 1}}();if(n&&!$(t.target).is(":input")&&0<=(n=(e=$(".page")).index($(".active"))+n)&&n<e.length&&c.set(e.eq(n)),(t.ctrlKey||t.metaKey)&&83===t.which)return t.preventDefault(),$("input.search").trigger("focus")}),$(window).on("popstate",p.show),$(document).ajaxError(function(t,e,n){if(0!==e.status&&404!==e.status)return console.log("ajax error",t,e,n)}),i=function(t){return"".concat(t).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")},e=function(o){var t;if("application/json"===(null!=o?o.type:void 0))return(t=new FileReader).onload=function(t){var e,n,t=t.target.result,t=JSON.parse(t),r=x();return r.setTitle("Import from ".concat(o.name)),null!=t.title&&null!=t.story&&null!=t.journal?(n=w(t.title),e=t,(t={})[n]=e,r.addParagraph("Import of one page\n(".concat(i(o.size)," bytes)\nfrom a page-json file dated ").concat(o.lastModifiedDate,"."))):r.addParagraph("Import of ".concat(Object.keys(t).length," pages\n(").concat(i(o.size)," bytes)\nfrom an export file dated ").concat(o.lastModifiedDate,".")),r.addItem({type:"importer",pages:t}),y.showResult(r)},t.readAsText(o)},s=function(e,n){return f.delete(e,n,function(t){if(null==t)return e.isRecycler()||(t=d.newFuturePage(e.getTitle(),e.getCreate()),e.become(t),n.attr("id",t.getSlug()),d.rebuildPage(e,n)),n.addClass("ghost")})},t=function(t,n){return t?(console.log("getTemplate",t),f.get({whenGotten:function(t,e){return n(t)},whenNotGotten:function(){return n(null)},pageInformation:{slug:t}})):n(null)},a=function(t,e){var n;return t.preventDefault(),t.shiftKey||(n=$(t.target).parents(".page")),y.doInternalLink(e,n,$(t.target).data("site")),!1},u=null,$(".main").sortable({handle:".page-handle",cursor:"grabbing"}).on("sortstart",function(t,e){if(e.item.hasClass("page"))return c.set(e.item,!0),u=$(".page").index(e.item[0])}).on("sort",function(t,e){if(e.item.hasClass("page"))return e=e.item,t.pageY<0&&2<$(".page").length?e.addClass("pending-remove"):e.removeClass("pending-remove")}).on("sortstop",function(t,e){var n,r,o;if(e.item.hasClass("page")){if(e=e.item,o=(n=$(".page")).index($(".active")),r=$(".item").index(e.find(".item")[0]),e.hasClass("pending-remove")){if(1===n.length)return;h.removeKey(e.data("key")),e.remove(),c.set($(".page")[o])}else h.changePageIndex(e.data("key"),o),c.set($(".active")),u<o&&(o=u,r=$(".item").index($($(".page")[o]).find(".item")[0]));return v.renderFrom(r),p.setUrl(),window.debug?p.debugStates():void 0}}).on("click",".show-page-license",function(t){var e;return t.preventDefault(),e=(t=$(this).parents(".page")).find("h1").text().trim(),o.open("License for ".concat(e),m.info(t))}).on("click",".show-page-source",function(t){return t.preventDefault(),t=$(this).parents(".page"),t=h.atKey(t.data("key")).getRawPage(),o.open("JSON for ".concat(t.title),$("<pre/>").text(JSON.stringify(t,null,2)))}).on("click",".page",function(t){if(!$(t.target).is("a"))return c.set(this)}).on("click",".internal",function(t){var e=$(t.target),e=e.text()||e.data("pageName");return e="".concat(e),f.context=$(t.target).attr("title").split(" => "),a(t,e)}).on("click","img.remote",function(t){var e;return $(t.target).attr("src").startsWith("data:image/png")?(t.preventDefault(),e=$(t.target).data("site"),wiki.site(e).refresh(function(){})):(e=$(t.target).data("slug"),f.context=[$(t.target).data("site")],a(t,e))}).on("dblclick",".revision",function(t){var e,n;return t.preventDefault(),t=$(this).parents(".page"),n=(t=h.atKey(t.data("key")).getRawPage()).journal.length-1,t=t.journal[n],e=JSON.stringify(t,null,2),o.open("Revision ".concat(n,", ").concat(t.type," action"),$("<pre/>").text(e))}).on("click",".action",function(t){var e,n,r,o;return t.preventDefault(),(r=$(t.target)).is(".fork")&&null!=(n=r.data("slug"))?(f.context=[r.data("site")],a(t,n.split("_")[0])):(e=(n=$(this).parents(".page")).data("key"),o=h.atKey(e).getSlug(),(r=$(this).parent().children().not(".separator").index(r))<0?void 0:(t.shiftKey||n.nextAll().remove(),t.shiftKey||h.removeAllAfterKey(e),y.createPage("".concat(o,"_rev").concat(r),n.data("site")).appendTo($(".main")).each(function(t,e){return d.cycle($(e))}),c.set($(".page").last())))}).on("mouseenter",".action",function(t){var t=$(t.target),e=t.data().action;return t.attr("title",b.formatActionTitle(e))}).on("click",".fork-page",function(t){var e,n,r,o,i,a,u,c=$(t.target).parents(".page");if(!c.find(".future").length){if(t=h.atKey(c.data("key")),c.attr("id").match(/_rev0$/))return s(t,c);if(e={type:"fork"},c.hasClass("local")){if(f.useLocalStorage())return;c.removeClass("local")}else t.isRecycler()?c.removeClass("recycler"):t.isRemote()&&(e.site=t.getRemoteSite());for(null!=c.data("rev")&&c.find(".revision").remove(),c.removeClass("ghost"),c.attr("id",c.attr("id").replace(/_rev\d+$/,"")),p.setUrl(),n=r=0,o=(a=$(".page")).length;r<o;n=++r)i=a[n],$(i).data("key")===c.data("key")||$(i).attr("id")!==c.attr("id")||null!=(u=$(i).data("site"))&&"view"!==u&&"origin"!==u&&"local"!==u&&"recycler"!==u&&u!==location.host||$(i).addClass("ghost");return f.put(c,e)}}).on("click","button.create",function(r){return t($(r.target).data("slug"),function(t){var e,n=$(r.target).parents(".page:first");return n.removeClass("ghost"),(e=h.atKey(n.data("key"))).become(t),t=e.getRawPage(),d.rebuildPage(e,n.empty()),f.put(n,{type:"create",id:t.id,item:{title:t.title,story:t.story}})})}).on("mouseenter mouseleave",".score",function(t){return console.log("in .score..."),$(".main").trigger("thumb",$(t.target).data("thumb"))}).on("click","a.search",function(t){var o,e=$(t.target).parents(".page"),n=e.data("key"),i=h.atKey(n),r=x();return r.setTitle("Search from '".concat(i.getTitle(),"'")),r.addParagraph("Search for pages related to '".concat(i.getTitle(),"'.\nEach search on this page will find pages related in a different way.\nChoose the search of interest. Be patient.")),r.addParagraph("Find pages with links to this title."),r.addItem({type:"search",text:"SEARCH LINKS ".concat(i.getSlug())}),r.addParagraph("Find pages with titles similar to this title."),r.addItem({type:"search",text:"SEARCH SLUGS ".concat(i.getSlug())}),r.addParagraph("Find pages neighboring  this site."),r.addItem({type:"search",text:"SEARCH SITES ".concat(i.getRemoteSite(location.host))}),r.addParagraph("Find pages sharing any of these items."),r.addItem({type:"search",text:"SEARCH ANY ITEMS ".concat(function(){for(var t=i.getRawPage().story,e=[],n=0,r=t.length;n<r;n++)o=t[n],e.push(o.id);return e}().join(" "))}),t.shiftKey||e.nextAll().remove(),t.shiftKey||h.removeAllAfterKey(n),y.showResult(r)}).on("dragenter",function(t){return t.preventDefault()}).on("dragover",function(t){return t.preventDefault()}).on("drop",r.dispatch({page:function(t){return y.doInternalLink(t.slug,null,t.site)},file:e})),$(".provider input").on("click",function(){return $("footer input:first").val($(this).attr("data-provider")),$("footer form").submit()}),$("body").on("new-neighbor-done",function(t,e){return $(".page").each(function(t,e){return d.emitTwins($(e))})}),l=function(o){return new Promise(function(n,t){var r=w(o);return wiki.origin.get("".concat(r,".json"),function(t,e){return n({title:o,slug:r,type:"reference",text:(t?t.msg:null!=e?e.story[0].text:void 0)||""})})})},$("<span>&nbsp; ☰ </span>").css({cursor:"pointer"}).appendTo("footer").on("click",function(){var t,e,n,r,o,i,a,u,c,s=x();if(s.setTitle("Selected Plugin Pages"),s.addParagraph("Installed plugins offer these utility pages:"),window.catalog){for(c=[],e=0,r=(i=window.catalog).length;e<r;e++)if((t=i[e]).pages)for(n=0,o=(a=t.pages).length;n<o;n++)u=a[n],c.push(u);return Promise.all(c.map(l)).then(function(t){return t.forEach(function(t){return s.addItem(t)}),y.showResult(s)})}}),$("<span>&nbsp; wiki <span class=editEnable>✔︎</span> &nbsp; </span>").css({cursor:"pointer"}).appendTo("footer").on("click",function(){return $(".editEnable").toggle(),$(".page").each(function(){var t=$(this),e=h.atKey(t.data("key"));return d.rebuildPage(e,t.empty())})}),isAuthenticated||$(".editEnable").toggle(),g.bind(),$(function(){var t,n;return p.first(),t=$(".page").toArray(),(n=function(t){var e;if(0!==t.length)return e=$(t.shift()),d.cycle(e).then(function(){return n(t)});c.set($(".page").last())})(t)})})},{"./active":3,"./dialog":6,"./drop":7,"./license":14,"./lineup":15,"./link":16,"./page":19,"./pageHandler":20,"./plugin":22,"./refresh":26,"./state":33,"./target":35,"./util":36}],14:[function(t,e,n){"use strict";var r=t("./resolve"),o=t("./lineup"),i=function(){return'<p>\n  <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">\n  <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a>\n</p><p>\n  This work is licensed under a\n  <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">\n    Creative Commons Attribution-ShareAlike 4.0 International License\n  </a>.\n</p><p>\n  This license applies uniformly to all contributions\n  by all authors. Where authors quote other sources\n  they do so within the terms of fair use or other\n  compatiable terms.\n</p>'},a=function(t,e){var n,r,o,i,a,u,c;if(null==t.journal)return"";for(n={},i=[],o=(a=t.journal.slice(r=0).reverse()).length;r<o;r++)null!=(u=a[r]).site&&(e=u.site),null!=(null!=(c=u.attribution)?c.site:void 0)&&(e=u.attribution.site),"fork"!==u.type&&null==n[e]&&(c=wiki.site(e).getDirectURL(""),u=wiki.site(e).flag(),i.push('<a href="'.concat(c,'" target="_blank"><img class="remote" title="').concat(e,'" src="').concat(u,'"> ').concat(e,"</a>")),n[e]=!0);return 0<i.length?"<p>\n  Author's Sites:\n</p><p>\n  ".concat(i.join("<br>"),"\n</p>"):""},u=function(t){return null==(null!=t?t.provenance:void 0)?"":"<p>\n  Created From:\n</p><p>\n  ".concat(r.resolveLinks(t.provenance),"\n</p>")};e.exports={info:function(t){var t=o.atKey(t.data("key")),e=t.getRawPage(),t=t.getRemoteSite(location.hostname);return i()+a(e,t)+u(e.journal[0])}}},{"./lineup":15,"./resolve":27}],15:[function(t,e,n){"use strict";var r=[].indexOf,o=t("./random"),i={},a=[],u=function(t){return i[t]},c=function(t){return u(t).getTitle()},s=function(t){t=a.indexOf(t);return t<1?null:a[t-1]};e.exports={addPage:function(t){var e=o.randomBytes(4);return i[e]=t,a.push(e),e},changePageIndex:function(t,e){var n=a.indexOf(t);return a.splice(n,1),a.splice(e,0,t)},removeKey:function(e){return r.call(a,e)<0?null:(a=a.filter(function(t){return e!==t}),delete i[e],e)},removeAllAfterKey:function(t){var e,n=[];if(!(r.call(a,t)<0))for(;a[a.length-1]!==t;)e=a.pop(),n.unshift(e),delete i[e];return n},atKey:u,titleAtKey:c,bestTitle:function(){return a.length?c(a[a.length-1]):"Wiki"},debugKeys:function(){return a},debugReset:function(){return i={},a=[]},crumbs:function(t,e){var n=i[t],r=n.getRemoteSite(e),o=["view",n=n.getSlug()];return"welcome-visitors"!==n&&o.unshift("view","welcome-visitors"),r===e||null==(n=s(t))||(t=i[n]).isRemote()||o.push(e,t.getSlug()),o.unshift(r),o},debugSelfCheck:function(t){if("".concat(a)!=="".concat(t)&&(console.log("The lineup is out of sync with the dom."),console.log(".pages:",t),console.log("lineup:",a),"".concat(Object.keys(a).sort())==="".concat(Object.keys(t).sort())))return console.log("It looks like an ordering problem we can fix."),t}}},{"./random":24}],16:[function(t,e,n){"use strict";var o=t("./lineup"),i=t("./active"),r=t("./refresh"),t=t("./page"),a=t.asTitle,u=t.asSlug,t=t.pageEmitter,c=function(t,e){var n,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return e&&"view"!==e&&(n=e),r=r||a(t),e=$('<div class="page" id="'.concat(t,'" tabindex="-1">\n  <div class="paper">\n    <div class="twins"> <p> </p> </div>\n    <div class="header">\n      <h1> <img class="favicon" src="').concat(wiki.site(n).flag(),'" height="32px"> ').concat(r," </h1>\n    </div>\n  </div>\n</div>")),n&&e.data("site",n),e},s=function(t,e){return c(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null).appendTo(".main").each(function(t,e){return r.cycle($(e))})},l=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=u(t);return null!=e&&$(e).nextAll().remove(),null!=e&&o.removeAllAfterKey($(e).data("key")),s(r,n,t),i.set($(".page").last())},f=function(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return null!=n.$page&&$(n.$page).nextAll().remove(),null!=n.$page&&o.removeAllAfterKey($(n.$page).data("key")),e=t.getSlug(),null!=n.rev&&(e+="_rev".concat(n.rev)),(n=c(e).addClass("ghost")).appendTo($(".main")),r.buildPage(t,n),i.set($(".page").last())};t.on("show",function(t){return f(t)}),e.exports={createPage:c,doInternalLink:l,showPage:s,showResult:f}},{"./active":3,"./lineup":15,"./page":19,"./refresh":26}],17:[function(t,e,n){"use strict";var c,o,y,s,r,i=t("@babel/runtime/helpers/interopRequireDefault"),l=i(t("@babel/runtime/regenerator")),f=i(t("@babel/runtime/helpers/asyncToGenerator")),g={}.hasOwnProperty,a=t("underscore"),m=t("minisearch");e.exports=y={},y.sites={},s=0,c=function(e){return new Promise(function(t){return setTimeout(t,e)})},r=function(t,e){var n,r,o,i,a,u;if(!e.sitemapRequestInflight)return e.sitemapRequestInflight=!0,u=function(t,e,n){return $('.neighbor[data-site="'.concat(t,'"]')).find("div").removeClass(e).addClass(n)},n=function(t){return 432e5<t?432e5:t<6e4?6e4:t},a=function(r,o){var t;if(o.sitemapRequestInflight=!0,""!==(t=wiki.site(r).getURL("system/sitemap.json")))return fetch(t).then(function(){var e=(0,f.default)(l.default.mark(function t(e){var n;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o.sitemapRequestInflight=!1,e.ok)return n=Date.parse(e.headers.get("last-modified")),isNaN(n)&&(n=0),t.next=6,e.json();t.next=9;break;case 6:return t.t0=t.sent,t.t1=n,t.abrupt("return",{sitemap:t.t0,lastModified:t.t1});case 9:throw u(r,"fetch","fail"),wiki.site(r).refresh(function(){}),new Error("Unable to fetch sitemap");case 12:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}()).then(function(t){var e=t.sitemap,t=t.lastModified;t>o.lastModified&&(o.sitemap=e,o.lastModified=t,$("body").trigger("new-neighbor-done",r),i(r,o)),e=n(Math.floor((Date.now()-t)/4)),o.nextCheck=Date.now()+e,console.log("delay for ",r,e/6e4),u(r,"fetch","done"),c(e).then(function(){return u(r,"done","fetch"),a(r,o)})}).catch(function(t){console.log(r,t),u(r,"fetch","fail")});u(r,"fetch","fail")},i=function(n,r){return wiki.site(n).getIndex("system/site-index.json",function(t,e){if(t)return console.log("error loading index",n,t);try{return r.siteIndex=m.loadJSON(e,{fields:["title","content"]}),console.log(n,"index loaded")}catch(t){return console.log("error loading index - not a valid index",n)}})},r=function(){return u(t,"wait","fetch"),e.lastModified=0,a(t,e)},o=Date.now(),s<o?(s=o+500,setTimeout(r,100)):(setTimeout(r,s-o),s+=500)},y.retryNeighbor=function(t){var e;return console.log("retrying neighbor"),y.sites[t]=e={},r(t,e)},y.registerNeighbor=function(t){var e;if(null==y.sites[t])return y.sites[t]=e={},r(t,e),$("body").trigger("new-neighbor",t)},y.updateSitemap=function(t){var e,n,r,o,i,a=location.host;if((n=y.sites[a])&&!n.sitemapRequestInflight)return r=t.getSlug(),e=t.getDate(),i=t.getTitle(),o=t.getSynopsis(),t=t.getLinks(),e={slug:r,date:e,title:i,synopsis:o,links:t},0<=(o=(i=n.sitemap).findIndex(function(t){return t.slug===r}))?i[o]=e:i.push(e),$("body").trigger("new-neighbor-done",a)},y.deleteFromSitemap=function(t){var e,n,r,o,i=location.host;if((n=y.sites[i])&&!n.sitemapRequestInflight&&(o=t.getSlug(),0<=(e=(r=n.sitemap).findIndex(function(t){return t.slug===o}))))return r.splice(e),$("body").trigger("delete-neighbor-done",i)},y.listNeighbors=function(){return a.keys(y.sites)},o=function(t,e){var n,r,o,i,a;try{if(null!=e.text)switch(e.type){case"paragraph":t+=" "+e.text.replace(/\[{2}|\[(?:[\S]+)|\]{1,2}/g,"");break;case"markdown":t+=" "+e.text.replace(/\[{2}|\[(?:[\S]+)|\]{1,2}|\\n/g," ");break;case"html":t+=" "+e.text.replace(/<[^\>]*>?/g,"");break;default:if(null!=e.text)for(a=e.text.split(/\r\n?|\n/),r=0,o=a.length;r<o;r++)(i=a[r]).match(/^[A-Z]+[ ].*/)||(t+=" "+i.replace(/\[{2}|\[(?:[\S]+)|\]{1,2}/g,""))}}catch(t){throw n=t,new Error("Error extracting text from ".concat(currentIndex,", ").concat(n))}return t},y.updateIndex=function(t){var e,n,r;if(console.log("updating ".concat(t.getSlug()," in index")),e=location.host,e=y.sites[e])return n=t.getSlug(),r=t.getTitle(),t=t.getRawPage().story.reduce(o,""),e.siteIndex.has(n)?e.siteIndex.replace({id:n,title:r,content:t}):e.siteIndex.add({id:n,title:r,content:t})},y.deleteFromIndex=function(e){var n=location.host;if(n=y.sites[n]){e=e.getSlug();try{return n.siteIndex.discard(e)}catch(t){if(!(n=t).message.includes("not in the index"))return console.log("removing ".concat(e," from index failed"),n)}}},y.search=function(e){var t,n,o,r,i,a,u,c,s=[],l={},f=function(t){return null!=l[t]?l[t]++:l[t]=1},p=function(t,e){var n,r="indexing sitemap ( ".concat(t," )");return console.time(r),console.log("indexing sitemap:",t),n=new m({fields:["title","content"]}),o.sitemap.forEach(function(t){n.add({id:t.slug,title:t.title,content:t.synopsis})}),console.timeEnd(r),n},d=Date.now(),h=y.sites;for(r in h)g.call(h,r)&&(o=h[r]).sitemap&&null==o.siteIndex&&(o.siteIndex=p(r));for(r in i=location.host,a=y.sites)if(g.call(a,r)&&(o=a[r]).siteIndex){f("sites");try{null!=l.pages?l.pages+=o.sitemap.length:l.pages=o.sitemap.length}catch(t){n=t,console.info("+++ sitemap not valid for ",r),o.sitemap=[]}t=r===i?(c=20,2):(c=10,1);try{u=o.siteIndex.search(e,{boost:{title:c,content:t},prefix:!0,combineWith:"AND"})}catch(t){n=t,console.error("search index error",r,e,n),u=[]}u.forEach(function(e){return f("finds"),s.push({page:o.sitemap.find(function(t){return t.slug===e.id}),site:r,rank:e.score})})}return s.sort(function(t,e){return e.rank-t.rank}),l.msec=Date.now()-d,{finds:s,tally:l}},y.backLinks=function(n){var t,r,e,o=[],i=y.sites;for(r in i)g.call(i,r)&&(t=i[r]).sitemap&&t.sitemap.forEach(function(t,e){if(null!=t.links&&0<Object.keys(t.links).length&&Object.keys(t.links).includes(n))return o.push({slug:t.slug,title:t.title,site:r,itemId:t.links[n],date:t.date})});return e={},o.forEach(function(t){return n=t.slug,e[n]=e[n]||{},e[n].title=t.title,e[n].sites=e[n].sites||[],e[n].sites.push({site:t.site,date:t.date,itemId:t.itemId})}),e}},{"@babel/runtime/helpers/asyncToGenerator":40,"@babel/runtime/helpers/interopRequireDefault":41,"@babel/runtime/regenerator":48,minisearch:80,underscore:81}],18:[function(t,e,n){"use strict";var r,o=t("./link"),i=t("./wiki"),a=t("./neighborhood"),u=t("./util"),c=null,s=function(t){return t.hasOwnProperty("links")},l=function(t){return'<span class="neighbor" data-site="'.concat(t,'">\n  <div class="wait">\n    <img src="').concat(i.site(t).flag(),'" title="').concat(t,'">\n  </div>\n</span>')},f=function(e){var n,t="";t+="".concat(e,"\n");try{n=c[e].sitemap.length}catch(t){n=0}try{c[e].sitemap.some(s)?t+="".concat(n," pages with 2-way links\n"):t+="".concat(n," pages\n")}catch(t){console.info("+++ sitemap not valid for ",e)}return 0!==c[e].lastModified&&(t+="Updated ".concat(u.formatElapsedTime(c[e].lastModified)),0<c[e].nextCheck-Date.now())&&(t+=", next refresh ".concat(u.formatDelay(c[e].nextCheck))),t};e.exports={inject:function(t){return c=t.sites},bind:function(){var n=$(".neighborhood");return $("body").on("new-neighbor",function(t,e){return n.append(l(e))}).on("new-neighbor-done",function(t,e){try{c[e].sitemap.length}catch(t){0}return r=Object.values(a.sites).reduce(function(e,t){try{return t.sitemapRequestInflight?e:e+t.sitemap.length}catch(t){return e}},0),$(".searchbox .pages").text("".concat(r," pages"))}).on("mouseenter",".neighbor",function(t){var t=$(t.currentTarget),e=t.data().site;return t.find("img:first").attr("title",f(e))}).on("click",".neighbor img",function(t){var e;return $(t.target).parent().hasClass("fail")?($(t.target).parent().removeClass("fail").addClass("wait"),e=$(t.target).attr("title").split("\n")[0],i.site(e).refresh(function(){return console.log("about to retry neighbor"),a.retryNeighbor(e)})):o.doInternalLink("welcome-visitors",null,this.title.split("\n")[0])})}}},{"./link":16,"./neighborhood":17,"./util":36,"./wiki":37}],19:[function(t,e,n){"use strict";var u=t("./util").formatDate,c=t("./random"),s=t("./revision"),d=t("./synopsis"),h=t("underscore"),t=new(t("events").EventEmitter),y=function(t){return t.replace(/\s/g,"-").replace(/[^A-Za-z0-9-]/g,"").toLowerCase()},g=function(t){return[{symbol:"❄",date:t-316224e5,period:"a Year"},{symbol:"⚘",date:t-80352e5,period:"a Season"},{symbol:"⚪",date:t-26784e5,period:"a Month"},{symbol:"☽",date:t-6048e5,period:"a Week"},{symbol:"☀",date:t-864e5,period:"a Day"},{symbol:"⌚",date:t-36e5,period:"an Hour"}]},m=function(t,l){var e,n,r,o,i,f,a,p=t||{};return p.title||(p.title="empty"),p.story||(p.story=[]),p.journal||(p.journal=[]),a=function(t,e){for(var n,r=0,o=t.length;r<o;r++)if((n=t[r]).id===e.id&&n.date===e.date)return!1;return!0},{getRawPage:function(){return p},getContext:function(){var t,e,n,r,o,i=["view"];for(f()&&i.push(l),e=function(t){if(null!=t&&!h.include(i,t))return i.push(t)},r=(o=p.journal.slice(n=0).reverse()).length;n<r;n++)e(null!=(t=o[n])?t.site:void 0);return i},isPlugin:i=function(){return null!=p.plugin},isRemote:f=function(){return!(null==l||"view"===l||"origin"===l||"local"===l||"recycler"===l)},isLocal:function(){return"local"===l},isRecycler:function(){return"recycler"===l},getRemoteSite:n=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return f()?l:t},getRemoteSiteDetails:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=[];return(t||f())&&e.push(n(t)),i()&&e.push("".concat(p.plugin," plugin")),e.join("\n")},getSlug:o=function(){return y(p.title)},getNeighbors:function(t){var e,n,r,o,i,a,u,c,s=[];for(f()?s.push(l):null!=t&&s.push(t),r=0,i=(u=p.story).length;r<i;r++)null!=(null!=(n=u[r])?n.site:void 0)&&s.push(n.site);for(o=0,a=(c=p.journal).length;o<a;o++)null!=(null!=(e=c[o])?e.site:void 0)&&s.push(e.site);return h.uniq(s)},getTitle:function(){return p.title},getLinks:function(){var t,e=function(t,e,n,r){var o,i,a;try{for(i=/\[\[([^\]]+)\]\]/g,0;null!==(a=i.exec(e.text));)t.has(y(a[1]))||t.set(y(a[1]),e.id);"reference"!==e.type||t.has(e.slug)||t.set(e.slug,e.id)}catch(t){o=t,console.log("*** Error extracting links from ".concat(n," of ").concat(JSON.stringify(r)),o.message)}return t};try{t=p.story.reduce(e,new Map)}catch(t){e=t,console.log("+++ Extract links on ".concat(p.slug," fails"),e)}return 0<t.size?Object.fromEntries(t):{}},setTitle:function(t){return p.title=t},getRevision:r=function(){return p.journal.length-1},getDate:function(){var t=p.journal[r()];if(null!=t&&null!=t.date)return t.date},getTimestamp:function(){var t=p.journal[r()];return null!=t?null!=t.date?u(t.date):"Revision ".concat(r()):"Unrecorded Date"},getSynopsis:function(){return d(p)},addItem:e=function(t){return t=h.extend({},{id:c.itemId()},t),p.story.push(t)},getItem:function(t){for(var e,n=p.story,r=0,o=n.length;r<o;r++)if((e=n[r]).id===t)return e;return null},addParagraph:function(t){return e({type:"paragraph",text:t})},seqItems:function(r){return new Promise(function(e,t){var n=function(t){return t>=p.story.length?e():r(p.story[t]||{text:"null"},function(){return n(t+1)})};return n(0)})},seqActions:function(u){var c=0,s=g((new Date).getTime()),l=function(t){var e,n,r,o,i,a;if(!(t>=p.journal.length)){for(n=(e=p.journal[t]||{}).date||0,a=null,r=0,o=s.length;r<o;r++)(i=s[r]).date>c&&i.date<n&&(a=i);return c=n,u({action:e,separator:a},function(){return l(t+1)})}};return l(0)},become:function(t,e){if(p.story=(null!=t?t.getRawPage().story:void 0)||[],null!=e)return p.journal=null!=e?e.getRawPage().journal:void 0},siteLineup:function(){var t=o(),t="welcome-visitors"===t?"view/welcome-visitors":"view/welcome-visitors/view/".concat(t);return f()?wiki.site(l).getDirectURL(t):"/".concat(t)},merge:function(t){for(var o,e=function(){for(var t=p.journal,e=[],n=0,r=t.length;n<r;n++)o=t[n],e.push(o);return e}(),n=t.getRawPage().journal,r=0,i=n.length;r<i;r++)o=n[r],a(p.journal,o)&&e.push(o);return e.push({type:"fork",site:t.getRemoteSite(),date:(new Date).getTime()}),m(s.create(999,{title:p.title,journal:e}),l)},apply:function(t){if(s.apply(p,t),t.site)return l=null},getCreate:function(){var t=function(t){return"create"===t.type};return p.journal.reverse().find(t)}}};e.exports={newPage:m,asSlug:y,asTitle:function(t){return t.replace(/-/g," ")},pageEmitter:t}},{"./random":24,"./revision":28,"./synopsis":34,"./util":36,events:60,underscore:81}],20:[function(t,e,n){"use strict";var i,a,o,u,c,f,s=t("underscore"),l=t("./state"),p=t("./revision"),d=t("./addToJournal"),h=t("./page").newPage,y=(t("./random"),t("./lineup")),g=t("./neighborhood");e.exports=o={},i=function(t){return JSON.parse(JSON.stringify(t))},o.useLocalStorage=function(){return 0<$(".login").length},a=function(t){if(t=localStorage.getItem(t))return JSON.parse(t)},f=function(t){var o,i=t.pageInformation,a=t.whenGotten,u=t.whenNotGotten,c=t.localContext,t=i.slug,s=i.rev,l=i.site,e={get:function(n,r){return wiki.local.get(n,function(t,e){return null!=t?wiki.origin.get(n,r):(l="local",r(null,e))})}};return l?c=[]:l=c.shift(),null===(l=l===window.location.host?"origin":l)&&(l="view"),(o=function(){switch(l){case"local":return wiki.local;case"origin":return wiki.origin;case"recycler":return wiki.recycler;case"view":return e;default:return wiki.site(l)}}()).get("".concat(t,".json"),function(t,e){var n,r;return t?[403,404].includes(t.xhr.status)||0===t.xhr.status?0<c.length?f({pageInformation:i,whenGotten:a,whenNotGotten:u,localContext:c}):u():(r=o.getDirectURL(i.slug),n="The page handler has run into problems with this request.\n<pre class=error>".concat(JSON.stringify(i),"</pre>\nThe requested url.\n<pre class=error>").concat(r,"</pre>\nThe server reported status.\n<pre class=error>").concat(null!=(n=t.xhr)?n.status:void 0,"</pre>\nThe error message.\n<pre class=error>").concat(t.msg,"</pre>\nThese problems are rarely solved by reporting issues.\nThere could be additional information reported in the browser's console.log.\nMore information might be accessible by fetching the page outside of wiki.\n<a href=\"").concat(r,'" target="_blank">try-now</a>'),(t=h({title:"Trouble: Can't Get Page"},null)).addItem({type:"html",text:n}),a(t)):(s&&(e=p.create(s,e)),a(h(e,l)))})},o.get=function(t){var e,n=t.whenGotten,r=t.whenNotGotten,t=t.pageInformation;return!t.site&&(e=a(t.slug))?(t.rev&&(e=p.create(t.rev,e)),n(h(e,"local"))):(o.context.length||(o.context=["view"]),f({pageInformation:t,whenGotten:n,whenNotGotten:r,localContext:s.clone(o.context)}))},o.context=[],u=function(t,e,n){var r,o;return"create"===n.type?r={title:n.item.title,story:[],journal:[]}:(null==(r=(r=a(e.slug))||y.atKey(t.data("key")).getRawPage()).journal&&(r.journal=[]),null!=(o=n.fork)&&(r.journal=r.journal.concat({type:"fork",site:o,date:(new Date).getTime()}),delete n.fork)),p.apply(r,n),wiki.local.put(e.slug,r,function(){return d(t.find(".journal"),n),t.addClass("local")})},c=function(e,n,r){var t=i(r),o=y.atKey(e.data("key"));return"fork"===r.type&&(t.item=i(o.getRawPage())),wiki.origin.put(n.slug,t,function(t){return t?(r.error={type:t.type,msg:t.msg,response:t.xhr.responseText},u(e,n,r)):(null!=o&&o.apply&&o.apply(r),g.updateSitemap(o),g.updateIndex(o),d(e.find(".journal"),r),"fork"===r.type&&wiki.local.delete(e.attr("id")),"fork"!==r.type&&r.fork&&"image"===r.item.type?(t=e.find(".item").index(e.find("#"+r.item.id).context),wiki.renderFrom(t)):void 0)})},o.put=function(e,t){var n=function(){var t;switch(t=e.data("site")){case"origin":case"local":case"view":case location.host:return null;default:return t}},n={slug:e.attr("id").split("_rev")[0],rev:e.attr("id").split("_rev")[1],site:n(),local:e.hasClass("local")},r=n.site;return o.useLocalStorage()&&null==n.site&&!n.local&&(t.site=r=location.host),t.date=(new Date).getTime(),"origin"===t.site&&delete t.site,e.removeClass("plugin"),r&&(e.find("h1").prop("title",location.host),e.find("h1 img").attr("src","/favicon.png"),e.find("h1 a").attr("href","/view/welcome-visitors/view/".concat(n.slug)).attr("target",location.host),e.data("site",null),e.removeClass("remote"),l.setUrl(),"fork"!==t.type)&&(t.fork=r,d(e.find(".journal"),{type:"fork",site:r,date:t.date})),(o.useLocalStorage()||"local"===n.site?u:c)(e,n,t)},o.delete=function(e,t,n){return e.isRecycler()?wiki.recycler.delete("".concat(e.getSlug(),".json"),function(t){return setTimeout(function(){return n(t)},300)}):wiki.origin.delete("".concat(e.getSlug(),".json"),function(t){return setTimeout(function(){return null==t&&g.deleteFromSitemap(e),null==t&&g.deleteFromIndex(e),n(t)},300)})}},{"./addToJournal":4,"./lineup":15,"./neighborhood":17,"./page":19,"./random":24,"./revision":28,"./state":33,underscore:81}],21:[function(t,e,n){"use strict";var r=t("./editor"),u=t("./resolve"),o=t("./itemz"),i=function(t){return t.match(/<(i|b|p|a|h\d|hr|br|li|img|div|span|table|blockquote)\b.*?>/i)?"html":"markdown"};e.exports={emit:function(t,e){for(var n,r=e.text.split(/\n\n+/),o=[],i=0,a=r.length;i<a;i++)(n=r[i]).match(/\S/)?o.push(t.append("<p>".concat(u.resolveLinks(n),"</p>"))):o.push(void 0);return o},bind:function(e,n){return e.on("dblclick",function(t){return t.shiftKey?(n.type=i(n.text),o.replaceItem(e,"paragraph",n)):r.textEditor(e,n,{append:!0})})}}},{"./editor":8,"./itemz":12,"./resolve":27}],22:[function(t,e,n){"use strict";var r,o,u,i,a,c,s,l,f=[].indexOf;e.exports=s={},u=function(t){return(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},a=function(t,e){return console.log("loading url:",t),e=$.extend(e||{},{dataType:"script",cache:!0,url:t}),$.ajax(e)},l=[],c={},i=s.getScript=function(r){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};return 0<=f.call(l,r)?o():a(r).done(function(){return l.push(r),o()}).fail(function(t,e,n){return console.log("getScript: Failed to load:",r,n),o()})},s.renderFrom=function(t){var e=$(".item").slice(t),i=Promise.resolve(),o=function(t){var n,r,e;return 0===t.length?i:(e=t.shift(),(n=$(e)).hasClass("textEditing")||(r=n.data("item"),i=i.then(function(){return new Promise(function(t,e){return n.off(),s.emit(n.empty(),r,function(){return t()})})})),o(t))};return i=(i=o(e.toArray())).then(function(){var o;return i=Promise.resolve(),(o=function(t){var n,r,e;return 0===t.length?i:(e=t.shift(),n=$(e),r=n.data("item"),i=i.then(function(){return new Promise(function(e,t){return s.getPlugin(r.type,function(t){return t.bind(n,r),e()})})}),o(t))})(e.toArray())})},o=function(n){return function(t,e){return t.addClass("emit"),n(t,e)}},r=function(u,c){return function(o,e,t){var n,i,r,a;return o[0].consuming=[],r=$(".item").index(o),n=window.plugins[u].consumes,a=Promise.resolve(),n&&(i=[],n.forEach(function(t){var e=$(".item:lt(".concat(r,")")).filter(t);return e&&0!==e.length||console.log("warn: no items in lineup that produces",t),e.each(function(t,e){var n=$(e).parents(".page").data("key"),r=$(e).attr("data-id");return o[0].consuming.push("".concat(n,"/").concat(r)),i.push(e.promise)})}),a=Promise.all(i)),a.then(function(){var t;return o.removeClass("emit"),(t=c(o,e))&&"function"!=typeof t.then||(t=Promise.resolve(t)),o[0].promise=t}).catch(function(t){return console.log("plugin emit: unexpected error",t)})}},s.wrap=function(t,e){return e.emit=o(e.emit),e.bind=r(t,e.bind),e},s.get=s.getPlugin=function(n,e){return window.pluginSuccessor[n]&&(wiki.log("plugin successor",n,window.pluginSuccessor[n]),n=window.pluginSuccessor[n]),c[n]?c[n].then(e):(c[n]=new Promise(function(e,t){return window.plugins[n]?e(window.plugins[n]):i("/plugins/".concat(n,"/").concat(n,".js"),function(){var t=window.plugins[n];return t?(s.wrap(n,t),e(t)):i("/plugins/".concat(n,".js"),function(){return(t=window.plugins[n])&&s.wrap(n,t),e(t)})})}),c[n].then(function(t){return delete c[n],e(t)}),c[n])},s.do=s.doPlugin=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){};return t.data("item",e),s.renderFrom($(".item").index(t)).then(function(){return n()})},s.emit=function(r,o){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){},a=function(t,e){return r.append('<div class="error">\n  '.concat(u(o.text||""),"\n  <button>help</button><br>\n</div>")),null!=o.text&&r.find(".error").on("dblclick",function(t){return wiki.textEditor(r,o)}),r.find("button").on("click",function(){return wiki.dialog(t.toString(),'<p> This "'.concat(o.type,'" plugin won\'t show.</p>\n<li> Is it available on this server?\n<li> Is its markup correct?\n<li> Can it find necessary data?\n<li> Has network access been interrupted?\n<li> Has its code been tested?\n<p> Developers may open debugging tools and retry the plugin.</p>\n<button class="retry">retry</button>\n<p> Learn more\n  <a class="external" target="_blank" rel="nofollow"\n  href="http://plugins.fed.wiki.org/about-plugins.html"\n  title="http://plugins.fed.wiki.org/about-plugins.html">\n    About Plugins\n    <img src="/images/external-link-ltr-icon.png">\n  </a>\n</p>')),$(".retry").on("click",function(){return 2<e.emit.length?e.emit(r,o,function(){return i()}):(e.emit(r,o),i())})})};return r.data("pageElement",r.parents(".page")),r.data("item",o),s.get(o.type,function(e){var n;try{if(null==e)throw TypeError("Can't find plugin for '".concat(o.type,"'"));return 2<e.emit.length?e.emit(r,o,function(){return e.bind(r,o),i()}):(e.emit(r,o),i())}catch(t){return n=t,console.log("plugin error",n),a(n,e),i()}})},s.registerPlugin=function(t,e){return window.plugins[t]=e($)}},{}],23:[function(t,e,n){"use strict";var r=t("./plugin");window.plugins={reference:r.wrap("reference",t("./reference")),factory:r.wrap("factory",t("./factory")),paragraph:r.wrap("paragraph",t("./paragraph")),future:r.wrap("future",t("./future")),importer:r.wrap("importer",t("./importer"))},window.pluginSuccessor={federatedWiki:"reference",mathjax:"math"}},{"./factory":9,"./future":10,"./importer":11,"./paragraph":21,"./plugin":22,"./reference":25}],24:[function(t,e,n){"use strict";var o=function(){return(256*(1+Math.random())|0).toString(16).substring(1)},r=function(r){return function(){for(var t=[],e=1,n=r;1<=n?e<=n:n<=e;1<=n?e++:e--)t.push(o());return t}().join("")};e.exports={randomByte:o,randomBytes:r,itemId:function(){return r(8)}}},{}],25:[function(t,e,n){"use strict";var r=t("./editor"),o=t("./resolve"),i=t("./page");e.exports={emit:function(t,e){var n,r=e.slug;return r=(r=null!=e.title?r||i.asSlug(e.title):r)||"welcome-visitors",n=e.site,o.resolveFrom(n,function(){return t.append("<p>\n  <img class='remote'\n    src='".concat(wiki.site(n).flag(),"'\n    title='").concat(n,"'\n    data-site=\"").concat(n,'"\n    data-slug="').concat(r,'"\n  >\n  ').concat(o.resolveLinks("[[".concat(e.title||r,"]]")),"\n  —\n  ").concat(o.resolveLinks(e.text),"\n</p>"))})},bind:function(t,e){return t.on("dblclick",function(){return r.textEditor(t,e)})}}},{"./editor":8,"./page":19,"./resolve":27}],26:[function(t,e,D){"use strict";var l=t("@babel/runtime/helpers/interopRequireDefault")(t("@babel/runtime/helpers/slicedToArray")),h=t("underscore"),y=t("./pageHandler"),g=t("./plugin"),r=t("./state"),v=t("./neighborhood"),f=t("./addToJournal"),n=t("./actionSymbols"),c=t("./lineup"),m=t("./resolve"),o=t("./random"),t=t("./page"),p=t.newPage,b=t.asSlug,i=t.pageEmitter,w=function(t){if(0<$(t).length)return $(t).data("item")||$(t).data("staticItem")},x=function(t,e,n){n=$.extend({},n);return e.data("item",n),null!=(t=c.atKey(t.data("key"))).getItem(n.id)?(n.alias||(n.alias=n.id),n.id=o.itemId(),e.attr("data-id",n.id),e.data("id",n.id),e.data("item").id=n.id):null!=n.alias&&null==t.getItem(n.alias)&&(n.id=n.alias,delete n.alias,e.attr("data-id",n.id)),n},_=function(t,e){return t&&e&&t.get(0)===e.get(0)},S=function(t){return t.children().map(function(t,e){return $(e).attr("data-id")}).get()},s=function(t,e,n,r){var o,i,a,u,c,s,l,e=e.item,f=w(e),p=e.data("pageElement"),d=p.hasClass("ghost")||p.hasClass("remote");if(p.hasClass("ghost")||(a={page:p.data().data.title},null!=p.data().site&&(a.site=p.data().site)),i=(o=e.parents(".page:first")).hasClass("ghost"),c=!(s=_(p,o))&&p.attr("id")===o.attr("id"),l={page:o.data().data.title},i||c)$(t.target).sortable("cancel");else{if(!s)return d||t.shiftKey?$(".shadow-copy").removeClass("shadow-copy").data(e.data()).attr({"data-id":e.attr("data-id")}):y.put(p,{id:f.id,type:"remove",removedTo:l}),e.data("pageElement",o),i=e.prev(".item"),c=w(i),f=x(o,e,f),y.put(o,{id:f.id,type:"add",item:f,after:null!=c?c.id:void 0,attribution:a}),$(".shadow-copy").remove(),e.empty(),i.after(e),u=$(".item").index(e),g.renderFrom(u=n<u?n:u);s=S(e.parents(".story:first")),h.isEqual(s,r)||($(".shadow-copy").remove(),e.empty(),u=$(".item").index(e),g.renderFrom(u=n<u?n:u),y.put(o,{id:f.id,type:"move",order:s}))}},d=function(t,e){var n=e.item.data("pageElement"),r=n.hasClass("ghost")||n.hasClass("remote"),e=e.placeholder.parents(".page:first"),o=e.hasClass("ghost"),i=_(n,e),n=!i&&n.attr("id")===e.attr("id"),e=r||t.shiftKey&&!i;return o||n?($("body").css("cursor","no-drop"),$(".shadow-copy").hide()):e?($("body").css("cursor","copy"),$(".shadow-copy").show()):($("body").css("cursor","move"),$(".shadow-copy").hide())},a=function(t){var n=$("body").css("cursor"),e={connectWith:".page .story",placeholder:"item-placeholder",forcePlaceholderSize:!0,delay:150},r=t.find(".story"),o=null,i=null,a=null,u=function(t){if(27===t.which)return a=!0,r.sortable("cancel")};return r.sortable(e).on("sortstart",function(t,e){var n=e.item;return o=S(r),i=$(".item").index(n),a=!1,$("body").on("keydown",u),n.clone().insertAfter(e.placeholder).hide().addClass("shadow-copy").css({width:"",height:"",position:"",zIndex:""}).removeAttr("data-id")}).on("sort",d).on("sortstop",function(t,e){return $("body").css("cursor",n).off("keydown",u),a||s(t,e,i,o),$(".shadow-copy").remove()})},u=function(t){t=$(t).parents(".page:first");return c.atKey(t.data("key"))},k=function(t,e){e=u(e.draggable),t=u(t.target);return i.emit("show",t.merge(e))},j=function(t){t=t.find(".journal");return t.draggable({revert:!0,appendTo:".main",scroll:!1,helper:"clone"}),t.droppable({hoverClass:"ui-state-hover",drop:k,accept:".journal"})},A=function(e){return e.find(".add-factory").on("click",function(t){if(!e.hasClass("ghost"))return t.preventDefault(),I(e)})},I=function(t){var e={type:"factory",id:o.itemId()},n=$("<div />",{class:"item factory"}).data("item",e).attr("data-id",e.id);return n.data("pageElement",t),t.find(".story").append(n),g.do(n,e),n=n.prev(".item"),n=w(n),y.put(t,{item:e,id:e.id,type:"add",after:null!=n?n.id:void 0})},E=function(t){t.preventDefault(),c.debugSelfCheck(function(){for(var t=$(".page"),e=[],n=0,r=t.length;n<r;n++)o=t[n],e.push($(o).data("key"));return e}()),t=$(t.target).parents(".page:first");var o,e=t=c.crumbs(t.data("key"),location.host),e=(0,l.default)(e,1)[0],n=wiki.site(e).getDirectURL("").split("/"),n=(0,l.default)(n,1)[0];return""===n&&(n=window.location.protocol),window.open("".concat(n,"//").concat(t.join("/")),e).focus()},O=function(t,e,n){var r=n.isRecycler()?"recycler":n.getRemoteSite(location.host),o=n.getRemoteSiteDetails(location.host);return t.append('<h1 title="'.concat(o,'">\n  <span>\n    <a href="').concat(n.siteLineup(),'" target="').concat(r,'">\n      <img src="').concat(wiki.site(r).flag(),'" height="32px" class="favicon"></a>\n    ').concat(m.escape(n.getTitle()),"\n  </span>\n</h1>")),t.find("a").on("click",E)},C=function(t,e,n){if(e.attr("id").match(/_rev/))return e.addClass("ghost"),e.data("rev",n.getRevision()),t.append($('<h2 class="revision">\n  <span>\n    '.concat(n.getTimestamp(),"\n  </span>\n</h2>")))},T=function(t){return t.append('<div class="control-buttons">\n  <a href="#" class="button fork-page" title="fork this page">'.concat(n.fork,'</a>\n  <a href="#" class="button add-factory" title="add paragraph">').concat(n.add,"</a>\n</div>"))},M=function(t,e){var n,r,o,i,a,u,c,s,l,f,p,e=e.getSlug(),d=v.backLinks(e);if(0<Object.keys(d).length){for(c in s=[],d){for((n=d[c]).sites.sort(function(t,e){return(t.date||0)<(e.date||0)}),r=[],o=i=0,a=(l=n.sites).length;i<a;o=++i)p=l[o],o<10?(f=(null!=(f=n.sites[o-1])?f.date:void 0)===p.date?"":" ",r.unshift(f),r.unshift('<img class="remote"\n    src="'.concat(wiki.site(p.site).flag(),'"\n    data-slug="').concat(c,'"\n    data-site="').concat(p.site,'"\n    data-id="').concat(p.itemId,'"\n    title="').concat(p.site,"\n").concat(wiki.util.formatElapsedTime(p.date),'">'))):10===o&&r.unshift(" ⋯ ");u=m.resolveLinks("[[".concat(n.title,"]]")),s.push('<div style="clear: both;">\n  <div style="float: left;">'.concat(u,'</div>\n  <div style="text-align: right;"> ').concat(r.join("")," </div>\n</div>"))}if(s)return t.append("<details>\n  <summary>".concat(s.length," pages link here:</summary>\n  ").concat(s.join("\n"),"\n</details>"))}},N=function(t,e){var n=e.getRemoteSite(location.host),e=e.getSlug();return t.append('<a class="show-page-license" href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank">CC BY-SA 4.0</a> .\n<a class="show-page-source" href="'.concat(wiki.site(n).getDirectURL(e),'.json" title="source">JSON</a> .\n<a href= "').concat(wiki.site(n).getDirectURL(e),'.html" date-slug="').concat(e,'" target="').concat(n,'">').concat(n,' </a> .\n<a href= "#" class=search>search</a>'))},B=function(t){for(var e,n=t||[],r=n.length-1;0<=r;r+=-1)if((e=n[r]).date&&"fork"!==e.type)return e.date},F=function(t){var o,e,n,i,r,a,u,c,s,l,f,p,d,h,y,g,m=t.data("data");if(m&&("view"!==(d=t.data("site")||window.location.host)&&"origin"!==d||(d=window.location.host),h=b(m.title),g=B(m.journal))){for(p in e={newer:[],same:[],older:[]},l=v.sites)if(r=l[p],p!==d&&null!=r.sitemap)for(u=0,s=(f=r.sitemap).length;u<s;u++)(a=f[u]).slug===h&&(o=a.date>g?e.newer:a.date<g?e.older:e.same).push({remoteSite:p,item:a});for(c in y=[],e)(o=e[c]).length&&(o.sort(function(t,e){return t.item.date<e.item.date}),n=function(){var t,e,n=[];for(i=t=0,e=o.length;t<e;i=++t){var r=o[i];if(p=r.remoteSite,a=r.item,8<=i)break;n.push('<img class="remote"\nsrc="'.concat(wiki.site(p).flag(),'"\ndata-slug="').concat(h,'"\ndata-site="').concat(p,'"\ntitle="').concat(p,'">'))}return n}(),y.push("".concat(n.join("&nbsp;")," ").concat(c)));if(y)return t.find(".twins").html("<p><span>".concat(y.join(", "),"</span></p>"))}},z=function(t,e){e.data("data",t.getRawPage()),t.isRemote()&&e.data("site",t.getRemoteSite()),m.resolutionContext=t.getContext(),e.empty(),n=$("<div class='paper' />"),e.append(n);var n,r=["handle-parent","twins","header","story","backlinks","journal","footer"].map(function(t){if("journal"!==t||$(".editEnable").is(":visible"))return $("<div />").addClass(t).appendTo(n)}),r=(0,l.default)(r,7),o=r[0],i=(r[1],r[2]),a=r[3],u=r[4],c=r[5],r=r[6],s=$("<div />").addClass("page-handle").appendTo(o);return O(i,0,t),C(i,e,t),i=(i=t.seqItems(function(t,e){var n=$('<div class="item '.concat(t.type,'" data-id="').concat(t.id,'">'));return a.append(n),n.data("item",t),e()})).then(function(){var t=$(".page").index(e[0]),t=$(".item").index($($(".page")[t]).find(".item"));return g.renderFrom(t)}).then(function(){return e}),$(".editEnable").is(":visible")&&t.seqActions(function(t,e){return t.separator&&f(c,t.separator),f(c,t.action),e()}),F(e),M(u,t),$(".editEnable").is(":visible")&&T(c),N(r,t),s.css({height:"".concat(a.position().top-o.position().top-5,"px")}),i},U=function(t,e){if(!e.isRemote())return $("img.favicon",t).on("error",function(){return g.get("favicon",function(t){return t.create()})})},P=function(t,e){var n;return t.isLocal()&&e.addClass("local"),t.isRecycler()&&e.addClass("recycler"),t.isRemote()&&e.addClass("remote"),t.isPlugin()&&e.addClass("plugin"),n=z(t,e),U(e,t),r.setUrl(),$(".editEnable").is(":visible")&&(a(e),j(e),A(e)),n},R=function(t,e){return e.data("key",c.addPage(t)),P(t,e)},L=function(t,e){var n,r,o,i,a,u,c=b(t),s=p();for(u in s.setTitle(t),n=[],i=v.sites)null!=(a=i[u]).sitemap&&null!=(a=h.find(a.sitemap,function(t){return t.slug===c}))&&n.push({type:"reference",site:u,slug:c,title:a.title||c,text:a.synopsis||""});if(0<n.length)for(s.addItem({type:"future",text:"We could not find this page where it was expected.",title:t,create:e,context:y.context.filter(function(t){return!["view","origin","local"].includes(t)})}),s.addItem({type:"paragraph",text:"We did find possible duplicate in the current neighborhood."}),r=0,o=n.length;r<o;r++)s.addItem(n[r]);else s.addItem({type:"future",text:"We could not find this page.",title:t,create:e,context:y.context.filter(function(t){return!["view","origin","local"].includes(t)})});return s};e.exports={cycle:function(a){var u=new Promise(function(i,t){var e=a.attr("id").split("_rev"),e=(0,l.default)(e,2),n=e[0],e=e[1],r=a.find(".header h1").text().trim(),e={slug:n,rev:e,site:a.data("site")};return y.get({whenGotten:function(t){var e,n,r,o;for(u=R(t,a),e=0,n=(r=t.getNeighbors(location.host)).length;e<n;e++)o=r[e],v.registerNeighbor(o);return i(u)},whenNotGotten:function(){var t=$('a.internal[href="/'.concat(n,'.html"]:last'));return r=r||t.text()||n,t=t.parents(".page").data("key"),null!=(t=c.atKey(t))&&t.getCreate(),t=L(r),(u=R(t,a)).then(function(t){return t.addClass("ghost")}),i(u)},pageInformation:e})});return u},emitTwins:F,buildPage:R,rebuildPage:P,newFuturePage:L}},{"./actionSymbols":2,"./addToJournal":4,"./lineup":15,"./neighborhood":17,"./page":19,"./pageHandler":20,"./plugin":22,"./random":24,"./resolve":27,"./state":33,"@babel/runtime/helpers/interopRequireDefault":41,"@babel/runtime/helpers/slicedToArray":45,underscore:81}],27:[function(t,e,n){"use strict";var a,u,c=t("./page").asSlug;e.exports=u={},u.resolutionContext=[],u.escape=a=function(t){return(t||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},u.resolveFrom=function(t,e){u.resolutionContext.push(t);try{return e()}finally{u.resolutionContext.pop()}},u.resolveLinks=function(t){var n=[],o=function(t){var e=n.length;return n.push(t),"〖".concat(e,"〗")},e=function(t,e){return n[+e]},r=function(t,e){var n=c(e);return n.length?o('<a class="internal" href="/'.concat(n,'.html" data-page-name="').concat(n,'" title="').concat(u.resolutionContext.join(" => "),'">').concat(a(e),"</a>")):t},i=function(t,e,n,r){return o('<a class="external" target="_blank" href="'.concat(e,'" title="').concat(e,'" rel="nofollow">').concat(a(r),' <img src="/images/external-link-ltr-icon.png"></a>'))};return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:a)(t=(t||"").replace(/〖(\d+)〗/g,"〖 $1 〗").replace(/\[\[([^\]]+)\]\]/gi,r).replace(/\[((http|https|ftp):.*?) (.*?)\]/gi,i)).replace(/〖(\d+)〗/g,e)}},{"./page":19}],28:[function(t,e,n){"use strict";var u=function(i,e){var t,n,r=function(){for(var t,e=i.story||[],n=[],r=0,o=e.length;r<o;r++)t=e[r],n.push(null!=t?t.id:void 0);return n},o=function(t,e){t=r().indexOf(t)+1;return i.story.splice(t,0,e)},a=function(){var t;if(-1!==(t=r().indexOf(e.id)))return i.story.splice(t,1)};switch(i.story||(i.story=[]),e.type){case"create":null!=e.item&&(null!=e.item.title&&(i.title=e.item.title),null!=e.item.story)&&(i.story=e.item.story.slice());break;case"add":o(e.after,e.item);break;case"edit":-1!==(t=r().indexOf(e.id))?i.story.splice(t,1,e.item):i.story.push(e.item);break;case"move":t=e.order.indexOf(e.id),t=e.order[t-1],n=i.story[r().indexOf(e.id)],a(),o(t,n);break;case"remove":a()}return i.journal||(i.journal=[]),e.fork&&i.journal.push({type:"fork",site:e.fork}),i.journal.push(e)};e.exports={create:function(t,e){for(var n,r=e.journal.slice(0,+(t=+t)+1||9e9),o={title:e.title,story:[]},i=0,a=r.length;i<a;i++)n=r[i],u(o,n||{});return o},apply:u}},{}],29:[function(t,e,n){"use strict";var y=t("./pageHandler"),g=t("./random"),c=t("./link"),s=(t("./active"),t("./page").newPage),o=t("./resolve"),i=t("./page"),l=function(t){return JSON.parse(JSON.stringify(t))},m=function(t,e){var n,r=e.slug;return r=(r=null!=e.title?r||i.asSlug(e.title):r)||"welcome-visitors",n=e.site,o.resolveFrom(n,function(){return t.append("<p>\n  <img class='remote'\n    src='".concat(wiki.site(n).flag(),"'\n    title='").concat(n,"'\n    data-site=\"").concat(n,'"\n    data-slug="').concat(r,'"\n  >\n  ').concat(o.resolveLinks("[[".concat(e.title||r,"]]")),"\n  —\n  ").concat(o.resolveLinks(e.text),"\n</p>"))})},v=function(t,e){return t.preventDefault(),t.shiftKey||(i=$(t.target).parents(".page")),c.doInternalLink(e,i,$(t.target).data("site")),!1};e.exports=function(t){var h=t.neighborhood;return{incrementalSearch:function(t){var e,n,r,o,i,a,u,c,s,l,f,p,d;if(!(t.length<2)){for(0===$(".incremental-search").length&&(u=$(".searchbox").position(),$("<div/>").css("left","".concat(u.left,"px")).css("bottom","".concat(u.top+$(".searchbox").height(),"px")).addClass("incremental-search").on("click",".internal",function(t){var e;return"SPAN"===t.target.nodeName&&(t.target=$(t.target).parent()[0]),e=$(t.target).data("pageName"),e="".concat(e),y.context=$(t.target).attr("title").split(" => "),v(t,e)}).on("click","img.remote",function(t){var e;return $(t.target).attr("src").startsWith("data:image/png")?(t.preventDefault(),e=$(t.target).data("site"),wiki.site(e).refresh(function(){})):(e=$(t.target).data("slug"),y.context=[$(t.target).data("site")],v(t,e))}).appendTo($(".searchbox"))),p=h.search(t),d=t.split(" ").map(function(t){return t.toLowerCase()}).filter(String),f=new RegExp("\\b("+t.split(" ").map(function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}).filter(String).join("|")+")","i"),o=function(t){return t.split(f).map(function(t){return d.includes(t.toLowerCase())?"{{".concat(t,"}}"):t}).join("")},n=$(".incremental-search").empty(),p.finds&&0!==p.finds.length||$("<div/>").text("No results found").addClass("no-results").appendTo(n),l=[],i=r=0,a=(c=p.finds).length;i<a;i++)s=c[i],101===(r+=1)&&$("<div/>").text("".concat(p.finds.length-100," results omitted")).addClass("omitted-results").appendTo(n),100<r||(e=$("<div/>").appendTo(n),s={id:g.itemId(),type:"reference",site:s.site,slug:s.page.slug,title:o(s.page.title),text:o(s.page.synopsis)},m(e,s),l.push(e.html(e.html().split(new RegExp("({{.*?}})","i")).map(function(t){return 0===t.indexOf("{{")?"<span class='search-term'>".concat(t.substring(2,t.length-2),"</span>"):t}).join(""))));return l}$(".incremental-search").remove()},performSearch:function(t){var e,n,r,o,i,a,u=h.search(t);if(!u.finds||1!==u.finds.length){for($(".incremental-search").remove(),a=u.tally,(i={}).title="Search for '".concat(t,"'"),i.story=[],i.story.push({type:"paragraph",id:g.itemId(),text:"String '".concat(t,"' found on ").concat(a.finds||"none"," of ").concat(a.pages||"no"," pages from ").concat(a.sites||"no"," sites.\nText matched on ").concat(a.title||"no"," titles, ").concat(a.text||"no"," paragraphs, and ").concat(a.slug||"no"," slugs.\nElapsed time ").concat(a.msec," milliseconds.")}),e=0,n=(r=u.finds).length;e<n;e++)o=r[e],i.story.push({type:"reference",site:o.site,slug:o.page.slug,title:o.page.title,text:o.page.synopsis||""});return i.journal=[{type:"create",item:{title:i.title,story:l(i.story)},date:Date.now()}],t=s(i),c.showResult(t)}$(".incremental-search").find(".internal").trigger("click"),$(".incremental-search").remove()}}}},{"./active":3,"./link":16,"./page":19,"./pageHandler":20,"./random":24,"./resolve":27}],30:[function(t,e,n){"use strict";var r=t("./search"),o=null;e.exports={inject:function(t){return o=r({neighborhood:t})},bind:function(){return $("input.search").attr("autocomplete","off"),$("input.search").on("keydown",function(t){if(27===t.keyCode)return $(".incremental-search").remove()}),$("input.search").on("keypress",function(t){if(13===t.keyCode)return t=$(this).val(),o.performSearch(t),$(this).val("")}),$("input.search").on("focus",function(t){var e=$(this).val();return o.incrementalSearch(e)}),$("input.search").on("input",function(t){var e=$(this).val();return o.incrementalSearch(e)})}}},{"./search":29}],31:[function(t,e,n){"use strict";var r;e.exports={},r=t("./plugin"),e.exports=function(t){return r.getScript("/security/security.js",function(){return window.plugins.security.setup(t)})}},{"./plugin":22}],32:[function(t,e,n){"use strict";var u,c,i,s,r,l,f,o,p,a=t("async/queue"),t=t("localforage");e.exports=r={},l={},u={},f={},console.log("siteAdapter: loading data"),(s=t.createInstance({name:"routes"})).iterate(function(t,e,n){l[e]=t}).then(function(){return console.log("siteAdapter: data loaded")}).catch(function(t){return console.log("siteAdapter: error loading data ",t)}),(p=t.createInstance({name:"withCredentials"})).iterate(function(t,e,n){u[e]=t}).then(function(){return console.log("siteAdapter: withCredentials data loaded")}).catch(function(t){return console.log("siteAdapter: error loading withCredentials data ",t)}),o=function(n,t,e){var r=new Promise(function(t,e){var n;return n=setTimeout(function(){return clearTimeout(n),e()},3e3)}),o=new Promise(function(t,e){return $.ajax({type:"GET",url:n,success:function(){return t()},error:function(){return e()}})});return Promise.race([r,o]).then(function(){return t()}).catch(function(){return e()})},i=a(function(t,e){var n,r=t.site;return null!=l[r]&&e(l[r]),n=("localhost"===r.split(".").at(-1)?"http://":"//").concat(r,"/favicon.png"),o(n,function(){return l[r]=n.slice(0,-12),e(n.slice(0,-12))},function(){switch(location.protocol){case"http:":return n="https://".concat(r,"/favicon.png"),o(n,function(){return l[r]="https://".concat(r),e("https://".concat(r))},function(){return e(l[r]="")});case"https:":return n="/proxy/".concat(r,"/favicon.png"),o(n,function(){return l[r]="/proxy/".concat(r),e("/proxy/".concat(r))},function(){return e(l[r]="")});default:return e(l[r]="")}})},8),c=function(n,r){return s.getItem(n).then(function(t){return null==t?i.push({site:n},function(e){return l[n]=e,s.setItem(n,e).then(function(t){return r(e)}).catch(function(t){return console.log("findAdapter setItem error: ",n,t),r(e)})}):r(l[n]=t)}).catch(function(t){return console.log("findAdapter error: ",n,t),r(l[n]="")})},r.local={flag:function(){return"/favicon.png"},getURL:function(t){return"/".concat(t)},getDirectURL:function(t){return"/".concat(t)},get:function(t,n){var e,r=function(t,e){if(n)return n(t,e)};if(e=localStorage.getItem(t.replace(/\.json$/,""))){if(r(null,e=JSON.parse(e)),!n)return Promise.resolve(e)}else if(r(e={msg:"no page named '".concat(t,"' in browser local storage")},null),!n)return Promise.reject(e)},put:function(t,e,n){return localStorage.setItem(t,JSON.stringify(e)),n()},delete:function(t){return localStorage.removeItem(t)}},r.origin={flag:function(){return"/favicon.png"},getURL:function(t){return"/".concat(t)},getDirectURL:function(t){return"/".concat(t)},get:function(t,n){var r=function(t,e){if(n)return n(t,e)};return $.ajax({type:"GET",dataType:"json",url:"/".concat(t),success:function(t){return r(null,t)},error:function(t,e,n){return r({msg:n,xhr:t},null)}})},getIndex:function(t,n){var r=function(t,e){if(n)return n(t,e)};return $.ajax({type:"GET",dataType:"text",url:"/".concat(t),success:function(t){return r(null,t)},error:function(t,e,n){return r({msg:n,xhr:t},null)}})},put:function(t,e,r){return $.ajax({type:"PUT",url:"/page/".concat(t,"/action"),data:{action:JSON.stringify(e)},success:function(){return r(null)},error:function(t,e,n){return r({xhr:t,type:e,msg:n})}})},delete:function(t,r){return $.ajax({type:"DELETE",url:"/".concat(t),success:function(){return r(null)},error:function(t,e,n){return r({xhr:t,type:e,msg:n})}})}},r.recycler={flag:function(){return"/recycler/favicon.png"},getURL:function(t){return"/recycler/".concat(t)},getDirectURL:function(t){return"/recycler/".concat(t)},get:function(t,n){var r=function(t,e){if(n)return n(t,e)};return $.ajax({type:"GET",dataType:"json",url:"/recycler/".concat(t),success:function(t){return r(null,t)},error:function(t,e,n){return r({msg:n,xhr:t},null)}})},delete:function(t,r){return $.ajax({type:"DELETE",url:"/recycler/".concat(t),success:function(){return r(null)},error:function(t,e,n){return r({xhr:t,type:e,msg:n})}})}},r.site=function(a){var e;return a&&a!==window.location.host?"recycler"===a?r.recycler:(e=function(t){var e,n,r,o,i,a,u,c=document.createElement("canvas");return c.width=32,c.height=32,r=c.getContext("2d"),a=o=32*Math.random(),i=32-(u=32*Math.random()),e="#"+(e=(255*Math.random()<<0).toString(16))+e+e,n="#"+(n=(255*Math.random()<<0).toString(16))+n+n,(o=r.createRadialGradient(o,a,32,i,u,0)).addColorStop(0,e),o.addColorStop(1,n),r.fillStyle=o,r.fillRect(0,0,32,32),c.toDataURL()},{flag:function(){var t;return null!=l[a]?""===l[a]?null!=f[a]?f[a]:f[a]=e():l[a]+"/favicon.png":null!=f[a]?f[a]:(c(a,function(t){var e;return""===t?console.log("Prefix for ".concat(a," is undetermined...")):(console.log("Prefix for ".concat(a," is ").concat(t)),t=f[a],e=l[a]+"/favicon.png",$('img[src="'+t+'"]').attr("src",e),$('a[target="'+a+'"]').attr("style","background-image: url("+e+")"),f[a]=null)}),t=e(),f[a]=t)},getURL:function(t){return null!=l[a]?""===l[a]?(console.log("".concat(a," is unreachable, can't link to ").concat(t)),""):"".concat(l[a],"/").concat(t):(c(a,function(e){return""===e?console.log("".concat(a," is unreachable")):(console.log("Prefix for ".concat(a," is ").concat(e,", about to fixup links")),$('a[target="'+a+'"]').each(function(){var t=/proxy/.test(e)?(t=e.substring(7),"http://".concat(t)):e;return $(this).attr("href","".concat(t,"/").concat($(this).data("slug"),".html"))}))}),"")},getDirectURL:function(t){var e,n;return null!=l[a]?""===l[a]?(console.log("".concat(a," is unreachable, can't link to ").concat(t)),""):(e=/proxy/.test(l[a])?(n=l[a].substring(7),"http://".concat(n)):l[a],"".concat(e,"/").concat(t)):(c(a,function(t){return""===t?console.log("".concat(a," is unreachable")):(console.log("Prefix for ".concat(a," is ").concat(t,", about to fixup links")),$('a[target="'+a+'"]').each(function(){return e=/proxy/.test(t)?(n=t.substring(7),"http://".concat(n)):t,$(this).attr("href","".concat(e,"/").concat($(this).data("slug"),".html"))}))}),"")},get:function(e,o){var n,r=function(t,e){if(o)return o(t,e)},i=function(e,r){var n="".concat(l[a],"/").concat(e),t=u[a]||!1;return $.ajax({type:"GET",dataType:"json",url:n,xhrFields:{withCredentials:t},success:function(t){return"Login Required"!==t.title||n.includes("login-required")||!0===u[a]?(r(null,t),o?void 0:Promise.resolve(t)):(u[a]=!0,i(e,function(t,e){return t?u[a]=!1:p.setItem(a,!0),r(t,e)}))},error:function(t,e,n){if(r({msg:n,xhr:t},null),!o)return Promise.reject(n)}})};return null!=l[a]?""!==l[a]?i(e,r):(console.log("".concat(a," is unreachable")),n={msg:"".concat(a," is unreachable"),xhr:{status:0}},r(n,null),o?void 0:Promise.reject(n)):c(a,function(t){return""!==t?i(e,r):(console.log("".concat(a," is unreachable")),n={msg:"".concat(a," is unreachable"),xhr:{status:0}},r(n,null),o?void 0:Promise.reject(n))})},getIndex:function(e,o){var n,r=function(t,e){if(o)return o(t,e)},i=function(e,r){var n="".concat(l[a],"/").concat(e),t=u[a]||!1;return $.ajax({type:"GET",dataType:"text",url:n,xhrFields:{withCredentials:t},success:function(t){return"Login Required"!==t.title||n.includes("login-required")||!0===u[a]?(r(null,t),o?void 0:Promise.resolve(t)):(u[a]=!0,i(e,function(t,e){return t?u[a]=!1:p.setItem(a,!0),r(t,e)}))},error:function(t,e,n){if(r({msg:n,xhr:t},null),!o)return Promise.reject(n)}})};return null!=l[a]?""!==l[a]?i(e,r):(console.log("".concat(a," is unreachable")),n={msg:"".concat(a," is unreachable"),xhr:{status:0}},r(n,null),o?void 0:Promise.reject(n)):c(a,function(t){return""!==t?i(e,r):(console.log("".concat(a," is unreachable")),n={msg:"".concat(a," is unreachable"),xhr:{status:0}},r(n,null),o?void 0:Promise.reject(n))})},refresh:function(n){var r,o;return console.log("Refreshing ".concat(a)),null==f[a]&&(o=e(),f[a]=o,r=l[a]+"/favicon.png",$('img[src="'+r+'"]').attr("src",o),$('a[target="'+a+'"]').attr("style","background-image: url("+o+")")),l[a]=null,s.removeItem(a).then(function(){return i.push({site:a},function(e){return s.setItem(a,e).then(function(t){return""===e?console.log("Refreshed prefix for ".concat(a," is undetermined...")):(console.log("Refreshed prefix for ".concat(a," is ").concat(e)),o=f[a],r=l[a]+"/favicon.png",$('img[src="'+o+'"]').attr("src",r),$('a[target="'+a+'"]').attr("style","background-image: url("+r+")")),n()}).catch(function(t){return console.log("findAdapter setItem error: ",a,t),l[a]="",n()})})}).catch(function(t){return console.log("refresh error ",a,t),n()})}}):r.origin}},{"async/queue":56,localforage:79}],33:[function(t,e,n){"use strict";var p,c=[].indexOf,d=t("./active"),h=t("./lineup"),y=null;e.exports=p={},p.inject=function(t){return y=t},p.pagesInDom=function(){return $.makeArray($(".page").map(function(t,e){return e.id}))},p.urlPages=function(){var o;return function(){for(var t=$(location).attr("pathname").split("/"),e=[],n=0,r=t.length;n<r;n+=2)o=t[n],e.push(o);return e}().slice(1)},p.locsInDom=function(){return $.makeArray($(".page").map(function(t,e){return $(e).data("site")||"view"}))},p.urlLocs=function(){for(var t,e=$(location).attr("pathname").split("/").slice(1),n=[],r=0,o=e.length;r<o;r+=2)t=e[r],n.push(t);return n},p.setUrl=function(){var r,o,i,a,t;if(document.title=h.bestTitle(),history&&history.pushState&&(o=p.locsInDom(),a=p.pagesInDom(),(t=function(){var t,e,n=[];for(r=t=0,e=a.length;t<e;r=++t)i=a[r],n.push("/".concat((null!=o?o[r]:void 0)||"view","/").concat(i));return n}().join(""))!==$(location).attr("pathname")))return history.pushState(null,null,t)},p.debugStates=function(){var o;return console.log("a .page keys ",function(){for(var t=$(".page"),e=[],n=0,r=t.length;n<r;n++)o=t[n],e.push($(o).data("key"));return e}()),console.log("a lineup keys",h.debugKeys())},p.show=function(t){var e,n,r,o,i,a,u,c,s=p.pagesInDom(),l=p.urlPages(),f=(p.locsInDom(),p.urlLocs());if(location.pathname&&"/"!==location.pathname){for(a=!0,e=n=0,o=s.length;n<o;e=++n)u=s[e],(a=a&&u===l[e])||(c=$(".page:last"),h.removeKey(c.data("key")),c.remove());for(a=!0,e=r=0,i=l.length;r<i;e=++r)u=l[e],(a=a&&u===s[e])||y.showPage(u,f[e]);return window.debug&&p.debugStates(),d.set($(".page").last()),document.title=h.bestTitle()}},p.first=function(){var t,e,n,r,o,i,a,u;for(p.setUrl(),e=p.urlPages(),t=p.urlLocs(),i=p.pagesInDom(),a=[],n=r=0,o=e.length;r<o;n=++r)u=e[n],c.call(i,u)<0&&a.push(""!==u?y.createPage(u,t[n]):void 0);return a}},{"./active":3,"./lineup":15}],34:[function(t,e,n){"use strict";e.exports=function(t){var e,n,r=t.synopsis;return(r=(r=null!=t&&null!=t.story?(e=t.story[0],n=t.story[1],e&&"paragraph"===e.type&&(r=r||e.text),n&&"paragraph"===n.type&&(r=r||n.text),e&&null!=e.text&&(r=r||e.text),(r=n&&null!=n.text?r||n.text:r)||null!=t.story&&"A page with ".concat(t.story.length," items.")):"A page with no story.").trim().split(/\r|\n/,1)[0]).substring(0,560)}},{}],35:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireDefault")(t("@babel/runtime/helpers/slicedToArray")),o=!1,i=null,a=null,u=null,c=null,s=function(t){if((o=t.shiftKey)&&($(".emit").addClass("highlight"),(t=i||u)&&$("[data-id=".concat(t,"]")).addClass("target"),a)&&(c=a.consuming))return c.forEach(function(t){return p(t).addClass("consumed")})},l=function(t){if(!(o=t.shiftKey))return $(".emit").removeClass("highlight"),$(".item, .action").removeClass("target"),$(".item").removeClass("consumed")},f=function(n){var t=$(".page").filter(function(t,e){return $(e).data("key")===n});return 0===t.length?null:(1<t.length&&console.log("warning: more than one page found for",key,t),t)},p=function(t){var e=t.split("/"),e=(0,r.default)(e,2),n=e[0],e=e[1],n=f(n);return!n||0===(n=n.find(".item[data-id=".concat(e,"]"))).length?null:(1<n.length&&console.log("warning: more than one item found for",t,n),n)},d=function(t){var e,n;if(i=(n=$(this)).attr("data-id"),a=n[0],o&&($("[data-id=".concat(i,"]")).addClass("target"),e=$(this).parents(".page:first").data("key"),n=n.offset().top,$(".page").trigger("align-item",{key:e,id:i,place:n}),c=a.consuming))return c.forEach(function(t){return p(t).addClass("consumed")})},h=function(t){return o&&($(".item, .action").removeClass("target"),$(".item").removeClass("consumed")),a=i=null},y=function(t){var e;if(u=$(this).data("id"),o)return $("[data-id=".concat(u,"]")).addClass("target"),e=$(this).parents(".page:first").data("key"),$(".page").trigger("align-item",{key:e,id:u})},g=function(t){return o&&$("[data-id=".concat(u,"]")).removeClass("target"),u=null},m=function(t){var e,n;if(i=(n=$(this)).attr("data-id"),a=n[0],o)return $("[data-id=".concat(i,"]")).addClass("target"),e=$(this).parents(".page:first").data("key"),n=n.offset().top,$(".page").trigger("align-item",{key:e,id:i,place:n})},v=function(t){return o&&$(".item, .action").removeClass("target"),a=i=null},b=function(t,e){var n,r=$(this);if(r.data("key")!==e.key&&(n=r.find(".item[data-id=".concat(e.id,"]"))).length)return e=e.place||r.height()/2,n=n.offset().top+r.scrollTop()-e,r.stop().animate({scrollTop:n},"slow")};e.exports={bind:function(){return $(document).on("keydown",function(t){if(16===t.keyCode)return s(t)}).on("keyup",function(t){if(16===t.keyCode)return l(t)}),$(".main").on("mouseenter",".item",d).on("mouseleave",".item",h).on("mouseenter",".action",y).on("mouseleave",".action",g).on("align-item",".page",b).on("mouseenter",".backlinks .remote",m).on("mouseleave",".backlinks .remote",v)}}},{"@babel/runtime/helpers/interopRequireDefault":41,"@babel/runtime/helpers/slicedToArray":45}],36:[function(t,e,n){"use strict";var r;e.exports=r={},r.formatTime=function(t){var e,t=new Date(1e10<t?t:1e3*t),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],r=t.getHours(),o=r<12?"AM":"PM";return r=0===r?12:12<r?r-12:r,e=(t.getMinutes()<10?"0":"")+t.getMinutes(),"".concat(r,":").concat(e," ").concat(o,"<br>").concat(t.getDate()," ").concat(n," ").concat(t.getFullYear())},r.formatDate=function(t){var e,t=new Date(t),n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t.getDay()],r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],o=t.getDate(),i=t.getFullYear(),a=t.getHours(),u=a<12?"AM":"PM";return a=0===a?12:12<a?a-12:a,e=(t.getMinutes()<10?"0":"")+t.getMinutes(),t=(t.getSeconds()<10?"0":"")+t.getSeconds(),"".concat(n," ").concat(r," ").concat(o,", ").concat(i,"<br>").concat(a,":").concat(e,":").concat(t," ").concat(u)},r.formatActionTitle=function(t){var e,n="";return null!=t.site&&(n+="".concat(t.site,"\n")),n+=t.type||"separator",null!=t.date&&(n+=" ".concat(r.formatElapsedTime(t.date))),null!=(null!=(e=t.attribution)?e.page:void 0)&&(n+="\nfrom ".concat(t.attribution.page)),null!=(null!=(e=t.removedTo)?e.page:void 0)&&(n+="\nto ".concat(t.removedTo.page)),n},r.formatElapsedTime=function(t){var e,n,t=(new Date).getTime()-t;return(n=t/1e3)<2?"".concat(Math.floor(t)," milliseconds ago"):(t=n/60)<2?"".concat(Math.floor(n)," seconds ago"):(n=t/60)<2?"".concat(Math.floor(t)," minutes ago"):(t=n/24)<2?"".concat(Math.floor(n)," hours ago"):(n=t/7)<2?"".concat(Math.floor(t)," days ago"):(e=t/31)<2?"".concat(Math.floor(n)," weeks ago"):(n=t/365)<2?"".concat(Math.floor(e)," months ago"):"".concat(Math.floor(n)," years ago")},r.formatDelay=function(t){var e,t=t-Date.now();return(e=t/1e3)<2?"in ".concat(Math.floor(t)," milliseconds"):(t=e/60)<2?"in ".concat(Math.floor(e)," seconds"):(e=t/60)<2?"in ".concat(Math.floor(t)," minutes"):"in ".concat(Math.floor(e)," hours")}},{}],37:[function(t,e,n){"use strict";var r={},o=t("./siteAdapter");r.local=o.local,r.origin=o.origin,r.recycler=o.recycler,r.site=o.site,r.asSlug=t("./page").asSlug,r.newPage=t("./page").newPage,o=t("./itemz"),r.removeItem=o.removeItem,r.createItem=o.createItem,r.getItem=o.getItem,o=t("./dialog"),r.dialog=o.open,o=t("./link"),r.createPage=o.createPage,r.doInternalLink=o.doInternalLink,r.showResult=o.showResult,o=t("./plugin"),r.getScript=o.getScript,r.getPlugin=o.getPlugin,r.doPlugin=o.doPlugin,r.registerPlugin=o.registerPlugin,r.renderFrom=o.renderFrom,r.getData=function(t){var e;return t?(t=$(".item").index(t),null!=(e=$(".item:lt(".concat(t,")")).filter(".chart,.data,.calculator").last())?e.data("item").data:{}):null!=(e=$(".chart,.data,.calculator").last())?e.data("item").data:{}},r.getDataNodes=function(t){t=(t?(t=$(".item").index(t),$(".item:lt(".concat(t,")")).filter(".chart,.data,.calculator")):$(".chart,.data,.calculator")).toArray().reverse();return $(t)},r.log=function(){var t;if(null!=("undefined"!=typeof console&&null!==console?console.log:void 0))return(t=console).log.apply(t,arguments)},o=t("./neighborhood"),r.neighborhood=o.sites,r.neighborhoodObject=o,o=t("./pageHandler"),r.pageHandler=o,r.useLocalStorage=o.useLocalStorage,o=t("./resolve"),r.resolveFrom=o.resolveFrom,r.resolveLinks=o.resolveLinks,r.resolutionContext=o.resolutionContext,o=t("./editor"),r.textEditor=o.textEditor,r.util=t("./util"),r.security=t("./security"),r.createSynopsis=t("./synopsis"),r.lineup=t("./lineup"),e.exports=r},{"./dialog":6,"./editor":8,"./itemz":12,"./lineup":15,"./link":16,"./neighborhood":17,"./page":19,"./pageHandler":20,"./plugin":22,"./resolve":27,"./security":31,"./siteAdapter":32,"./synopsis":34,"./util":36}],38:[function(t,e,n){e.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},{}],39:[function(t,e,n){e.exports=function(t){if(Array.isArray(t))return t},e.exports.__esModule=!0,e.exports.default=e.exports},{}],40:[function(t,e,n){function c(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}e.exports=function(u){return function(){var t=this,a=arguments;return new Promise(function(e,n){var r=u.apply(t,a);function o(t){c(r,e,n,o,i,"next",t)}function i(t){c(r,e,n,o,i,"throw",t)}o(void 0)})}},e.exports.__esModule=!0,e.exports.default=e.exports},{}],41:[function(t,e,n){e.exports=function(t){return t&&t.__esModule?t:{default:t}},e.exports.__esModule=!0,e.exports.default=e.exports},{}],42:[function(t,e,n){e.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){s=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}},e.exports.__esModule=!0,e.exports.default=e.exports},{}],43:[function(t,e,n){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},{}],44:[function(t,k,e){var j=t("./typeof.js").default;function n(){"use strict";k.exports=function(){return a},k.exports.__esModule=!0,k.exports.default=k.exports;var a={},t=Object.prototype,c=t.hasOwnProperty,s=Object.defineProperty||function(t,e,n){t[e]=n.value},e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function i(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{i({},"")}catch(t){i=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o,i,a,u,e=e&&e.prototype instanceof p?e:p,e=Object.create(e.prototype),r=new x(r||[]);return s(e,"_invoke",{value:(o=t,i=n,a=r,u="suspendedStart",function(t,e){if("executing"===u)throw new Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return S()}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n){n=function t(e,n){var r=n.method,o=e.iterator[r];if(void 0===o)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;r=l(o,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,f;o=r.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,f):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}(n,a);if(n){if(n===f)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===u)throw u="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u="executing";n=l(o,i,a);if("normal"===n.type){if(u=a.done?"completed":"suspendedYield",n.arg===f)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(u="completed",a.method="throw",a.arg=n.arg)}})}),e}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var f={};function p(){}function d(){}function h(){}var e={},y=(i(e,r,function(){return this}),Object.getPrototypeOf),y=y&&y(y(_([]))),g=(y&&y!==t&&c.call(y,r)&&(e=y),h.prototype=p.prototype=Object.create(e));function m(t){["next","throw","return"].forEach(function(e){i(t,e,function(t){return this._invoke(e,t)})})}function v(a,u){var e;s(this,"_invoke",{value:function(n,r){function t(){return new u(function(t,e){!function e(t,n,r,o){var i,t=l(a[t],a,n);if("throw"!==t.type)return(n=(i=t.arg).value)&&"object"==j(n)&&c.call(n,"__await")?u.resolve(n.__await).then(function(t){e("next",t,r,o)},function(t){e("throw",t,r,o)}):u.resolve(n).then(function(t){i.value=t,r(i)},function(t){return e("throw",t,r,o)});o(t.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}})}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function _(e){if(e){var n,t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return n=-1,(t=function t(){for(;++n<e.length;)if(c.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t}).next=t}return{next:S}}function S(){return{value:void 0,done:!0}}return s(g,"constructor",{value:d.prototype=h,configurable:!0}),s(h,"constructor",{value:d,configurable:!0}),d.displayName=i(h,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,i(t,o,"GeneratorFunction")),t.prototype=Object.create(g),t},a.awrap=function(t){return{__await:t}},m(v.prototype),i(v.prototype,n,function(){return this}),a.AsyncIterator=v,a.async=function(t,e,n,r,o){void 0===o&&(o=Promise);var i=new v(u(t,e,n,r),o);return a.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},m(g),i(g,o,"Generator"),i(g,r,function(){return this}),i(g,"toString",function(){return"[object Generator]"}),a.keys=function(t){var e,n=Object(t),r=[];for(e in n)r.push(e);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=_,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&c.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return i.type="throw",i.arg=n,r.next=t,e&&(r.method="next",r.arg=void 0),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=c.call(o,"catchLoc"),u=c.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,o=this.tryEntries[e];if(o.tryLoc===t)return"throw"===(n=o.completion).type&&(r=n.arg,w(o)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},a}k.exports=n,k.exports.__esModule=!0,k.exports.default=k.exports},{"./typeof.js":46}],45:[function(t,e,n){var r=t("./arrayWithHoles.js"),o=t("./iterableToArrayLimit.js"),i=t("./unsupportedIterableToArray.js"),a=t("./nonIterableRest.js");e.exports=function(t,e){return r(t)||o(t,e)||i(t,e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},{"./arrayWithHoles.js":39,"./iterableToArrayLimit.js":42,"./nonIterableRest.js":43,"./unsupportedIterableToArray.js":47}],46:[function(t,e,n){function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},{}],47:[function(t,e,n){var r=t("./arrayLikeToArray.js");e.exports=function(t,e){var n;if(t)return"string"==typeof t?r(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0},e.exports.__esModule=!0,e.exports.default=e.exports},{"./arrayLikeToArray.js":38}],48:[function(e,t,n){e=e("../helpers/regeneratorRuntime")();t.exports=e;try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},{"../helpers/regeneratorRuntime":44}],49:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(r){if((0,i.isAsync)(r))return function(...t){var e=t.pop();return u(r.apply(this,t),e)};return(0,o.default)(function(t,e){var n;try{n=r.apply(this,t)}catch(t){return e(t)}if(n&&"function"==typeof n.then)return u(n,e);e(null,n)})};var o=a(t("./internal/initialParams.js")),r=a(t("./internal/setImmediate.js")),i=t("./internal/wrapAsync.js");function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e){return t.then(t=>{c(e,null,t)},t=>{c(e,t&&t.message?t:new Error(t))})}function c(t,e,n){try{t(e,n)}catch(t){(0,r.default)(t=>{throw t},t)}}e.exports=n.default},{"./internal/initialParams.js":51,"./internal/setImmediate.js":54,"./internal/wrapAsync.js":55}],50:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});class r{constructor(){this.head=this.tail=null,this.length=0}removeLink(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,--this.length,t}empty(){for(;this.head;)this.shift();return this}insertAfter(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1}insertBefore(t,e){e.prev=t.prev,(e.next=t).prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1}unshift(t){this.head?this.insertBefore(this.head,t):o(this,t)}push(t){this.tail?this.insertAfter(this.tail,t):o(this,t)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var t=this.head;t;)yield t.data,t=t.next}remove(t){for(var e=this.head;e;){var n=e["next"];t(e)&&this.removeLink(e),e=n}return this}}function o(t,e){t.length=1,t.head=t.tail=e}n.default=r,e.exports=n.default},{}],51:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(n){return function(...t){var e=t.pop();return n.call(this,t,e)}},e.exports=n.default},{}],52:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(n){return function(...t){if(null===n)throw new Error("Callback was already called.");var e=n;n=null,e.apply(this,t)}},e.exports=n.default},{}],53:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,e,n){if(null==e)e=1;else if(0===e)throw new RangeError("Concurrency must not be zero");var a=(0,m.default)(t),u=0,c=[];const s={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function l(t,e){return t?e?void(s[t]=s[t].filter(t=>t!==e)):s[t]=[]:Object.keys(s).forEach(t=>s[t]=[])}function f(t,...e){s[t].forEach(t=>t(...e))}var p=!1;function r(t,e,n,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");var o,i;function a(t,...e){return t?n?i(t):o():e.length<=1?o(e[0]):void o(e)}h.started=!0;t=h._createTaskItem(t,!n&&r||a);if(e?h._tasks.unshift(t):h._tasks.push(t),p||(p=!0,(0,g.default)(()=>{p=!1,h.process()})),n||!r)return new Promise((t,e)=>{o=t,i=e})}function o(t){return 0===t.length&&h.idle()&&((0,g.default)(()=>f("drain")),1)}t=a=>t=>{if(!t)return new Promise((n,r)=>{{var e=a,o=(t,e)=>{if(t)return r(t);n(e)};const i=(...t)=>{l(e,i),o(...t)};s[e].push(i)}});var e;l(a),e=a,t=t,s[e].push(t)};var d=!1,h={_tasks:new i.default,_createTaskItem(t,e){return{data:t,callback:e}},*[Symbol.iterator](){yield*h._tasks[Symbol.iterator]()},concurrency:e,payload:n,buffer:e/4,started:!1,paused:!1,push(t,e){return Array.isArray(t)?o(t)?void 0:t.map(t=>r(t,!1,!1,e)):r(t,!1,!1,e)},pushAsync(t,e){return Array.isArray(t)?o(t)?void 0:t.map(t=>r(t,!1,!0,e)):r(t,!1,!0,e)},kill(){l(),h._tasks.empty()},unshift(t,e){return Array.isArray(t)?o(t)?void 0:t.map(t=>r(t,!0,!1,e)):r(t,!0,!1,e)},unshiftAsync(t,e){return Array.isArray(t)?o(t)?void 0:t.map(t=>r(t,!0,!0,e)):r(t,!0,!0,e)},remove(t){h._tasks.remove(t)},process(){if(!d){for(d=!0;!h.paused&&u<h.concurrency&&h._tasks.length;){var t=[],e=[],n=h._tasks.length;h.payload&&(n=Math.min(n,h.payload));for(var r=0;r<n;r++){var o=h._tasks.shift();t.push(o),c.push(o),e.push(o.data)}u+=1,0===h._tasks.length&&f("empty"),u===h.concurrency&&f("saturated");var i=(0,y.default)(function(a){return function(t,...e){--u;for(var n=0,r=a.length;n<r;n++){var o=a[n],i=c.indexOf(o);0===i?c.shift():0<i&&c.splice(i,1),o.callback(t,...e),null!=t&&f("error",t,o.data)}u<=h.concurrency-h.buffer&&f("unsaturated"),h.idle()&&f("drain"),h.process()}}(t));a(e,i)}d=!1}},length(){return h._tasks.length},running(){return u},workersList(){return c},idle(){return h._tasks.length+u===0},pause(){h.paused=!0},resume(){!1!==h.paused&&(h.paused=!1,g.default)(h.process)}};return Object.defineProperties(h,{saturated:{writable:!1,value:t("saturated")},unsaturated:{writable:!1,value:t("unsaturated")},empty:{writable:!1,value:t("empty")},drain:{writable:!1,value:t("drain")},error:{writable:!1,value:t("error")}}),h};var y=r(t("./onlyOnce.js")),g=r(t("./setImmediate.js")),i=r(t("./DoublyLinkedList.js")),m=r(t("./wrapAsync.js"));function r(t){return t&&t.__esModule?t:{default:t}}e.exports=n.default},{"./DoublyLinkedList.js":50,"./onlyOnce.js":52,"./setImmediate.js":54,"./wrapAsync.js":55}],54:[function(t,e,u){!function(i,a){!function(){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.fallback=r,u.wrap=o;var t=u.hasQueueMicrotask="function"==typeof queueMicrotask&&queueMicrotask,e=u.hasSetImmediate="function"==typeof a&&a,n=u.hasNextTick="object"==typeof i&&"function"==typeof i.nextTick;function r(t){setTimeout(t,0)}function o(n){return(t,...e)=>n(()=>t(...e))}t=t?queueMicrotask:e?a:n?i.nextTick:r,u.default=o(t)}.call(this)}.call(this,t("_process"),t("timers").setImmediate)},{_process:69,timers:77}],55:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isAsyncIterable=n.isAsyncGenerator=n.isAsync=void 0;var t=t("../asyncify.js"),r=(t=t)&&t.__esModule?t:{default:t};function o(t){return"AsyncFunction"===t[Symbol.toStringTag]}n.default=function(t){if("function"!=typeof t)throw new Error("expected a function");return o(t)?(0,r.default)(t):t},n.isAsync=o,n.isAsyncGenerator=function(t){return"AsyncGenerator"===t[Symbol.toStringTag]},n.isAsyncIterable=function(t){return"function"==typeof t[Symbol.asyncIterator]}},{"../asyncify.js":49}],56:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,e){var n=(0,o.default)(t);return(0,r.default)((t,e)=>{n(t[0],e)},e,1)};var r=i(t("./internal/queue.js")),o=i(t("./internal/wrapAsync.js"));function i(t){return t&&t.__esModule?t:{default:t}}e.exports=n.default},{"./internal/queue.js":53,"./internal/wrapAsync.js":55}],57:[function(t,e,n){},{}],58:[function(t,e,n){"use strict";var r=t("get-intrinsic"),o=t("./"),i=o(r("String.prototype.indexOf"));e.exports=function(t,e){e=r(t,!!e);return"function"==typeof e&&-1<i(t,".prototype.")?o(e):e}},{"./":59,"get-intrinsic":63}],59:[function(t,e,n){"use strict";var r=t("function-bind"),t=t("get-intrinsic"),o=t("%Function.prototype.apply%"),i=t("%Function.prototype.call%"),a=t("%Reflect.apply%",!0)||r.call(i,o),u=t("%Object.getOwnPropertyDescriptor%",!0),c=t("%Object.defineProperty%",!0),s=t("%Math.max%");if(c)try{c({},"a",{value:1})}catch(t){c=null}e.exports=function(t){var e=a(r,i,arguments);return u&&c&&u(e,"length").configurable&&c(e,"length",{value:1+s(0,t.length-(arguments.length-1))}),e};function l(){return a(r,o,arguments)}c?c(e.exports,"apply",{value:l}):e.exports.apply=l},{"function-bind":62,"get-intrinsic":63}],60:[function(t,e,n){"use strict";var r="object"==typeof Reflect?Reflect:null,c=r&&"function"==typeof r.apply?r.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};var o=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)},i=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(u,c){return new Promise(function(t,e){function n(t){u.removeListener(c,r),e(t)}function r(){"function"==typeof u.removeListener&&u.removeListener("error",n),t([].slice.call(arguments))}var o,i,a;g(u,c,r,{once:!0}),"error"!==c&&(i=n,a={once:!0},"function"==typeof(o=u).on)&&g(o,"error",i,a)})},(a.EventEmitter=a).prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function s(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function f(t,e,n,r){var o,i;return s(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener||n),o=t._events),i=o[e]),void 0===i?(i=o[e]=n,++t._eventsCount):("function"==typeof i?i=o[e]=r?[n,i]:[i,n]:r?i.unshift(n):i.push(n),0<(o=l(t))&&i.length>o&&!i.warned&&(i.warned=!0,(r=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",r.emitter=t,r.type=e,r.count=i.length,n=r,console)&&console.warn&&console.warn(n)),t}function p(t,e,n){t={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},e=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(t);return e.listener=n,t.wrapFn=e}function d(t,e,n){t=t._events;if(void 0===t)return[];t=t[e];if(void 0===t)return[];if("function"==typeof t)return n?[t.listener||t]:[t];if(n){for(var r=t,o=new Array(r.length),i=0;i<o.length;++i)o[i]=r[i].listener||r[i];return o}return y(t,t.length)}function h(t){var e=this._events;if(void 0!==e){e=e[t];if("function"==typeof e)return 1;if(void 0!==e)return e.length}return 0}function y(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function g(n,r,o,i){if("function"==typeof n.on)i.once?n.once(r,o):n.on(r,o);else{if("function"!=typeof n.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof n);n.addEventListener(r,function t(e){i.once&&n.removeEventListener(r,t),o(e)})}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){if((i=0<e.length?e[0]:i)instanceof Error)throw i;r=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw r.context=i,r}var i=o[t];if(void 0===i)return!1;if("function"==typeof i)c(i,this,e);else for(var a=i.length,u=y(i,a),n=0;n<a;++n)c(u[n],this,e);return!0},a.prototype.on=a.prototype.addListener=function(t,e){return f(this,t,e,!1)},a.prototype.prependListener=function(t,e){return f(this,t,e,!0)},a.prototype.once=function(t,e){return s(e),this.on(t,p(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return s(e),this.prependListener(t,p(this,t,e)),this},a.prototype.off=a.prototype.removeListener=function(t,e){var n,r,o,i,a;if(s(e),void 0!==(r=this._events)&&void 0!==(n=r[t]))if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,i=n.length-1;0<=i;i--)if(n[i]===e||n[i].listener===e){a=n[i].listener,o=i;break}if(o<0)return this;if(0===o)n.shift();else{for(var u=n,c=o;c+1<u.length;c++)u[c]=u[c+1];u.pop()}1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},a.prototype.removeAllListeners=function(t){var e,n=this._events;if(void 0!==n)if(void 0===n.removeListener)0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]);else if(0===arguments.length){for(var r,o=Object.keys(n),i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0}else if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;0<=i;i--)this.removeListener(t,e[i]);return this},a.prototype.listeners=function(t){return d(this,t,!0)},a.prototype.rawListeners=function(t){return d(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):h.call(t,e)},a.prototype.listenerCount=h,a.prototype.eventNames=function(){return 0<this._eventsCount?o(this._events):[]}},{}],61:[function(t,e,n){"use strict";var c=Array.prototype.slice,s=Object.prototype.toString;e.exports=function(e){var n=this;if("function"!=typeof n||"[object Function]"!==s.call(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var r,t,o=c.call(arguments,1),i=Math.max(0,n.length-o.length),a=[],u=0;u<i;u++)a.push("$"+u);return r=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(function(){var t;return this instanceof r?(t=n.apply(this,o.concat(c.call(arguments))),Object(t)===t?t:this):n.apply(e,o.concat(c.call(arguments)))}),n.prototype&&((t=function(){}).prototype=n.prototype,r.prototype=new t,t.prototype=null),r}},{}],62:[function(t,e,n){"use strict";t=t("./implementation");e.exports=Function.prototype.bind||t},{"./implementation":61}],63:[function(t,e,n){"use strict";var r,p=SyntaxError,o=Function,d=TypeError,i=function(t){try{return o('"use strict"; return ('+t+").constructor;")()}catch(t){}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch(t){h=null}function a(){throw new d}var u=h?function(){try{return a}catch(t){try{return h(arguments,"callee").get}catch(t){return a}}}():a,c=t("has-symbols")(),s=t("has-proto")(),l=Object.getPrototypeOf||(s?function(t){return t.__proto__}:null),y={},s="undefined"!=typeof Uint8Array&&l?l(Uint8Array):r,g={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":c&&l?l([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":y,"%AsyncGenerator%":y,"%AsyncGeneratorFunction%":y,"%AsyncIteratorPrototype%":y,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":y,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c&&l?l(l([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&c&&l?l((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&c&&l?l((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":c&&l?l(""[Symbol.iterator]()):r,"%Symbol%":c?Symbol:r,"%SyntaxError%":p,"%ThrowTypeError%":u,"%TypedArray%":s,"%TypeError%":d,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};if(l)try{null.error}catch(t){c=l(l(t));g["%Error.prototype%"]=c}function m(t){var e,n;return"%AsyncFunction%"===t?e=i("async function () {}"):"%GeneratorFunction%"===t?e=i("function* () {}"):"%AsyncGeneratorFunction%"===t?e=i("async function* () {}"):"%AsyncGenerator%"===t?(n=m("%AsyncGeneratorFunction%"))&&(e=n.prototype):"%AsyncIteratorPrototype%"===t&&(n=m("%AsyncGenerator%"))&&l&&(e=l(n.prototype)),g[t]=e}var v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},u=t("function-bind"),b=t("has"),w=u.call(Function.call,Array.prototype.concat),x=u.call(Function.apply,Array.prototype.splice),_=u.call(Function.call,String.prototype.replace),S=u.call(Function.call,String.prototype.slice),k=u.call(Function.call,RegExp.prototype.exec),j=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g;e.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new d("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!=typeof e)throw new d('"allowMissing" argument must be a boolean');if(null===k(/^%?[^%]*%?$/,t))throw new p("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(t){var e=S(t,0,1),n=S(t,-1);if("%"===e&&"%"!==n)throw new p("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new p("invalid intrinsic syntax, expected opening `%`");var o=[];return _(t,j,function(t,e,n,r){o[o.length]=n?_(r,A,"$1"):e||t}),o}(t),r=0<n.length?n[0]:"",o=function(t,e){var n,r=t;if(b(v,r)&&(r="%"+(n=v[r])[0]+"%"),b(g,r)){var o=g[r];if(void 0!==(o=o===y?m(r):o)||e)return{alias:n,name:r,value:o};throw new d("intrinsic "+t+" exists, but is not available. Please file an issue!")}throw new p("intrinsic "+t+" does not exist!")}("%"+r+"%",e),i=(o.name,o.value),a=!1,o=o.alias;o&&(r=o[0],x(n,w([0,1],o)));for(var u=1,c=!0;u<n.length;u+=1){var s=n[u],l=S(s,0,1),f=S(s,-1);if(('"'===l||"'"===l||"`"===l||'"'===f||"'"===f||"`"===f)&&l!==f)throw new p("property names with quotes must have matching quotes");if("constructor"!==s&&c||(a=!0),b(g,l="%"+(r+="."+s)+"%"))i=g[l];else if(null!=i){if(!(s in i)){if(e)return;throw new d("base intrinsic for "+t+" exists, but the property is not available.")}i=h&&u+1>=n.length?(c=!!(f=h(i,s)))&&"get"in f&&!("originalValue"in f.get)?f.get:i[s]:(c=b(i,s),i[s]),c&&!a&&(g[l]=i)}}return i}},{"function-bind":62,has:67,"has-proto":64,"has-symbols":65}],64:[function(t,e,n){"use strict";var r={foo:{}},o=Object;e.exports=function(){return{__proto__:r}.foo===r.foo&&!({__proto__:null}instanceof o)}},{}],65:[function(t,e,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=t("./shams");e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&o()}},{"./shams":66}],66:[function(t,e,n){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"!=typeof Symbol.iterator){var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){n=Object.getOwnPropertyDescriptor(t,e);if(42!==n.value||!0!==n.enumerable)return!1}}return!0}},{}],67:[function(t,e,n){"use strict";t=t("function-bind");e.exports=t.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":62}],68:[function(n,r,i){var t="function"==typeof Map&&Map.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,b=t&&e&&"function"==typeof e.get?e.get:null,w=t&&Map.prototype.forEach,e="function"==typeof Set&&Set.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,x=e&&t&&"function"==typeof t.get?t.get:null,_=e&&Set.prototype.forEach,S="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,k="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,j="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,Q=Boolean.prototype.valueOf,a=Object.prototype.toString,Y=Function.prototype.toString,X=String.prototype.match,A=String.prototype.slice,I=String.prototype.replace,u=String.prototype.toUpperCase,E=String.prototype.toLowerCase,l=RegExp.prototype.test,O=Array.prototype.concat,C=Array.prototype.join,Z=Array.prototype.slice,o=Math.floor,T="function"==typeof BigInt?BigInt.prototype.valueOf:null,f=Object.getOwnPropertySymbols,F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,$="function"==typeof Symbol&&"object"==typeof Symbol.iterator,P="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,R=Object.prototype.propertyIsEnumerable,L=("function"==typeof Reflect?Reflect:Object).getPrototypeOf||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function D(t,e){if(t===1/0||t===-1/0||t!=t||t&&-1e3<t&&t<1e3||l.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var r=t<0?-o(-t):o(t);if(r!==t)return t=String(r),r=A.call(e,t.length+1),I.call(t,n,"$&_")+"."+I.call(I.call(r,/([0-9]{3})/g,"$&_"),/_$/,"")}return I.call(e,n,"$&_")}var M=n("./util.inspect"),t=M.custom,N=q(t)?t:null;function B(t,e,n){n="double"===(n.quoteStyle||e)?'"':"'";return n+t+n}function z(t){return!("[object Array]"!==V(t)||P&&"object"==typeof t&&P in t)}function U(t){return!("[object RegExp]"!==V(t)||P&&"object"==typeof t&&P in t)}function q(t){if($)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return 1;if(t&&"object"==typeof t&&F)try{return F.call(t),1}catch(t){}}r.exports=function r(n,t,o,i){var a=t||{};if(W(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(W(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');t=!W(a,"customInspect")||a.customInspect;if("boolean"!=typeof t&&"symbol"!==t)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(W(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&0<a.indent))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(W(a,"numericSeparator")&&"boolean"!=typeof a.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var e=a.numericSeparator;if(void 0===n)return"undefined";if(null===n)return"null";if("boolean"==typeof n)return n?"true":"false";if("string"==typeof n)return function t(e,n){if(e.length>n.maxStringLength)return r=e.length-n.maxStringLength,r="... "+r+" more character"+(1<r?"s":""),t(A.call(e,0,n.maxStringLength),n)+r;var r=I.call(I.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,et);return B(r,"single",n)}(n,a);if("number"==typeof n)return 0===n?0<1/0/n?"0":"-0":(h=String(n),e?D(n,h):h);if("bigint"==typeof n)return h=String(n)+"n",e?D(n,h):h;e=void 0===a.depth?5:a.depth;if(e<=(o=void 0===o?0:o)&&0<e&&"object"==typeof n)return z(n)?"[Array]":"[Object]";var u,c,s,l,f,p,d,h=function(t,e){var n;if("\t"===t.indent)n="\t";else{if(!("number"==typeof t.indent&&0<t.indent))return null;n=C.call(Array(t.indent+1)," ")}return{base:n,prev:C.call(Array(e+1),n)}}(a,o);if(void 0===i)i=[];else if(0<=tt(i,n))return"[Circular]";function y(t,e,n){return e&&(i=Z.call(i)).push(e),n?(e={depth:a.depth},W(a,"quoteStyle")&&(e.quoteStyle=a.quoteStyle),r(t,e,o+1,i)):r(t,a,o+1,i)}if("function"==typeof n&&!U(n))return"[Function"+((c=function(t){if(t.name)return t.name;t=X.call(Y.call(t),/^function\s*([\w$]+)/);if(t)return t[1];return null}(n))?": "+c:" (anonymous)")+"]"+(0<(c=J(n,y)).length?" { "+C.call(c,", ")+" }":"");if(q(n))return c=$?I.call(String(n),/^(Symbol\(.*\))_[^)]*$/,"$1"):F.call(n),"object"!=typeof n||$?c:K(c);if(function(t){if(!t||"object"!=typeof t)return;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return 1;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(n)){for(var g="<"+E.call(String(n.nodeName)),m=n.attributes||[],v=0;v<m.length;v++)g+=" "+m[v].name+"="+B((u=m[v].value,I.call(String(u),/"/g,"&quot;")),"double",a);return g+=">",n.childNodes&&n.childNodes.length&&(g+="..."),g+="</"+E.call(String(n.nodeName))+">"}if(z(n))return 0===n.length?"[]":(c=J(n,y),h&&!function(t){for(var e=0;e<t.length;e++)if(0<=tt(t[e],"\n"))return;return 1}(c)?"["+H(c,h)+"]":"[ "+C.call(c,", ")+" ]");if(!("[object Error]"!==V(c=n)||P&&"object"==typeof c&&P in c))return f=J(n,y),"cause"in Error.prototype||!("cause"in n)||R.call(n,"cause")?0===f.length?"["+String(n)+"]":"{ ["+String(n)+"] "+C.call(f,", ")+" }":"{ ["+String(n)+"] "+C.call(O.call("[cause]: "+y(n.cause),f),", ")+" }";if("object"==typeof n&&t){if(N&&"function"==typeof n[N]&&M)return M(n,{depth:e-o});if("symbol"!==t&&"function"==typeof n.inspect)return n.inspect()}return function(t){if(b&&t&&"object"==typeof t)try{b.call(t);try{x.call(t)}catch(t){return 1}return t instanceof Map}catch(t){}return}(n)?(s=[],w&&w.call(n,function(t,e){s.push(y(e,n,!0)+" => "+y(t,n))}),nt("Map",b.call(n),s,h)):function(t){if(x&&t&&"object"==typeof t)try{x.call(t);try{b.call(t)}catch(t){return 1}return t instanceof Set}catch(t){}return}(n)?(l=[],_&&_.call(n,function(t){l.push(y(t,n))}),nt("Set",x.call(n),l,h)):function(t){if(S&&t&&"object"==typeof t)try{S.call(t,S);try{k.call(t,k)}catch(t){return 1}return t instanceof WeakMap}catch(t){}return}(n)?G("WeakMap"):function(t){if(k&&t&&"object"==typeof t)try{k.call(t,k);try{S.call(t,S)}catch(t){return 1}return t instanceof WeakSet}catch(t){}return}(n)?G("WeakSet"):function(t){if(j&&t&&"object"==typeof t)try{return j.call(t),1}catch(t){}return}(n)?G("WeakRef"):"[object Number]"!==V(f=n)||P&&"object"==typeof f&&P in f?function(t){if(t&&"object"==typeof t&&T)try{return T.call(t),1}catch(t){}return}(n)?K(y(T.call(n))):"[object Boolean]"!==V(e=n)||P&&"object"==typeof e&&P in e?"[object String]"!==V(t=n)||P&&"object"==typeof t&&P in t?("[object Date]"!==V(e=n)||P&&"object"==typeof e&&P in e)&&!U(n)?(t=J(n,y),e=L?L(n)===Object.prototype:n instanceof Object||n.constructor===Object,p=n instanceof Object?"":"null prototype",d=!e&&P&&Object(n)===n&&P in n?A.call(V(n),8,-1):p?"Object":"",e=(!e&&"function"==typeof n.constructor&&n.constructor.name?n.constructor.name+" ":"")+(d||p?"["+C.call(O.call([],d||[],p||[]),": ")+"] ":""),0===t.length?e+"{}":h?e+"{"+H(t,h)+"}":e+"{ "+C.call(t,", ")+" }"):String(n):K(y(String(n))):K(Q.call(n)):K(y(Number(n)))};var c=Object.prototype.hasOwnProperty||function(t){return t in this};function W(t,e){return c.call(t,e)}function V(t){return a.call(t)}function tt(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function et(t){var t=t.charCodeAt(0),e={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return e?"\\"+e:"\\x"+(t<16?"0":"")+u.call(t.toString(16))}function K(t){return"Object("+t+")"}function G(t){return t+" { ? }"}function nt(t,e,n,r){return t+" ("+e+") {"+(r?H(n,r):C.call(n,", "))+"}"}function H(t,e){var n;return 0===t.length?"":(n="\n"+e.prev+e.base)+C.call(t,","+n)+"\n"+e.prev}function J(t,e){var n=z(t),r=[];if(n){r.length=t.length;for(var o=0;o<t.length;o++)r[o]=W(t,o)?e(t[o],t):""}var i,a="function"==typeof f?f(t):[];if($)for(var u={},c=0;c<a.length;c++)u["$"+a[c]]=a[c];for(i in t)!W(t,i)||n&&String(Number(i))===i&&i<t.length||$&&u["$"+i]instanceof Symbol||(l.call(/[^\w$]/,i)?r.push(e(i,t)+": "+e(t[i],t)):r.push(i+": "+e(t[i],t)));if("function"==typeof f)for(var s=0;s<a.length;s++)R.call(t,a[s])&&r.push("["+e(a[s])+"]: "+e(t[a[s]],t));return r}},{"./util.inspect":57}],69:[function(t,e,n){var r,o,e=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(t){o=a}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return(r=setTimeout)(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}var c,s=[],l=!1,f=-1;function p(){l&&c&&(l=!1,c.length?s=c.concat(s):f=-1,s.length)&&d()}function d(){if(!l){for(var t=u(p),e=(l=!0,s.length);e;){for(c=s,s=[];++f<e;)c&&c[f].run();f=-1,e=s.length}c=null,l=!1,!function(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return(o=clearTimeout)(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function y(){}e.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new h(t,e)),1!==s.length||l||u(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=y,e.addListener=y,e.once=y,e.off=y,e.removeListener=y,e.removeAllListeners=y,e.emit=y,e.prependListener=y,e.prependOnceListener=y,e.listeners=function(t){return[]},e.binding=function(t){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(t){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},{}],70:[function(t,E,O){!function(I){!function(){var t=this,e="object"==typeof O&&O&&!O.nodeType&&O,n="object"==typeof E&&E&&!E.nodeType&&E,r="object"==typeof I&&I;r.global!==r&&r.window!==r&&r.self!==r||(t=r);var o,i,g=2147483647,m=36,v=26,a=38,u=700,c=/^xn--/,s=/[^\x20-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=m-1,b=Math.floor,w=String.fromCharCode;function x(t){throw new RangeError(f[t])}function d(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function h(t,e){var n=t.split("@"),r="",n=(1<n.length&&(r=n[0]+"@",t=n[1]),(t=t.replace(l,".")).split("."));return r+d(n,e).join(".")}function _(t){for(var e,n,r=[],o=0,i=t.length;o<i;)55296<=(e=t.charCodeAt(o++))&&e<=56319&&o<i?56320==(64512&(n=t.charCodeAt(o++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--):r.push(e);return r}function y(t){return d(t,function(t){var e="";return 65535<t&&(e+=w((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=w(t)}).join("")}function S(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function k(t,e,n){var r=0;for(t=n?b(t/u):t>>1,t+=b(t/e);p*v>>1<t;r+=m)t=b(t/p);return b(r+(p+1)*t/(t+a))}function j(t){var e,n,r,o,i,a,u,c=[],s=t.length,l=0,f=128,p=72,d=t.lastIndexOf("-");for(d<0&&(d=0),n=0;n<d;++n)128<=t.charCodeAt(n)&&x("not-basic"),c.push(t.charCodeAt(n));for(r=0<d?d+1:0;r<s;){for(o=l,i=1,a=m;s<=r&&x("invalid-input"),u=t.charCodeAt(r++),(m<=(u=u-48<10?u-22:u-65<26?u-65:u-97<26?u-97:m)||u>b((g-l)/i))&&x("overflow"),l+=u*i,!(u<(u=a<=p?1:p+v<=a?v:a-p));a+=m)i>b(g/(u=m-u))&&x("overflow"),i*=u;p=k(l-o,e=c.length+1,0==o),b(l/e)>g-f&&x("overflow"),f+=b(l/e),l%=e,c.splice(l++,0,f)}return y(c)}function A(t){for(var e,n,r,o,i,a,u,c,s,l,f=[],p=(t=_(t)).length,d=128,h=72,y=e=0;y<p;++y)(u=t[y])<128&&f.push(w(u));for(n=r=f.length,r&&f.push("-");n<p;){for(o=g,y=0;y<p;++y)d<=(u=t[y])&&u<o&&(o=u);for(o-d>b((g-e)/(c=n+1))&&x("overflow"),e+=(o-d)*c,d=o,y=0;y<p;++y)if((u=t[y])<d&&++e>g&&x("overflow"),u==d){for(i=e,a=m;!(i<(s=a<=h?1:h+v<=a?v:a-h));a+=m)f.push(w(S(s+(l=i-s)%(s=m-s),0))),i=b(l/s);f.push(w(S(i,0))),h=k(e,c,n==r),e=0,++n}++e,++d}return f.join("")}if(o={version:"1.4.1",ucs2:{decode:_,encode:y},decode:j,encode:A,toASCII:function(t){return h(t,function(t){return s.test(t)?"xn--"+A(t):t})},toUnicode:function(t){return h(t,function(t){return c.test(t)?j(t.slice(4).toLowerCase()):t})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return o});else if(e&&n)if(E.exports==e)n.exports=o;else for(i in o)o.hasOwnProperty(i)&&(e[i]=o[i]);else t.punycode=o}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],71:[function(t,e,n){"use strict";var r=String.prototype.replace,o=/%20/g,i="RFC1738",a="RFC3986";e.exports={default:a,formatters:{RFC1738:function(t){return r.call(t,o,"+")},RFC3986:function(t){return String(t)}},RFC1738:i,RFC3986:a}},{}],72:[function(t,e,n){"use strict";var r=t("./stringify"),o=t("./parse"),t=t("./formats");e.exports={formats:t,parse:o,stringify:r}},{"./formats":71,"./parse":73,"./stringify":74}],73:[function(t,e,n){"use strict";function c(t,e){var n,r,o,i,a={__proto__:null},t=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,u=e.parameterLimit===1/0?void 0:e.parameterLimit,c=t.split(e.delimiter,u),s=-1,l=e.charset;if(e.charsetSentinel)for(n=0;n<c.length;++n)0===c[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===c[n]?l="utf-8":"utf8=%26%2310003%3B"===c[n]&&(l="iso-8859-1"),s=n,n=c.length);for(n=0;n<c.length;++n)n!==s&&((i=-1===(i=-1===(i=(r=c[n]).indexOf("]="))?r.indexOf("="):i+1)?(o=e.decoder(r,d.decoder,l,"key"),e.strictNullHandling?null:""):(o=e.decoder(r.slice(0,i),d.decoder,l,"key"),f.maybeMap(v(r.slice(i+1),e),function(t){return e.decoder(t,d.decoder,l,"value")})))&&e.interpretNumericEntities&&"iso-8859-1"===l&&(i=i.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(parseInt(e,10))})),-1<r.indexOf("[]=")&&(i=p(i)?[i]:i),m.call(a,o)?a[o]=f.combine(a[o],i):a[o]=i);return a}function s(t,e,n,r){if(t){var o=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,i=/(\[[^[\]]*])/g,a=0<n.depth&&/(\[[^[\]]*])/.exec(o),t=a?o.slice(0,a.index):o,u=[];if(t){if(!n.plainObjects&&m.call(Object.prototype,t)&&!n.allowPrototypes)return;u.push(t)}for(var c=0;0<n.depth&&null!==(a=i.exec(o))&&c<n.depth;){if(c+=1,!n.plainObjects&&m.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(a[1])}a&&u.push("["+o.slice(a.index)+"]");for(var s=u,t=e,l=n,f=r?t:v(t,l),p=s.length-1;0<=p;--p){var d,h,y,g=s[p];"[]"===g&&l.parseArrays?d=[].concat(f):(d=l.plainObjects?Object.create(null):{},h="["===g.charAt(0)&&"]"===g.charAt(g.length-1)?g.slice(1,-1):g,y=parseInt(h,10),l.parseArrays||""!==h?!isNaN(y)&&g!==h&&String(y)===h&&0<=y&&l.parseArrays&&y<=l.arrayLimit?(d=[])[y]=f:"__proto__"!==h&&(d[h]=f):d={0:f}),f=d}return f}}var f=t("./utils"),m=Object.prototype.hasOwnProperty,p=Array.isArray,d={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:f.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},v=function(t,e){return t&&"string"==typeof t&&e.comma&&-1<t.indexOf(",")?t.split(","):t};e.exports=function(t,e){var n=function(t){if(!t)return d;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=(void 0===t.charset?d:t).charset;return{allowDots:void 0===t.allowDots?d.allowDots:!!t.allowDots,allowPrototypes:("boolean"==typeof t.allowPrototypes?t:d).allowPrototypes,allowSparse:("boolean"==typeof t.allowSparse?t:d).allowSparse,arrayLimit:("number"==typeof t.arrayLimit?t:d).arrayLimit,charset:e,charsetSentinel:("boolean"==typeof t.charsetSentinel?t:d).charsetSentinel,comma:("boolean"==typeof t.comma?t:d).comma,decoder:("function"==typeof t.decoder?t:d).decoder,delimiter:("string"==typeof t.delimiter||f.isRegExp(t.delimiter)?t:d).delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:d.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:("boolean"==typeof t.interpretNumericEntities?t:d).interpretNumericEntities,parameterLimit:("number"==typeof t.parameterLimit?t:d).parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:("boolean"==typeof t.plainObjects?t:d).plainObjects,strictNullHandling:("boolean"==typeof t.strictNullHandling?t:d).strictNullHandling}}(e);if(""===t||null==t)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof t?c(t,n):t,o=n.plainObjects?Object.create(null):{},i=Object.keys(r),a=0;a<i.length;++a)var u=i[a],u=s(u,r[u],n,"string"==typeof t),o=f.merge(o,u,n);return!0===n.allowSparse?o:f.compact(o)}},{"./utils":75}],74:[function(t,e,n){"use strict";function O(t,e){r.apply(t,$(e)?e:[e])}function C(t,e,n,r,o,i,a,u,c,s,l,f,p,d,h,y){for(var g=t,m=y,v=0,b=!1;void 0!==(m=m.get(R))&&!b;){var w=m.get(t);if(v+=1,void 0!==w){if(w===v)throw new RangeError("Cyclic object value");b=!0}void 0===m.get(R)&&(v=0)}if("function"==typeof u?g=u(e,g):g instanceof Date?g=l(g):"comma"===n&&$(g)&&(g=F.maybeMap(g,function(t){return t instanceof Date?l(t):t})),null===g){if(o)return a&&!d?a(e,P.encoder,h,"key",f):e;g=""}if("string"==typeof(_=g)||"number"==typeof _||"boolean"==typeof _||"symbol"==typeof _||"bigint"==typeof _||F.isBuffer(g))return a?[p(d?e:a(e,P.encoder,h,"key",f))+"="+p(a(g,P.encoder,h,"value",f))]:[p(e)+"="+p(String(g))];var x=[];if(void 0!==g)for(var _,S,S="comma"===n&&$(g)?[{value:0<(g=d&&a?F.maybeMap(g,a):g).length?g.join(",")||null:void 0}]:$(u)?u:(_=Object.keys(g),c?_.sort(c):_),k=r&&$(g)&&1===g.length?e+"[]":e,j=0;j<S.length;++j){var A,I=S[j],E="object"==typeof I&&void 0!==I.value?I.value:g[I];i&&null===E||(I=$(g)?"function"==typeof n?n(k,I):k:k+(s?"."+I:"["+I+"]"),y.set(t,v),(A=T()).set(R,y),O(x,C(E,I,n,r,o,i,"comma"===n&&d&&$(g)?null:a,u,c,s,l,f,p,d,h,A)))}return x}var T=t("side-channel"),F=t("./utils"),f=t("./formats"),p=Object.prototype.hasOwnProperty,d={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},$=Array.isArray,r=Array.prototype.push,o=Date.prototype.toISOString,t=f.default,P={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:F.encode,encodeValuesOnly:!1,format:t,formatter:f.formatters[t],indices:!1,serializeDate:function(t){return o.call(t)},skipNulls:!1,strictNullHandling:!1},R={};e.exports=function(t,e){var n=t,r=function(t){if(!t)return P;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||P.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=f.default;if(void 0!==t.format){if(!p.call(f.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var r=f.formatters[n],o=P.filter;return"function"!=typeof t.filter&&!$(t.filter)||(o=t.filter),{addQueryPrefix:("boolean"==typeof t.addQueryPrefix?t:P).addQueryPrefix,allowDots:void 0===t.allowDots?P.allowDots:!!t.allowDots,charset:e,charsetSentinel:("boolean"==typeof t.charsetSentinel?t:P).charsetSentinel,delimiter:(void 0===t.delimiter?P:t).delimiter,encode:("boolean"==typeof t.encode?t:P).encode,encoder:("function"==typeof t.encoder?t:P).encoder,encodeValuesOnly:("boolean"==typeof t.encodeValuesOnly?t:P).encodeValuesOnly,filter:o,format:n,formatter:r,serializeDate:("function"==typeof t.serializeDate?t:P).serializeDate,skipNulls:("boolean"==typeof t.skipNulls?t:P).skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:("boolean"==typeof t.strictNullHandling?t:P).strictNullHandling}}(e),o=("function"==typeof r.filter?n=(0,r.filter)("",n):$(r.filter)&&(u=r.filter),[]);if("object"!=typeof n||null===n)return"";var t=e&&e.arrayFormat in d?e.arrayFormat:!(e&&"indices"in e)||e.indices?"indices":"repeat",i=d[t];if(e&&"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a="comma"===i&&e&&e.commaRoundTrip,u=u||Object.keys(n);r.sort&&u.sort(r.sort);for(var c=T(),s=0;s<u.length;++s){var l=u[s];r.skipNulls&&null===n[l]||O(o,C(n[l],l,i,a,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}t=o.join(r.delimiter),e=!0===r.addQueryPrefix?"?":"";return r.charsetSentinel&&("iso-8859-1"===r.charset?e+="utf8=%26%2310003%3B&":e+="utf8=%E2%9C%93&"),0<t.length?e+t:""}},{"./formats":71,"./utils":75,"side-channel":76}],75:[function(t,e,n){"use strict";function u(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(n[r]=t[r]);return n}var s=t("./formats"),c=Object.prototype.hasOwnProperty,y=Array.isArray,l=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}();e.exports={arrayToObject:u,assign:function(t,n){return Object.keys(n).reduce(function(t,e){return t[e]=n[e],t},t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],r=0;r<e.length;++r)for(var o=e[r],i=o.obj[o.prop],a=Object.keys(i),u=0;u<a.length;++u){var c=a[u],s=i[c];"object"==typeof s&&null!==s&&-1===n.indexOf(s)&&(e.push({obj:i,prop:c}),n.push(s))}for(var l=e;1<l.length;){var f=l.pop(),p=f.obj[f.prop];if(y(p)){for(var d=[],h=0;h<p.length;++h)void 0!==p[h]&&d.push(p[h]);f.obj[f.prop]=d}}return t},decode:function(e,t,n){e=e.replace(/\+/g," ");if("iso-8859-1"===n)return e.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(e)}catch(t){return e}},encode:function(t,e,n,r,o){if(0===t.length)return t;var i=t;if("symbol"==typeof t?i=Symbol.prototype.toString.call(t):"string"!=typeof t&&(i=String(t)),"iso-8859-1"===n)return escape(i).replace(/%u[0-9a-f]{4}/gi,function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"});for(var a="",u=0;u<i.length;++u){var c=i.charCodeAt(u);45===c||46===c||95===c||126===c||48<=c&&c<=57||65<=c&&c<=90||97<=c&&c<=122||o===s.RFC1738&&(40===c||41===c)?a+=i.charAt(u):c<128?a+=l[c]:c<2048?a+=l[192|c>>6]+l[128|63&c]:c<55296||57344<=c?a+=l[224|c>>12]+l[128|c>>6&63]+l[128|63&c]:(u+=1,c=65536+((1023&c)<<10|1023&i.charCodeAt(u)),a+=l[240|c>>18]+l[128|c>>12&63]+l[128|c>>6&63]+l[128|63&c])}return a},isBuffer:function(t){return!(!t||"object"!=typeof t||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(y(t)){for(var n=[],r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)},merge:function r(o,i,a){if(!i)return o;if("object"!=typeof i){if(y(o))o.push(i);else{if(!o||"object"!=typeof o)return[o,i];(a&&(a.plainObjects||a.allowPrototypes)||!c.call(Object.prototype,i))&&(o[i]=!0)}return o}var t;return o&&"object"==typeof o?(y(t=o)&&!y(i)&&(t=u(o,a)),y(o)&&y(i)?(i.forEach(function(t,e){var n;c.call(o,e)?(n=o[e])&&"object"==typeof n&&t&&"object"==typeof t?o[e]=r(n,t,a):o.push(t):o[e]=t}),o):Object.keys(i).reduce(function(t,e){var n=i[e];return c.call(t,e)?t[e]=r(t[e],n,a):t[e]=n,t},t)):[o].concat(i)}}},{"./formats":71}],76:[function(t,e,n){"use strict";function u(t,e){for(var n,r=t;null!==(n=r.next);r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n}var r=t("get-intrinsic"),o=t("call-bind/callBound"),c=t("object-inspect"),s=r("%TypeError%"),l=r("%WeakMap%",!0),f=r("%Map%",!0),p=o("WeakMap.prototype.get",!0),d=o("WeakMap.prototype.set",!0),h=o("WeakMap.prototype.has",!0),y=o("Map.prototype.get",!0),g=o("Map.prototype.set",!0),m=o("Map.prototype.has",!0);e.exports=function(){var o,i,a,e={assert:function(t){if(!e.has(t))throw new s("Side channel does not contain "+c(t))},get:function(t){if(l&&t&&("object"==typeof t||"function"==typeof t)){if(o)return p(o,t)}else if(f){if(i)return y(i,t)}else{var e;if(a)return(e=u(e=a,t))&&e.value}},has:function(t){if(l&&t&&("object"==typeof t||"function"==typeof t)){if(o)return h(o,t)}else if(f){if(i)return m(i,t)}else if(a)return!!u(a,t);return!1},set:function(t,e){var n,r;l&&t&&("object"==typeof t||"function"==typeof t)?(o=o||new l,d(o,t,e)):f?(i=i||new f,g(i,t,e)):(e=e,(r=u(n=a=a||{key:{},next:null},t=t))?r.value=e:n.next={key:t,next:n.next,value:e})}};return e}},{"call-bind/callBound":58,"get-intrinsic":63,"object-inspect":68}],77:[function(c,t,s){!function(n,u){!function(){var r=c("process/browser.js").nextTick,t=Function.prototype.apply,o=Array.prototype.slice,i={},a=0;function e(t,e){this._id=t,this._clearFn=e}s.setTimeout=function(){return new e(t.call(setTimeout,window,arguments),clearTimeout)},s.setInterval=function(){return new e(t.call(setInterval,window,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(t){t.close()},e.prototype.unref=e.prototype.ref=function(){},e.prototype.close=function(){this._clearFn.call(window,this._id)},s.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},s.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},s._unrefActive=s.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},s.setImmediate="function"==typeof n?n:function(t){var e=a++,n=!(arguments.length<2)&&o.call(arguments,1);return i[e]=!0,r(function(){i[e]&&(n?t.apply(null,n):t.call(null),s.clearImmediate(e))}),e},s.clearImmediate="function"==typeof u?u:function(t){delete i[t]}}.call(this)}.call(this,c("timers").setImmediate,c("timers").clearImmediate)},{"process/browser.js":69,timers:77}],78:[function(t,e,n){"use strict";var S=t("punycode");function x(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var k=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,j=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,o=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),A=["'"].concat(o),I=["%","/","?",";","#"].concat(A),E=["/","?","#"],O=/^[+a-z0-9A-Z_-]{0,63}$/,C=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,T={javascript:!0,"javascript:":!0},F={javascript:!0,"javascript:":!0},$={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},P=t("qs");function i(t,e,n){var r;return t&&"object"==typeof t&&t instanceof x?t:((r=new x).parse(t,e,n),r)}x.prototype.parse=function(t,e,n){if("string"!=typeof t)throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),r=-1!==r&&r<t.indexOf("#")?"?":"#",o=t.split(r);o[0]=o[0].replace(/\\/g,"/");var i=(i=t=o.join(r)).trim();if(!n&&1===t.split("#").length){o=j.exec(i);if(o)return this.path=i,this.href=i,this.pathname=o[1],o[2]?(this.search=o[2],this.query=e?P.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var a,r=k.exec(i);if(r&&(a=(r=r[0]).toLowerCase(),this.protocol=a,i=i.substr(r.length)),!(n||r||i.match(/^\/\/[^@/]+@[^@/]+/))||!(w="//"===i.substr(0,2))||r&&F[r]||(i=i.substr(2),this.slashes=!0),!F[r]&&(w||r&&!$[r])){for(var u=-1,c=0;c<E.length;c++)-1!==(s=i.indexOf(E[c]))&&(-1===u||s<u)&&(u=s);-1!==(t=-1===u?i.lastIndexOf("@"):i.lastIndexOf("@",u))&&(o=i.slice(0,t),i=i.slice(t+1),this.auth=decodeURIComponent(o));for(var s,u=-1,c=0;c<I.length;c++)-1!==(s=i.indexOf(I[c]))&&(-1===u||s<u)&&(u=s);-1===u&&(u=i.length),this.host=i.slice(0,u),i=i.slice(u),this.parseHost(),this.hostname=this.hostname||"";n="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!n)for(var l=this.hostname.split(/\./),c=0,f=l.length;c<f;c++){var p=l[c];if(p&&!p.match(O)){for(var d="",h=0,y=p.length;h<y;h++)127<p.charCodeAt(h)?d+="x":d+=p[h];if(!d.match(O)){var g=l.slice(0,c),m=l.slice(c+1),v=p.match(C);v&&(g.push(v[1]),m.unshift(v[2])),m.length&&(i="/"+m.join(".")+i),this.hostname=g.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),n||(this.hostname=S.toASCII(this.hostname));var b=this.port?":"+this.port:"",w=this.hostname||"";this.host=w+b,this.href+=this.host,n&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==i[0])&&(i="/"+i)}if(!T[a])for(c=0,f=A.length;c<f;c++){var x,_=A[c];-1!==i.indexOf(_)&&((x=encodeURIComponent(_))===_&&(x=escape(_)),i=i.split(_).join(x))}r=i.indexOf("#"),-1!==r&&(this.hash=i.substr(r),i=i.slice(0,r)),t=i.indexOf("?");return-1!==t?(this.search=i.substr(t),this.query=i.substr(t+1),e&&(this.query=P.parse(this.query)),i=i.slice(0,t)):e&&(this.search="",this.query={}),i&&(this.pathname=i),$[a]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(b=this.pathname||"",o=this.search||"",this.path=b+o),this.href=this.format(),this},x.prototype.format=function(){var t=this.auth||"",e=(t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@"),this.protocol||""),n=this.pathname||"",r=this.hash||"",o=!1,i="",t=(this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port)&&(o+=":"+this.port),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(i=P.stringify(this.query)),this.search||i&&"?"+i||"");return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||$[e])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o=o||"",r&&"#"!==r.charAt(0)&&(r="#"+r),t&&"?"!==t.charAt(0)&&(t="?"+t),e+o+(n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(t=t.replace("#","%23"))+r},x.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},x.prototype.resolveObject=function(t){"string"==typeof t&&((p=new x).parse(t,!1,!0),t=p);for(var e=new x,n=Object.keys(this),r=0;r<n.length;r++){var o=n[r];e[o]=this[o]}if(e.hash=t.hash,""!==t.href)if(t.slashes&&!t.protocol){for(var i=Object.keys(t),a=0;a<i.length;a++){var u=i[a];"protocol"!==u&&(e[u]=t[u])}$[e.protocol]&&e.hostname&&!e.pathname&&(e.pathname="/",e.path=e.pathname)}else if(t.protocol&&t.protocol!==e.protocol)if($[t.protocol]){if(e.protocol=t.protocol,t.host||F[t.protocol])e.pathname=t.pathname;else{for(var c=(t.pathname||"").split("/");c.length&&!(t.host=c.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==c[0]&&c.unshift(""),c.length<2&&c.unshift(""),e.pathname=c.join("/")}e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,(e.pathname||e.search)&&(p=e.pathname||"",d=e.search||"",e.path=p+d),e.slashes=e.slashes||t.slashes}else for(var s=Object.keys(t),l=0;l<s.length;l++){var f=s[l];e[f]=t[f]}else{var p=e.pathname&&"/"===e.pathname.charAt(0),d=t.host||t.pathname&&"/"===t.pathname.charAt(0),p=d||p||e.host&&t.pathname,h=p,y=e.pathname&&e.pathname.split("/")||[],c=t.pathname&&t.pathname.split("/")||[],g=e.protocol&&!$[e.protocol];if(g&&(e.hostname="",e.port=null,e.host&&(""===y[0]?y[0]=e.host:y.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===c[0]?c[0]=t.host:c.unshift(t.host)),t.host=null),p=p&&(""===c[0]||""===y[0])),d)e.host=(t.host||""===t.host?t:e).host,e.hostname=(t.hostname||""===t.hostname?t:e).hostname,e.search=t.search,e.query=t.query,y=c;else if(c.length)(y=y||[]).pop(),y=y.concat(c),e.search=t.search,e.query=t.query;else if(null!=t.search)return g&&(e.host=y.shift(),e.hostname=e.host,w=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=w.shift(),e.hostname=w.shift(),e.host=e.hostname),e.search=t.search,e.query=t.query,null===e.pathname&&null===e.search||(e.path=(e.pathname||"")+(e.search||"")),e.href=e.format(),e;if(y.length){for(var m=y.slice(-1)[0],d=(e.host||t.host||1<y.length)&&("."===m||".."===m)||""===m,v=0,b=y.length;0<=b;b--)"."===(m=y[b])?y.splice(b,1):".."===m?(y.splice(b,1),v++):v&&(y.splice(b,1),v--);if(!p&&!h)for(;v--;)y.unshift("..");!p||""===y[0]||y[0]&&"/"===y[0].charAt(0)||y.unshift(""),d&&"/"!==y.join("/").substr(-1)&&y.push("");var w,h=""===y[0]||y[0]&&"/"===y[0].charAt(0);g&&(e.hostname=!h&&y.length?y.shift():"",e.host=e.hostname,w=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=w.shift(),e.hostname=w.shift(),e.host=e.hostname),(p=p||e.host&&y.length)&&!h&&y.unshift(""),0<y.length?e.pathname=y.join("/"):(e.pathname=null,e.path=null),null===e.pathname&&null===e.search||(e.path=(e.pathname||"")+(e.search||"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes}else e.pathname=null,e.search?e.path="/"+e.search:e.path=null}return e.href=e.format(),e},x.prototype.parseHost=function(){var t=this.host,e=r.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)},n.parse=i,n.resolve=function(t,e){return i(t,!1,!0).resolve(e)},n.resolveObject=function(t,e){return t?i(t,!1,!0).resolveObject(e):e},n.format=function(t){return(t="string"==typeof t?i(t):t)instanceof x?t.format():x.prototype.format.call(t)},n.Url=x},{punycode:70,qs:72}],79:[function(s,e,n){!function(r){!function(){!function(t){"object"==typeof n&&void 0!==e?e.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:this).localforage=t()}(function(){return function r(o,i,a){function u(n,t){if(!i[n]){if(!o[n]){var e="function"==typeof s&&s;if(!t&&e)return e(n,!0);if(c)return c(n,!0);t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}e=i[n]={exports:{}};o[n][0].call(e.exports,function(t){var e=o[n][1][t];return u(e||t)},e,e.exports,r,o,i,a)}return i[n].exports}for(var c="function"==typeof s&&s,t=0;t<a.length;t++)u(a[t]);return u}({1:[function(t,s,e){!function(e){"use strict";var t,n,r,o,i=e.MutationObserver||e.WebKitMutationObserver,a=i?(t=0,i=new i(c),n=e.document.createTextNode(""),i.observe(n,{characterData:!0}),function(){n.data=t=++t%2}):e.setImmediate||void 0===e.MessageChannel?"document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)}:((r=new e.MessageChannel).port1.onmessage=c,function(){r.port2.postMessage(0)}),u=[];function c(){o=!0;for(var t,e,n=u.length;n;){for(e=u,u=[],t=-1;++t<n;)e[t]();n=u.length}o=!1}s.exports=function(t){1!==u.push(t)||o||a()}}.call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){"use strict";var o=t(1);function c(){}var s={},i=["REJECTED"],a=["FULFILLED"],r=["PENDING"];function u(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=r,this.queue=[],this.outcome=void 0,t!==c&&d(this,t)}function l(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function f(e,n,r){o(function(){var t;try{t=n(r)}catch(t){return s.reject(e,t)}t===e?s.reject(e,new TypeError("Cannot resolve promise with itself")):s.resolve(e,t)})}function p(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function d(e,t){var n=!1;function r(t){n||(n=!0,s.reject(e,t))}function o(t){n||(n=!0,s.resolve(e,t))}var i=h(function(){t(o,r)});"error"===i.status&&r(i.value)}function h(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}(e.exports=u).prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,e){var n;return"function"!=typeof t&&this.state===a||"function"!=typeof e&&this.state===i?this:(n=new this.constructor(c),this.state!==r?f(n,this.state===a?t:e,this.outcome):this.queue.push(new l(n,t,e)),n)},l.prototype.callFulfilled=function(t){s.resolve(this.promise,t)},l.prototype.otherCallFulfilled=function(t){f(this.promise,this.onFulfilled,t)},l.prototype.callRejected=function(t){s.reject(this.promise,t)},l.prototype.otherCallRejected=function(t){f(this.promise,this.onRejected,t)},s.resolve=function(t,e){var n=h(p,e);if("error"===n.status)return s.reject(t,n.value);n=n.value;if(n)d(t,n);else{t.state=a,t.outcome=e;for(var r=-1,o=t.queue.length;++r<o;)t.queue[r].callFulfilled(e)}return t},s.reject=function(t,e){t.state=i,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},u.resolve=function(t){if(t instanceof this)return t;return s.resolve(new this(c),t)},u.reject=function(t){var e=new this(c);return s.reject(e,t)},u.all=function(t){var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,o=!1;if(!r)return this.resolve([]);var i=new Array(r),a=0,e=-1,u=new this(c);for(;++e<r;)!function(t,e){n.resolve(t).then(function(t){i[e]=t,++a!==r||o||(o=!0,s.resolve(u,i))},function(t){o||(o=!0,s.reject(u,t))})}(t[e],e);return u},u.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);var o=-1,i=new this(c);for(;++o<n;)!function(t){e.resolve(t).then(function(t){r||(r=!0,s.resolve(i,t))},function(t){r||(r=!0,s.reject(i,t))})}(t[o]);return i}},{1:1}],3:[function(e,t,n){!function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}.call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,L,D){"use strict";var M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var u=function(){try{return"undefined"!=typeof indexedDB?indexedDB:"undefined"!=typeof webkitIndexedDB?webkitIndexedDB:"undefined"!=typeof mozIndexedDB?mozIndexedDB:"undefined"!=typeof OIndexedDB?OIndexedDB:"undefined"!=typeof msIndexedDB?msIndexedDB:void 0}catch(t){}}();function i(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(t){if("TypeError"!==t.name)throw t;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),o=0;o<e.length;o+=1)r.append(e[o]);return r.getBlob(n.type)}}"undefined"==typeof Promise&&t(3);var d=Promise;function h(t,e){e&&t.then(function(t){e(null,t)},function(t){e(t)})}function c(t,e,n){"function"==typeof e&&t.then(e),"function"==typeof n&&t.catch(n)}function l(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function s(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var a="local-forage-detect-blob-support",e=void 0,f={},N=Object.prototype.toString,n="readonly",p="readwrite";function B(t){return"boolean"==typeof e?d.resolve(e):(r=t,new d(function(n){var t=r.transaction(a,p),e=i([""]);t.objectStore(a).put(e,"key"),t.onabort=function(t){t.preventDefault(),t.stopPropagation(),n(!1)},t.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),e=navigator.userAgent.match(/Edge\//);n(e||!t||43<=parseInt(t[1],10))}}).catch(function(){return!1}).then(function(t){return e=t}));var r}function y(t){var t=f[t.name],n={};n.promise=new d(function(t,e){n.resolve=t,n.reject=e}),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then(function(){return n.promise}):t.dbReady=n.promise}function g(t){t=f[t.name].deferredOperations.pop();t&&(t.resolve(),t.promise)}function m(t,e){t=f[t.name].deferredOperations.pop();if(t)return t.reject(e),t.promise}function r(o,i){return new d(function(e,n){if(f[o.name]=f[o.name]||U(),o.db){if(!i)return e(o.db);y(o),o.db.close()}var t=[o.name],r=(i&&t.push(o.version),u.open.apply(u,t));i&&(r.onupgradeneeded=function(e){var t=r.result;try{t.createObjectStore(o.storeName),e.oldVersion<=1&&t.createObjectStore(a)}catch(t){if("ConstraintError"!==t.name)throw t;console.warn('The database "'+o.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+o.storeName+'" already exists.')}}),r.onerror=function(t){t.preventDefault(),n(r.error)},r.onsuccess=function(){var t=r.result;t.onversionchange=function(t){t.target.close()},e(t),g(o)}})}function v(t){return r(t,!1)}function b(t){return r(t,!0)}function w(t,e){var n,r,o;return!t.db||(n=!t.db.objectStoreNames.contains(t.storeName),o=t.version<t.db.version,r=t.version>t.db.version,o&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),(r||n)&&(n&&(o=t.db.version+1)>t.version&&(t.version=o),1))}function x(t){return i([function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),o=0;o<e;o++)r[o]=t.charCodeAt(o);return n}(atob(t.data))],{type:t.type})}function _(t){return t&&t.__local_forage_encoded_blob}function z(t){var e=this,n=e._initReady().then(function(){var t=f[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady});return c(n,t,t),n}function S(e,n,r,o){void 0===o&&(o=1);try{var t=e.db.transaction(e.storeName,n);r(null,t)}catch(t){if(0<o&&(!e.db||"InvalidStateError"===t.name||"NotFoundError"===t.name))return d.resolve().then(function(){if(!e.db||"NotFoundError"===t.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),b(e)}).then(function(){return function(n){y(n);for(var r=f[n.name],o=r.forages,t=0;t<o.length;t++){var e=o[t];e._dbInfo.db&&(e._dbInfo.db.close(),e._dbInfo.db=null)}return n.db=null,v(n).then(function(t){return n.db=t,w(n)?b(n):t}).then(function(t){n.db=r.db=t;for(var e=0;e<o.length;e++)o[e]._dbInfo.db=t}).catch(function(t){throw m(n,t),t})}(e).then(function(){S(e,n,r,o-1)})}).catch(r);r(t)}}function U(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}t={_driver:"asyncStorage",_initStorage:function(t){var r=this,o={db:null};if(t)for(var e in t)o[e]=t[e];var i=f[o.name],n=(i||(i=U(),f[o.name]=i),i.forages.push(r),r._initReady||(r._initReady=r.ready,r.ready=z),[]);function a(){return d.resolve()}for(var u=0;u<i.forages.length;u++){var c=i.forages[u];c!==r&&n.push(c._initReady().catch(a))}var s=i.forages.slice(0);return d.all(n).then(function(){return o.db=i.db,v(o)}).then(function(t){return o.db=t,w(o,r._defaultConfig.version)?b(o):t}).then(function(t){o.db=i.db=t,r._dbInfo=o;for(var e=0;e<s.length;e++){var n=s[e];n!==r&&(n._dbInfo.db=o.db,n._dbInfo.version=o.version)}})},_support:function(){try{var t,e;return u&&u.open?(t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code"),(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange):!1}catch(t){return!1}}(),iterate:function(a,t){var u=this,e=new d(function(o,i){u.ready().then(function(){S(u._dbInfo,n,function(t,e){if(t)return i(t);try{var n=e.objectStore(u._dbInfo.storeName).openCursor(),r=1;n.onsuccess=function(){var t,e=n.result;e?(_(t=e.value)&&(t=x(t)),void 0!==(t=a(t,e.key,r++))?o(t):e.continue()):o()},n.onerror=function(){i(n.error)}}catch(t){i(t)}})}).catch(i)});return h(e,t),e},getItem:function(i,t){var a=this,e=(i=l(i),new d(function(r,o){a.ready().then(function(){S(a._dbInfo,n,function(t,e){if(t)return o(t);try{var n=e.objectStore(a._dbInfo.storeName).get(i);n.onsuccess=function(){var t=n.result;_(t=void 0===t?null:t)&&(t=x(t)),r(t)},n.onerror=function(){o(n.error)}}catch(t){o(t)}})}).catch(o)}));return h(e,t),e},setItem:function(u,e,t){var c=this,n=(u=l(u),new d(function(i,a){var t;c.ready().then(function(){return t=c._dbInfo,"[object Blob]"===N.call(e)?B(t.db).then(function(t){return t?e:(r=e,new d(function(e,t){var n=new FileReader;n.onerror=t,n.onloadend=function(t){t=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:t,type:r.type})},n.readAsBinaryString(r)}));var r}):e}).then(function(o){S(c._dbInfo,p,function(t,e){if(t)return a(t);try{var n=e.objectStore(c._dbInfo.storeName),r=(null===o&&(o=void 0),n.put(o,u));e.oncomplete=function(){i(o=void 0===o?null:o)},e.onabort=e.onerror=function(){var t=r.error||r.transaction.error;a(t)}}catch(t){a(t)}})}).catch(a)}));return h(n,t),n},removeItem:function(i,t){var a=this,e=(i=l(i),new d(function(r,o){a.ready().then(function(){S(a._dbInfo,p,function(t,e){if(t)return o(t);try{var n=e.objectStore(a._dbInfo.storeName).delete(i);e.oncomplete=function(){r()},e.onerror=function(){o(n.error)},e.onabort=function(){var t=n.error||n.transaction.error;o(t)}}catch(t){o(t)}})}).catch(o)}));return h(e,t),e},clear:function(t){var i=this,e=new d(function(r,o){i.ready().then(function(){S(i._dbInfo,p,function(t,e){if(t)return o(t);try{var n=e.objectStore(i._dbInfo.storeName).clear();e.oncomplete=function(){r()},e.onabort=e.onerror=function(){var t=n.error||n.transaction.error;o(t)}}catch(t){o(t)}})}).catch(o)});return h(e,t),e},length:function(t){var i=this,e=new d(function(r,o){i.ready().then(function(){S(i._dbInfo,n,function(t,e){if(t)return o(t);try{var n=e.objectStore(i._dbInfo.storeName).count();n.onsuccess=function(){r(n.result)},n.onerror=function(){o(n.error)}}catch(t){o(t)}})}).catch(o)});return h(e,t),e},key:function(u,t){var c=this,e=new d(function(i,a){u<0?i(null):c.ready().then(function(){S(c._dbInfo,n,function(t,e){if(t)return a(t);try{var n=e.objectStore(c._dbInfo.storeName),r=!1,o=n.openKeyCursor();o.onsuccess=function(){var t=o.result;t?0===u||r?i(t.key):(r=!0,t.advance(u)):i(null)},o.onerror=function(){a(o.error)}}catch(t){a(t)}})}).catch(a)});return h(e,t),e},keys:function(t){var a=this,e=new d(function(o,i){a.ready().then(function(){S(a._dbInfo,n,function(t,e){if(t)return i(t);try{var n=e.objectStore(a._dbInfo.storeName).openKeyCursor(),r=[];n.onsuccess=function(){var t=n.result;t?(r.push(t.key),t.continue()):o(r)},n.onerror=function(){i(n.error)}}catch(t){i(t)}})}).catch(i)});return h(e,t),e},dropInstance:function(a,t){t=s.apply(this,arguments);var e=this.config();return(a="function"!=typeof a&&a||{}).name||(a.name=a.name||e.name,a.storeName=a.storeName||e.storeName),h(e=a.name?(e=a.name===e.name&&this._dbInfo.db?d.resolve(this._dbInfo.db):v(a).then(function(t){var e=f[a.name],n=e.forages;e.db=t;for(var r=0;r<n.length;r++)n[r]._dbInfo.db=t;return t}),a.storeName?e.then(function(t){if(t.objectStoreNames.contains(a.storeName)){var o=t.version+1,r=(y(a),f[a.name]),i=r.forages;t.close();for(var e=0;e<i.length;e++){var n=i[e];n._dbInfo.db=null,n._dbInfo.version=o}return new d(function(e,n){var r=u.open(a.name,o);r.onerror=function(t){r.result.close(),n(t)},r.onupgradeneeded=function(){r.result.deleteObjectStore(a.storeName)},r.onsuccess=function(){var t=r.result;t.close(),e(t)}}).then(function(t){r.db=t;for(var e=0;e<i.length;e++){var n=i[e];n._dbInfo.db=t,g(n._dbInfo)}}).catch(function(t){throw(m(a,t)||d.resolve()).catch(function(){}),t})}}):e.then(function(t){y(a);var n=f[a.name],r=n.forages;t.close();for(var e=0;e<r.length;e++)r[e]._dbInfo.db=null;return new d(function(e,n){var r=u.deleteDatabase(a.name);r.onerror=function(){var t=r.result;t&&t.close(),n(r.error)},r.onblocked=function(){console.warn('dropInstance blocked for database "'+a.name+'" until all open connections are closed')},r.onsuccess=function(){var t=r.result;t&&t.close(),e(t)}}).then(function(t){n.db=t;for(var e=0;e<r.length;e++)g(r[e]._dbInfo)}).catch(function(t){throw(m(a,t)||d.resolve()).catch(function(){}),t})})):d.reject("Invalid arguments"),t),e}};var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",q=/^~~local_forage_type~([^~]+)~/,j="__lfsc__:",A=j.length,W=A+"arbf".length,V=Object.prototype.toString;function K(t){for(var e,n,r,o,i=.75*t.length,a=t.length,u=0,i=("="===t[t.length-1]&&(i--,"="===t[t.length-2])&&i--,new ArrayBuffer(i)),c=new Uint8Array(i),s=0;s<a;s+=4)e=k.indexOf(t[s]),n=k.indexOf(t[s+1]),r=k.indexOf(t[s+2]),o=k.indexOf(t[s+3]),c[u++]=e<<2|n>>4,c[u++]=(15&n)<<4|r>>2,c[u++]=(3&r)<<6|63&o;return i}function I(t){for(var e=new Uint8Array(t),n="",r=0;r<e.length;r+=3)n=(n=(n=(n+=k[e[r]>>2])+k[(3&e[r])<<4|e[r+1]>>4])+k[(15&e[r+1])<<2|e[r+2]>>6])+k[63&e[r+2]];return e.length%3==2?n=n.substring(0,n.length-1)+"=":e.length%3==1&&(n=n.substring(0,n.length-2)+"=="),n}var E={serialize:function(e,n){var t="";if(e&&(t=V.call(e)),e&&("[object ArrayBuffer]"===t||e.buffer&&"[object ArrayBuffer]"===V.call(e.buffer))){var r,o=j;e instanceof ArrayBuffer?(r=e,o+="arbf"):(r=e.buffer,"[object Int8Array]"===t?o+="si08":"[object Uint8Array]"===t?o+="ui08":"[object Uint8ClampedArray]"===t?o+="uic8":"[object Int16Array]"===t?o+="si16":"[object Uint16Array]"===t?o+="ur16":"[object Int32Array]"===t?o+="si32":"[object Uint32Array]"===t?o+="ui32":"[object Float32Array]"===t?o+="fl32":"[object Float64Array]"===t?o+="fl64":n(new Error("Failed to get type for BinaryArray"))),n(o+I(r))}else if("[object Blob]"===t){o=new FileReader;o.onload=function(){var t="~~local_forage_type~"+e.type+"~"+I(this.result);n(j+"blob"+t)},o.readAsArrayBuffer(e)}else try{n(JSON.stringify(e))}catch(t){console.error("Couldn't convert value into a JSON string: ",e),n(null,t)}},deserialize:function(t){if(t.substring(0,A)!==j)return JSON.parse(t);var e,n=t.substring(W),r=t.substring(A,W),o=("blob"===r&&q.test(n)&&(e=(t=n.match(q))[1],n=n.substring(t[0].length)),K(n));switch(r){case"arbf":return o;case"blob":return i([o],{type:e});case"si08":return new Int8Array(o);case"ui08":return new Uint8Array(o);case"uic8":return new Uint8ClampedArray(o);case"si16":return new Int16Array(o);case"ur16":return new Uint16Array(o);case"si32":return new Int32Array(o);case"ui32":return new Uint32Array(o);case"fl32":return new Float32Array(o);case"fl64":return new Float64Array(o);default:throw new Error("Unkown type: "+r)}},stringToBuffer:K,bufferToString:I};function G(t,e,n,r){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function O(t,r,o,i,a,u){t.executeSql(o,i,a,function(t,n){n.code===n.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[r.storeName],function(t,e){e.rows.length?u(t,n):G(t,r,function(){t.executeSql(o,i,a,u)},u)},u):u(t,n)},u)}function H(a,t,u,c){var s=this,e=(a=l(a),new d(function(o,i){s.ready().then(function(){var n=t=void 0===t?null:t,r=s._dbInfo;r.serializer.serialize(t,function(e,t){t?i(t):r.db.transaction(function(t){O(t,r,"INSERT OR REPLACE INTO "+r.storeName+" (key, value) VALUES (?, ?)",[a,e],function(){o(n)},function(t,e){i(e)})},function(t){t.code===t.QUOTA_ERR&&(0<c?o(H.apply(s,[a,n,u,c-1])):i(t))})})}).catch(i)}));return h(e,u),e}var o={_driver:"webSQLStorage",_initStorage:function(t){var r=this,o={db:null};if(t)for(var e in t)o[e]="string"!=typeof t[e]?t[e].toString():t[e];var n=new d(function(e,n){try{o.db=openDatabase(o.name,String(o.version),o.description,o.size)}catch(t){return n(t)}o.db.transaction(function(t){G(t,o,function(){r._dbInfo=o,e()},function(t,e){n(e)})},n)});return o.serializer=E,n},_support:"function"==typeof openDatabase,iterate:function(s,t){var e=this,n=new d(function(c,n){e.ready().then(function(){var u=e._dbInfo;u.db.transaction(function(t){O(t,u,"SELECT * FROM "+u.storeName,[],function(t,e){for(var n=e.rows,r=n.length,o=0;o<r;o++){var i=n.item(o),a=(a=i.value)&&u.serializer.deserialize(a);if(void 0!==(a=s(a,i.key,o+1)))return void c(a)}c()},function(t,e){n(e)})})}).catch(n)});return h(n,t),n},getItem:function(e,t){var i=this,n=(e=l(e),new d(function(r,o){i.ready().then(function(){var n=i._dbInfo;n.db.transaction(function(t){O(t,n,"SELECT * FROM "+n.storeName+" WHERE key = ? LIMIT 1",[e],function(t,e){e=(e=e.rows.length?e.rows.item(0).value:null)&&n.serializer.deserialize(e);r(e)},function(t,e){o(e)})})}).catch(o)}));return h(n,t),n},setItem:function(t,e,n){return H.apply(this,[t,e,n,1])},removeItem:function(o,t){var i=this,e=(o=l(o),new d(function(n,r){i.ready().then(function(){var e=i._dbInfo;e.db.transaction(function(t){O(t,e,"DELETE FROM "+e.storeName+" WHERE key = ?",[o],function(){n()},function(t,e){r(e)})})}).catch(r)}));return h(e,t),e},clear:function(t){var o=this,e=new d(function(n,r){o.ready().then(function(){var e=o._dbInfo;e.db.transaction(function(t){O(t,e,"DELETE FROM "+e.storeName,[],function(){n()},function(t,e){r(e)})})}).catch(r)});return h(e,t),e},length:function(t){var o=this,e=new d(function(n,r){o.ready().then(function(){var e=o._dbInfo;e.db.transaction(function(t){O(t,e,"SELECT COUNT(key) as c FROM "+e.storeName,[],function(t,e){e=e.rows.item(0).c;n(e)},function(t,e){r(e)})})}).catch(r)});return h(e,t),e},key:function(o,t){var i=this,e=new d(function(n,r){i.ready().then(function(){var e=i._dbInfo;e.db.transaction(function(t){O(t,e,"SELECT key FROM "+e.storeName+" WHERE id = ? LIMIT 1",[o+1],function(t,e){e=e.rows.length?e.rows.item(0).key:null;n(e)},function(t,e){r(e)})})}).catch(r)});return h(e,t),e},keys:function(t){var r=this,e=new d(function(o,n){r.ready().then(function(){var e=r._dbInfo;e.db.transaction(function(t){O(t,e,"SELECT key FROM "+e.storeName,[],function(t,e){for(var n=[],r=0;r<e.rows.length;r++)n.push(e.rows.item(r).key);o(n)},function(t,e){n(e)})})}).catch(n)});return h(e,t),e},dropInstance:function(n,t){t=s.apply(this,arguments);var r=this.config(),o=((n="function"!=typeof n&&n||{}).name||(n.name=n.name||r.name,n.storeName=n.storeName||r.storeName),this),e=n.name?new d(function(t){var i,e=n.name===r.name?o._dbInfo.db:openDatabase(n.name,"","",0);n.storeName?t({db:e,storeNames:[n.storeName]}):t((i=e,new d(function(o,n){i.transaction(function(t){t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(t,e){for(var n=[],r=0;r<e.rows.length;r++)n.push(e.rows.item(r).name);o({db:i,storeNames:n})},function(t,e){n(e)})},function(t){n(t)})})))}).then(function(a){return new d(function(o,i){a.db.transaction(function(r){for(var t=[],e=0,n=a.storeNames.length;e<n;e++)t.push(function(e){return new d(function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],function(){t()},function(t,e){n(e)})})}(a.storeNames[e]));d.all(t).then(function(){o()}).catch(function(t){i(t)})},function(t){i(t)})})}):d.reject("Invalid arguments");return h(e,t),e}};function J(t,e){var n=t.name+"/";return t.storeName!==e.storeName&&(n+=t.storeName+"/"),n}function Q(){return!function(){var t="_localforage_support_test";try{localStorage.setItem(t,!0),localStorage.removeItem(t)}catch(t){return 1}}()||0<localStorage.length}function Y(t,e){for(var n,r,o=t.length,i=0;i<o;){if((n=t[i])===(r=e)||"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))return 1;i++}}var X={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var n in t)e[n]=t[n];return e.keyPrefix=J(t,this._defaultConfig),Q()?((this._dbInfo=e).serializer=E,d.resolve()):d.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(c,t){var s=this,e=s.ready().then(function(){for(var t=s._dbInfo,e=t.keyPrefix,n=e.length,r=localStorage.length,o=1,i=0;i<r;i++){var a=localStorage.key(i);if(0===a.indexOf(e)){var u=(u=localStorage.getItem(a))&&t.serializer.deserialize(u);if(void 0!==(u=c(u,a.substring(n),o++)))return u}}});return h(e,t),e},getItem:function(n,t){var r=this,e=(n=l(n),r.ready().then(function(){var t=r._dbInfo,e=localStorage.getItem(t.keyPrefix+n);return e=e&&t.serializer.deserialize(e)}));return h(e,t),e},setItem:function(a,t,e){var u=this,n=(a=l(a),u.ready().then(function(){var i=t=void 0===t?null:t;return new d(function(n,r){var o=u._dbInfo;o.serializer.serialize(t,function(t,e){if(e)r(e);else try{localStorage.setItem(o.keyPrefix+a,t),n(i)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||r(t),r(t)}})})}));return h(n,e),n},removeItem:function(e,t){var n=this,r=(e=l(e),n.ready().then(function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return h(r,t),r},clear:function(t){var r=this,e=r.ready().then(function(){for(var t=r._dbInfo.keyPrefix,e=localStorage.length-1;0<=e;e--){var n=localStorage.key(e);0===n.indexOf(t)&&localStorage.removeItem(n)}});return h(e,t),e},length:function(t){var e=this.keys().then(function(t){return t.length});return h(e,t),e},key:function(n,t){var r=this,e=r.ready().then(function(){var e,t=r._dbInfo;try{e=localStorage.key(n)}catch(t){e=null}return e=e&&e.substring(t.keyPrefix.length)});return h(e,t),e},keys:function(t){var i=this,e=i.ready().then(function(){for(var t=i._dbInfo,e=localStorage.length,n=[],r=0;r<e;r++){var o=localStorage.key(r);0===o.indexOf(t.keyPrefix)&&n.push(o.substring(t.keyPrefix.length))}return n});return h(e,t),e},dropInstance:function(e,t){t=s.apply(this,arguments),(e="function"!=typeof e&&e||{}).name||(r=this.config(),e.name=e.name||r.name,e.storeName=e.storeName||r.storeName);var n=this,r=e.name?new d(function(t){e.storeName?t(J(e,n._defaultConfig)):t(e.name+"/")}).then(function(t){for(var e=localStorage.length-1;0<=e;e--){var n=localStorage.key(e);0===n.indexOf(t)&&localStorage.removeItem(n)}}):d.reject("Invalid arguments");return h(r,t),r}},Z=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},C={},tt={},T={INDEXEDDB:t,WEBSQL:o,LOCALSTORAGE:X},t=[T.INDEXEDDB._driver,T.WEBSQL._driver,T.LOCALSTORAGE._driver],F=["dropInstance"],$=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(F),et={description:"",driver:t.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function P(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var r in n)n.hasOwnProperty(r)&&(Z(n[r])?t[r]=n[r].slice():t[r]=n[r])}return t}function R(t){var e,n,r;if(!(this instanceof R))throw new TypeError("Cannot call a class as a function");for(e in T)T.hasOwnProperty(e)&&(r=(n=T[e])._driver,this[e]=r,C[r]||this.defineDriver(n));this._defaultConfig=P({},et),this._config=P({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}R.prototype.config=function(t){if("object"!==(void 0===t?"undefined":M(t)))return"string"==typeof t?this._config[t]:this._config;if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t&&t.driver)||this.setDriver(this._config.driver)},R.prototype.defineDriver=function(p,t,e){var n=new d(function(e,n){try{var r=p._driver,t=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(p._driver){for(var o=$.concat("_initStorage"),i=0,a=o.length;i<a;i++){var u=o[i];if((!Y(F,u)||p[u])&&"function"!=typeof p[u])return void n(t)}for(var c=0,s=F.length;c<s;c++){var l=F[c];p[l]||(p[l]=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),t=d.reject(t);return h(t,arguments[arguments.length-1]),t}}(l))}var f=function(t){C[r]&&console.info("Redefining LocalForage driver: "+r),C[r]=p,tt[r]=t,e()};"_support"in p?p._support&&"function"==typeof p._support?p._support().then(f,n):f(!!p._support):f(!0)}else n(t)}catch(t){n(t)}});return c(n,t,e),n},R.prototype.driver=function(){return this._driver||null},R.prototype.getDriver=function(t,e,n){t=C[t]?d.resolve(C[t]):d.reject(new Error("Driver not found."));return c(t,e,n),t},R.prototype.getSerializer=function(t){var e=d.resolve(E);return c(e,t),e},R.prototype.ready=function(t){var e=this,n=e._driverSet.then(function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready});return c(n,t,t),n},R.prototype.setDriver=function(t,e,n){var i=this,r=(Z(t)||(t=[t]),this._getSupportedDrivers(t));function a(){i._config.driver=i.driver()}function u(t){return i._extend(t),a(),i._ready=i._initStorage(i._config),i._ready}function o(o){return function(){var r=0;return function t(){for(;r<o.length;){var e=o[r];return r++,i._dbInfo=null,i._ready=null,i.getDriver(e).then(u).catch(t)}a();var n=new Error("No available storage method found.");return i._driverSet=d.reject(n),i._driverSet}()}}t=null!==this._driverSet?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=t.then(function(){var t=r[0];return i._dbInfo=null,i._ready=null,i.getDriver(t).then(function(t){i._driver=t._driver,a(),i._wrapLibraryMethodsWithReady(),i._initDriver=o(r)})}).catch(function(){a();var t=new Error("No available storage method found.");return i._driverSet=d.reject(t),i._driverSet}),c(this._driverSet,e,n),this._driverSet},R.prototype.supports=function(t){return!!tt[t]},R.prototype._extend=function(t){P(this,t)},R.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var o=t[n];this.supports(o)&&e.push(o)}return e},R.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=$.length;t<e;t++)!function(e,n){e[n]=function(){var t=arguments;return e.ready().then(function(){return e[n].apply(e,t)})}}(this,$[t])},R.prototype.createInstance=function(t){return new R(t)};o=new R;L.exports=o},{3:3}]},{},[4])(4)})}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],80:[function(t,e,n){var r,o;r=this,o=function(){"use strict";var I=function(){return(I=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function t(t,a,u,c){return new(u=u||Promise)(function(n,e){function r(t){try{i(c.next(t))}catch(t){e(t)}}function o(t){try{i(c.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?n(t.value):((e=t.value)instanceof u?e:new u(function(t){t(e)})).then(r,o)}i((c=c.apply(t,a||[])).next())})}function E(r,o){var i,a,u,c={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]},s={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function t(n){return function(t){var e=[n,t];if(i)throw new TypeError("Generator is already executing.");for(;c=s&&e[s=0]?0:c;)try{if(i=1,a&&(u=2&e[0]?a.return:e[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,e[1])).done)return u;switch(a=0,(e=u?[2&e[0],u.value]:e)[0]){case 0:case 1:u=e;break;case 4:return c.label++,{value:e[1],done:!1};case 5:c.label++,a=e[1],e=[0];continue;case 7:e=c.ops.pop(),c.trys.pop();continue;default:if(!(u=0<(u=c.trys).length&&u[u.length-1])&&(6===e[0]||2===e[0])){c=0;continue}if(3===e[0]&&(!u||e[1]>u[0]&&e[1]<u[3]))c.label=e[1];else if(6===e[0]&&c.label<u[1])c.label=u[1],u=e;else{if(!(u&&c.label<u[2])){u[2]&&c.ops.pop(),c.trys.pop();continue}c.label=u[2],c.ops.push(e)}}e=o.call(r,c)}catch(t){e=[6,t],a=0}finally{i=u=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}}}function P(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return{value:(t=t&&r>=t.length?void 0:t)&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function R(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var O="",e=(n.prototype.next=function(){var t=this.dive();return this.backtrack(),t},n.prototype.dive=function(){var t,e;return 0===this._path.length?{done:!0,value:void 0}:(e=(t=r(this._path)).node,t=t.keys,r(t)===O?{done:!1,value:this.result()}:(e=e.get(r(t)),this._path.push({node:e,keys:Array.from(e.keys())}),this.dive()))},n.prototype.backtrack=function(){var t;0===this._path.length||((t=r(this._path).keys).pop(),0<t.length)||(this._path.pop(),this.backtrack())},n.prototype.key=function(){return this.set._prefix+this._path.map(function(t){t=t.keys;return r(t)}).filter(function(t){return t!==O}).join("")},n.prototype.value=function(){return r(this._path).node.get(O)},n.prototype.result=function(){switch(this._type){case"VALUES":return this.value();case"KEYS":return this.key();default:return[this.key(),this.value()]}},n.prototype[Symbol.iterator]=function(){return this},n);function n(t,e){var n=t._tree,r=Array.from(n.keys());this.set=t,this._type=e,this._path=0<r.length?[{node:n,keys:r}]:[]}var r=function(t){return t[t.length-1]},C=function(t,e,n,r,o,i,a,u){var c,s,l=i*a;try{t:for(var f=P(t.keys()),p=f.next();!p.done;p=f.next()){var d=p.value;if(d===O){var h=o[l-1];h<=n&&r.set(u,[t.get(d),h])}else{for(var y=i,g=0;g<d.length;++g,++y){for(var m=d[g],v=a*y,b=v-a,w=o[v],x=Math.max(0,y-n-1),_=Math.min(a-1,y+n),S=x;S<_;++S){var k=m!==e[S],j=o[b+S]+ +k,A=o[b+S+1]+1,I=o[v+S]+1,E=o[v+S+1]=Math.min(j,A,I);E<w&&(w=E)}if(n<w)continue t}C(t.get(d),e,n,r,o,y,a,u+d)}}}catch(t){c={error:t}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(c)throw c.error}}},L=(f.prototype.atPrefix=function(t){var e,n;if(!t.startsWith(this._prefix))throw new Error("Mismatched prefix");var r=R(p(this._tree,t.slice(this._prefix.length)),2),o=r[0],r=r[1];if(void 0===o){var r=R(d(r),2),i=r[0],a=r[1];try{for(var u=P(i.keys()),c=u.next();!c.done;c=u.next()){var s,l=c.value;if(l!==O&&l.startsWith(a))return(s=new Map).set(l.slice(a.length),i.get(l)),new f(s,t)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}}return new f(o,t)},f.prototype.clear=function(){this._size=void 0,this._tree.clear()},f.prototype.delete=function(t){return this._size=void 0,a(this._tree,t)},f.prototype.entries=function(){return new e(this,"ENTRIES")},f.prototype.forEach=function(t){var e,n;try{for(var r=P(this),o=r.next();!o.done;o=r.next()){var i=R(o.value,2);t(i[0],i[1],this)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},f.prototype.fuzzyGet=function(t,e){var n=this._tree,r=new Map;if(void 0!==t){for(var o=t.length+1,i=o+e,a=new Uint8Array(i*o).fill(e+1),u=0;u<o;++u)a[u]=u;for(var c=1;c<i;++c)a[c*o]=c;C(n,t,e,r,a,1,o,"")}return r},f.prototype.get=function(t){t=u(this._tree,t);return void 0!==t?t.get(O):void 0},f.prototype.has=function(t){t=u(this._tree,t);return void 0!==t&&t.has(O)},f.prototype.keys=function(){return new e(this,"KEYS")},f.prototype.set=function(t,e){if("string"!=typeof t)throw new Error("key must be a string");return this._size=void 0,i(this._tree,t).set(O,e),this},Object.defineProperty(f.prototype,"size",{get:function(){if(!this._size){this._size=0;for(var t=this.entries();!t.next().done;)this._size+=1}return this._size},enumerable:!1,configurable:!0}),f.prototype.update=function(t,e){if("string"!=typeof t)throw new Error("key must be a string");this._size=void 0;t=i(this._tree,t);return t.set(O,e(t.get(O))),this},f.prototype.fetch=function(t,e){if("string"!=typeof t)throw new Error("key must be a string");this._size=void 0;var t=i(this._tree,t),n=t.get(O);return void 0===n&&t.set(O,n=e()),n},f.prototype.values=function(){return new e(this,"VALUES")},f.prototype[Symbol.iterator]=function(){return this.entries()},f.from=function(t){var e,n,r=new f;try{for(var o=P(t),i=o.next();!i.done;i=o.next()){var a=R(i.value,2),u=a[0],c=a[1];r.set(u,c)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},f.fromObject=function(t){return f.from(Object.entries(t))},f);function f(t,e){void 0===t&&(t=new Map),void 0===e&&(e=""),this._size=void 0,this._tree=t,this._prefix=e}var o,p=function(t,e,n){var r,o;if(void 0===n&&(n=[]),0===e.length||null==t)return[t,n];try{for(var i=P(t.keys()),a=i.next();!a.done;a=i.next()){var u=a.value;if(u!==O&&e.startsWith(u))return n.push([t,u]),p(t.get(u),e.slice(u.length),n)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return n.push([t,e]),p(void 0,"",n)},u=function(t,e){var n,r;if(0===e.length||null==t)return t;try{for(var o=P(t.keys()),i=o.next();!i.done;i=o.next()){var a=i.value;if(a!==O&&e.startsWith(a))return u(t.get(a),e.slice(a.length))}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},i=function(t,e){var n,r,o=e.length;t:for(var i=0;t&&i<o;){try{n=void 0;for(var a=P(t.keys()),u=a.next();!u.done;u=a.next()){var c=u.value;if(c!==O&&e[i]===c[0]){for(var s=Math.min(o-i,c.length),l=1;l<s&&e[i+l]===c[l];)++l;var f,p=t.get(c);t=l===c.length?p:((f=new Map).set(c.slice(l),p),t.set(e.slice(i,i+l),f),t.delete(c),f),i+=l;continue t}}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}var d=new Map;return t.set(e.slice(i),d),d}return t},a=function(t,e){var n,t=R(p(t,e),2),e=t[0],t=t[1];void 0!==e&&(e.delete(O),0===e.size?c(t):1===e.size&&(n=(e=R(e.entries().next().value,2))[0],e=e[1],s(t,n,e)))},c=function(t){var e,n;0!==t.length&&(e=(n=R(d(t),2))[0],n=n[1],e.delete(n),0===e.size?c(t.slice(0,-1)):1===e.size&&(e=(n=R(e.entries().next().value,2))[0],n=n[1],e!==O)&&s(t.slice(0,-1),e,n))},s=function(t,e,n){var r;0!==t.length&&(r=(t=R(d(t),2))[0],t=t[1],r.set(t+e,n),r.delete(t))},d=function(t){return t[t.length-1]},l=(D.prototype.add=function(t){var e,n,r,o,i,a,u=this._options,c=u.extractField,s=u.tokenize,l=u.processTerm,f=u.fields,u=u.idField,p=c(t,u);if(null==p)throw new Error('MiniSearch: document does not have ID field "'.concat(u,'"'));if(this._idToShortId.has(p))throw new Error("MiniSearch: duplicate ID ".concat(p));var d=this.addDocumentId(p);this.saveStoredFields(d,t);try{for(var h=P(f),y=h.next();!y.done;y=h.next()){var g=y.value,m=c(t,g);if(null!=m){var v=s(m.toString(),g),b=this._fieldIds[g],w=new Set(v).size;this.addFieldLength(d,b,this._documentCount-1,w);try{r=void 0;for(var x=P(v),_=x.next();!_.done;_=x.next()){var S=l(_.value,g);if(Array.isArray(S))try{i=void 0;for(var k=P(S),j=k.next();!j.done;j=k.next()){var A=j.value;this.addTerm(b,d,A)}}catch(t){i={error:t}}finally{try{j&&!j.done&&(a=k.return)&&a.call(k)}finally{if(i)throw i.error}}else S&&this.addTerm(b,d,S)}}catch(t){r={error:t}}finally{try{_&&!_.done&&(o=x.return)&&o.call(x)}finally{if(r)throw r.error}}}}}catch(t){e={error:t}}finally{try{y&&!y.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}},D.prototype.addAll=function(t){var e,n;try{for(var r=P(t),o=r.next();!o.done;o=r.next()){var i=o.value;this.add(i)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},D.prototype.addAllAsync=function(t,e){var o=this,e=(e=void 0===e?{}:e).chunkSize,i=void 0===e?10:e,e={chunk:[],promise:Promise.resolve()},t=t.reduce(function(t,e,n){var r=t.chunk,t=t.promise;return r.push(e),(n+1)%i==0?{chunk:[],promise:t.then(function(){return new Promise(function(t){return setTimeout(t,0)})}).then(function(){return o.addAll(r)})}:{chunk:r,promise:t}},e),n=t.chunk;return t.promise.then(function(){return o.addAll(n)})},D.prototype.remove=function(t){var e,n,r,o,i,a,u=this._options,c=u.tokenize,s=u.processTerm,l=u.extractField,f=u.fields,u=u.idField,p=l(t,u);if(null==p)throw new Error('MiniSearch: document does not have ID field "'.concat(u,'"'));var d=this._idToShortId.get(p);if(null==d)throw new Error("MiniSearch: cannot remove document with ID ".concat(p,": it is not in the index"));try{for(var h=P(f),y=h.next();!y.done;y=h.next()){var g=y.value,m=l(t,g);if(null!=m){var v=c(m.toString(),g),b=this._fieldIds[g],w=new Set(v).size;this.removeFieldLength(d,b,this._documentCount,w);try{r=void 0;for(var x=P(v),_=x.next();!_.done;_=x.next()){var S=s(_.value,g);if(Array.isArray(S))try{i=void 0;for(var k=P(S),j=k.next();!j.done;j=k.next()){var A=j.value;this.removeTerm(b,d,A)}}catch(t){i={error:t}}finally{try{j&&!j.done&&(a=k.return)&&a.call(k)}finally{if(i)throw i.error}}else S&&this.removeTerm(b,d,S)}}catch(t){r={error:t}}finally{try{_&&!_.done&&(o=x.return)&&o.call(x)}finally{if(r)throw r.error}}}}}catch(t){e={error:t}}finally{try{y&&!y.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}this._storedFields.delete(d),this._documentIds.delete(d),this._idToShortId.delete(p),this._fieldLength.delete(d),--this._documentCount},D.prototype.removeAll=function(t){var e,n;if(t)try{for(var r=P(t),o=r.next();!o.done;o=r.next()){var i=o.value;this.remove(i)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}else{if(0<arguments.length)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new L,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}},D.prototype.discard=function(t){var n=this,r=this._idToShortId.get(t);if(null==r)throw new Error("MiniSearch: cannot discard document with ID ".concat(t,": it is not in the index"));this._idToShortId.delete(t),this._documentIds.delete(r),this._storedFields.delete(r),(this._fieldLength.get(r)||[]).forEach(function(t,e){n.removeFieldLength(r,e,n._documentCount,t)}),this._fieldLength.delete(r),--this._documentCount,this._dirtCount+=1,this.maybeAutoVacuum()},D.prototype.maybeAutoVacuum=function(){var t,e,n,r;!1!==this._options.autoVacuum&&(t=(r=this._options.autoVacuum).minDirtFactor,e=r.minDirtCount,n=r.batchSize,r=r.batchWait,this.conditionalVacuum({batchSize:n,batchWait:r},{minDirtCount:e,minDirtFactor:t}))},D.prototype.discardAll=function(t){var e,n,r=this._options.autoVacuum;try{this._options.autoVacuum=!1;try{for(var o=P(t),i=o.next();!i.done;i=o.next()){var a=i.value;this.discard(a)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}}finally{this._options.autoVacuum=r}this.maybeAutoVacuum()},D.prototype.replace=function(t){var e=this._options,n=e.idField,e=(0,e.extractField)(t,n);this.discard(e),this.add(t)},D.prototype.vacuum=function(t){return this.conditionalVacuum(t=void 0===t?{}:t)},D.prototype.conditionalVacuum=function(e,t){var n=this;return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&t,null==this._enqueuedVacuum&&(this._enqueuedVacuum=this._currentVacuum.then(function(){var t=n._enqueuedVacuumConditions;return n._enqueuedVacuumConditions=v,n.performVacuuming(e,t)})),this._enqueuedVacuum):!1===this.vacuumConditionsMet(t)?Promise.resolve():(this._currentVacuum=this.performVacuuming(e),this._currentVacuum)},D.prototype.performVacuuming=function(j,A){return t(this,void 0,void 0,function(){var e,n,r,o,i,a,u,c,s,l,f,p,d,h,y,g,m,v,b,w,x,_,S,k;return E(this,function(t){switch(t.label){case 0:if(e=this._dirtCount,!this.vacuumConditionsMet(A))return[3,10];n=j.batchSize||M.batchSize,r=j.batchWait||M.batchWait,o=1,t.label=1;case 1:t.trys.push([1,7,8,9]),i=P(this._index),a=i.next(),t.label=2;case 2:if(a.done)return[3,6];v=R(a.value,2),u=v[0],c=v[1];try{for(x=void 0,s=P(c),l=s.next();!l.done;l=s.next()){f=R(l.value,2),p=f[0],d=f[1];try{for(S=void 0,h=P(d),y=h.next();!y.done;y=h.next())g=R(y.value,1),m=g[0],this._documentIds.has(m)||(d.size<=1?c.delete(p):d.delete(m))}catch(t){S={error:t}}finally{try{y&&!y.done&&(k=h.return)&&k.call(h)}finally{if(S)throw S.error}}}}catch(t){x={error:t}}finally{try{l&&!l.done&&(_=s.return)&&_.call(s)}finally{if(x)throw x.error}}return 0===this._index.get(u).size&&this._index.delete(u),o%n!=0?[3,4]:[4,new Promise(function(t){return setTimeout(t,r)})];case 3:t.sent(),t.label=4;case 4:o+=1,t.label=5;case 5:return a=i.next(),[3,2];case 6:return[3,9];case 7:return v=t.sent(),b={error:v},[3,9];case 8:try{a&&!a.done&&(w=i.return)&&w.call(i)}finally{if(b)throw b.error}return[7];case 9:this._dirtCount-=e,t.label=10;case 10:return[4,null];case 11:return t.sent(),this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null,[2]}})})},D.prototype.vacuumConditionsMet=function(t){var e;return null==t||(e=t.minDirtCount,t=t.minDirtFactor,e=e||b.minDirtCount,t=t||b.minDirtFactor,this.dirtCount>=e&&this.dirtFactor>=t)},Object.defineProperty(D.prototype,"isVacuuming",{get:function(){return null!=this._currentVacuum},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"dirtCount",{get:function(){return this._dirtCount},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"dirtFactor",{get:function(){return this._dirtCount/(1+this._documentCount+this._dirtCount)},enumerable:!1,configurable:!0}),D.prototype.has=function(t){return this._idToShortId.has(t)},D.prototype.getStoredFields=function(t){t=this._idToShortId.get(t);if(null!=t)return this._storedFields.get(t)},D.prototype.search=function(t,e){var n,r,t=this.executeQuery(t,e=void 0===e?{}:e),o=[];try{for(var i=P(t),a=i.next();!a.done;a=i.next()){var u=R(a.value,2),c=u[0],s=u[1],l=s.score,f=s.terms,p=s.match,d=f.length,h={id:this._documentIds.get(c),score:l*d,terms:Object.keys(p),match:p};Object.assign(h,this._storedFields.get(c)),null!=e.filter&&!e.filter(h)||o.push(h)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o.sort(x),o},D.prototype.autoSuggest=function(t,e){void 0===e&&(e={}),e=I(I({},this._options.autoSuggestOptions),e);var n,r,o,i,a=new Map;try{for(var u=P(this.search(t,e)),c=u.next();!c.done;c=u.next()){var s=c.value,l=s.score,f=(v=s.terms).join(" ");null!=(g=a.get(f))?(g.score+=l,g.count+=1):a.set(f,{score:l,terms:v,count:1})}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}var p=[];try{for(var d=P(a),h=d.next();!h.done;h=d.next()){var y=R(h.value,2),g=y[0],m=y[1],l=m.score,v=m.terms,b=m.count;p.push({suggestion:g,terms:v,score:l/b})}}catch(t){o={error:t}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}return p.sort(x),p},Object.defineProperty(D.prototype,"documentCount",{get:function(){return this._documentCount},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"termCount",{get:function(){return this._index.size},enumerable:!1,configurable:!0}),D.loadJSON=function(t,e){if(null==e)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(t),e)},D.getDefault=function(t){if(g.hasOwnProperty(t))return T(g,t);throw new Error('MiniSearch: unknown option "'.concat(t,'"'))},D.loadJS=function(t,e){var n,r,o,i,a,u,c=t.index,s=t.documentCount,l=t.nextId,f=t.documentIds,p=t.fieldIds,d=t.fieldLength,h=t.averageFieldLength,y=t.storedFields,g=t.dirtCount,m=t.serializationVersion;if(1!==m&&2!==m)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");var v=new D(e);v._documentCount=s,v._nextId=l,v._documentIds=N(f),v._idToShortId=new Map,v._fieldIds=p,v._fieldLength=N(d),v._avgFieldLength=h,v._storedFields=N(y),v._dirtCount=g||0,v._index=new L;try{for(var b=P(v._documentIds),w=b.next();!w.done;w=b.next()){var x=R(w.value,2),_=x[0],S=x[1];v._idToShortId.set(S,_)}}catch(t){n={error:t}}finally{try{w&&!w.done&&(r=b.return)&&r.call(b)}finally{if(n)throw n.error}}try{for(var k=P(c),j=k.next();!j.done;j=k.next()){var A=R(j.value,2),I=A[0],E=A[1],O=new Map;try{a=void 0;for(var C=P(Object.keys(E)),T=C.next();!T.done;T=C.next()){var F=T.value,$=E[F];1===m&&($=$.ds),O.set(parseInt(F,10),N($))}}catch(t){a={error:t}}finally{try{T&&!T.done&&(u=C.return)&&u.call(C)}finally{if(a)throw a.error}}v._index.set(I,O)}}catch(t){o={error:t}}finally{try{j&&!j.done&&(i=k.return)&&i.call(k)}finally{if(o)throw o.error}}return v},D.prototype.executeQuery=function(t,e){var n,r,o,i,a,u,c=this;return void 0===e&&(e={}),"string"!=typeof t?(n=I(I(I({},e),t),{queries:void 0}),r=t.queries.map(function(t){return c.executeQuery(t,n)}),this.combineResults(r,n.combineWith)):(i=(r=this._options).tokenize,u=r.processTerm,r=r.searchOptions,i=(o=I(I({tokenize:i,processTerm:u},r),e)).tokenize,a=o.processTerm,u=i(t).flatMap(function(t){return a(t)}).filter(function(t){return!!t}).map(y(o)).map(function(t){return c.executeQuerySpec(t,o)}),this.combineResults(u,o.combineWith))},D.prototype.executeQuerySpec=function(t,e){var n,r,o,i,a,u,c=I(I({},this._options.searchOptions),e),s=(c.fields||this._options.fields).reduce(function(t,e){return I(I({},t),((t={})[e]=T(c.boost,e)||1,t))},{}),l=c.boostDocument,e=c.weights,f=c.maxFuzzy,p=c.bm25,e=I(I({},$.weights),e),d=e.fuzzy,h=e.prefix,e=this._index.get(t.term),y=this.termResults(t.term,t.term,1,e,s,l,p);if(t.prefix&&(a=this._index.atPrefix(t.term)),t.fuzzy&&(f=(e=!0===t.fuzzy?.2:t.fuzzy)<1?Math.min(f,Math.round(t.term.length*e)):e)&&(u=this._index.fuzzyGet(t.term,f)),a)try{for(var g=P(a),m=g.next();!m.done;m=g.next()){var v=R(m.value,2),b=v[0],w=v[1];(S=b.length-t.term.length)&&(null!=u&&u.delete(b),k=h*b.length/(b.length+.3*S),this.termResults(t.term,b,k,w,s,l,p,y))}}catch(t){n={error:t}}finally{try{m&&!m.done&&(r=g.return)&&r.call(g)}finally{if(n)throw n.error}}if(u)try{for(var x=P(u.keys()),_=x.next();!_.done;_=x.next()){var S,k,b=_.value,j=R(u.get(b),2),A=j[0];(S=j[1])&&(k=d*b.length/(b.length+S),this.termResults(t.term,b,k,A,s,l,p,y))}}catch(t){o={error:t}}finally{try{_&&!_.done&&(i=x.return)&&i.call(x)}finally{if(o)throw o.error}}return y},D.prototype.combineResults=function(t,e){return void 0===e&&(e="or"),0!==t.length&&(e=e.toLowerCase(),t.reduce(h[e]))||new Map},D.prototype.toJSON=function(){var e,t,n,r,o=[];try{for(var i=P(this._index),a=i.next();!a.done;a=i.next()){var u=R(a.value,2),c=u[0],s=u[1],l={};try{n=void 0;for(var f=P(s),p=f.next();!p.done;p=f.next()){var d=R(p.value,2),h=d[0],y=d[1];l[h]=Object.fromEntries(y)}}catch(t){n={error:t}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}o.push([c,l])}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:o,serializationVersion:2}},D.prototype.termResults=function(t,e,n,r,o,i,a,u){var c,s,l,f,p;if(void 0===u&&(u=new Map),null!=r)try{for(var d=P(Object.keys(o)),h=d.next();!h.done;h=d.next()){var y=h.value,g=o[y],m=this._fieldIds[y],v=r.get(m);if(null!=v){var b=v.size,w=this._avgFieldLength[m];try{l=void 0;for(var x=P(v.keys()),_=x.next();!_.done;_=x.next()){var S,k,j,A,I,E,O=_.value;this._documentIds.has(O)?(S=i?i(this._documentIds.get(O),e,this._storedFields.get(O)):1)&&(k=v.get(O),j=this._fieldLength.get(O)[m],A=n*g*S*F(k,b,this._documentCount,j,w,a),(I=u.get(O))?(I.score+=A,B(I.terms,t),(E=T(I.match,e))?E.push(y):I.match[e]=[y]):u.set(O,{score:A,terms:[t],match:((p={})[e]=[y],p)})):(this.removeTerm(m,O,e),--b)}}catch(t){l={error:t}}finally{try{_&&!_.done&&(f=x.return)&&f.call(x)}finally{if(l)throw l.error}}}}}catch(t){c={error:t}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(c)throw c.error}}return u},D.prototype.addTerm=function(t,e,n){var n=this._index.fetch(n,_),r=n.get(t);null==r?((r=new Map).set(e,1),n.set(t,r)):(n=r.get(e),r.set(e,(n||0)+1))},D.prototype.removeTerm=function(t,e,n){var r,o;this._index.has(n)?(null==(o=(r=this._index.fetch(n,_)).get(t))||null==o.get(e)?this.warnDocumentChanged(e,t,n):o.get(e)<=1?o.size<=1?r.delete(t):o.delete(e):o.set(e,o.get(e)-1),0===this._index.get(n).size&&this._index.delete(n)):this.warnDocumentChanged(e,t,n)},D.prototype.warnDocumentChanged=function(t,e,n){var r,o;try{for(var i=P(Object.keys(this._fieldIds)),a=i.next();!a.done;a=i.next()){var u=a.value;if(this._fieldIds[u]===e)return void this._options.logger("warn","MiniSearch: document with ID ".concat(this._documentIds.get(t),' has changed before removal: term "').concat(n,'" was not present in field "').concat(u,'". Removing a document after it has changed can corrupt the index!'),"version_conflict")}}catch(t){r={error:t}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}},D.prototype.addDocumentId=function(t){var e=this._nextId;return this._idToShortId.set(t,e),this._documentIds.set(e,t),this._documentCount+=1,this._nextId+=1,e},D.prototype.addFields=function(t){for(var e=0;e<t.length;e++)this._fieldIds[t[e]]=e},D.prototype.addFieldLength=function(t,e,n,r){var o=this._fieldLength.get(t),t=(null==o&&this._fieldLength.set(t,o=[]),o[e]=r,this._avgFieldLength[e]||0);this._avgFieldLength[e]=(t*n+r)/(n+1)},D.prototype.removeFieldLength=function(t,e,n,r){1===n?this._avgFieldLength[e]=0:(r=this._avgFieldLength[e]*n-r,this._avgFieldLength[e]=r/(n-1))},D.prototype.saveStoredFields=function(t,e){var n,r,o=this._options,i=o.storeFields,a=o.extractField;if(null!=i&&0!==i.length){var u=this._storedFields.get(t);null==u&&this._storedFields.set(t,u={});try{for(var c=P(i),s=c.next();!s.done;s=c.next()){var l=s.value,f=a(e,l);void 0!==f&&(u[l]=f)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}},D);function D(t){if(null==(null==t?void 0:t.fields))throw new Error('MiniSearch: option "fields" must be provided');var e=null==t.autoVacuum||!0===t.autoVacuum?b:t.autoVacuum;this._options=I(I(I({},g),t),{autoVacuum:e,searchOptions:I(I({},$),t.searchOptions||{}),autoSuggestOptions:I(I({},m),t.autoSuggestOptions||{})}),this._index=new L,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=v,this.addFields(this._options.fields)}var T=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},h=((o={}).or=function(t,e){var n,r;try{for(var o=P(e.keys()),i=o.next();!i.done;i=o.next()){var a,u,c,s,l=i.value,f=t.get(l);null==f?t.set(l,e.get(l)):(u=(a=e.get(l)).score,c=a.terms,s=a.match,f.score=f.score+u,f.match=Object.assign(f.match,s),w(f.terms,c))}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return t},o.and=function(t,e){var n,r,o=new Map;try{for(var i=P(e.keys()),a=i.next();!a.done;a=i.next()){var u,c,s,l,f=a.value,p=t.get(f);null!=p&&(c=(u=e.get(f)).score,s=u.terms,l=u.match,w(p.terms,s),o.set(f,{score:p.score+c,terms:p.terms,match:Object.assign(p.match,l)}))}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o},o.and_not=function(t,e){var n,r;try{for(var o=P(e.keys()),i=o.next();!i.done;i=o.next()){var a=i.value;t.delete(a)}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return t},o),F=function(t,e,n,r,o,i){var a=i.k,u=i.b,i=i.d;return Math.log(1+(n-e+.5)/(e+.5))*(i+t*(a+1)/(t+a*(1-u+u*r/o)))},y=function(r){return function(t,e,n){return{term:t,fuzzy:"function"==typeof r.fuzzy?r.fuzzy(t,e,n):r.fuzzy||!1,prefix:"function"==typeof r.prefix?r.prefix(t,e,n):!0===r.prefix}}},g={idField:"id",extractField:function(t,e){return t[e]},tokenize:function(t,e){return t.split(S)},processTerm:function(t,e){return t.toLowerCase()},fields:void 0,searchOptions:void 0,storeFields:[],logger:function(t,e,n){return null!=console&&null!=console.warn&&console[t](e)},autoVacuum:!0},$={combineWith:"or",prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:{k:1.2,b:.7,d:.5}},m={combineWith:"and",prefix:function(t,e,n){return e===n.length-1}},M={batchSize:1e3,batchWait:10},v={minDirtFactor:.1,minDirtCount:20},b=I(I({},M),v),B=function(t,e){t.includes(e)||t.push(e)},w=function(t,e){var n,r;try{for(var o=P(e),i=o.next();!i.done;i=o.next()){var a=i.value;t.includes(a)||t.push(a)}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},x=function(t,e){t=t.score;return e.score-t},_=function(){return new Map},N=function(t){var e,n,r=new Map;try{for(var o=P(Object.keys(t)),i=o.next();!i.done;i=o.next()){var a=i.value;r.set(parseInt(a,10),t[a])}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},S=/[\n\r -#%-*,-/:;?@[-\]_{}\u00A0\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]+/u;return l},"object"==typeof n&&void 0!==e?e.exports=o():"function"==typeof define&&define.amd?define(o):(r="undefined"!=typeof globalThis?globalThis:r||self).MiniSearch=o()},{}],81:[function(t,o,i){!function(Le){!function(){var t,e,n,r;t=this,e=function(){var t="object"==typeof self&&self.self===self&&self||"object"==typeof Le&&Le.global===Le&&Le||Function("return this")()||{},r=Array.prototype,L=Object.prototype,D="undefined"!=typeof Symbol?Symbol.prototype:null,M=r.push,c=r.slice,f=L.toString,N=L.hasOwnProperty,e="undefined"!=typeof ArrayBuffer,n="undefined"!=typeof DataView,B=Array.isArray,z=Object.keys,U=Object.create,q=e&&ArrayBuffer.isView,W=isNaN,V=isFinite,K=!{toString:null}.propertyIsEnumerable("toString"),G=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],H=Math.pow(2,53)-1;function l(o,i){return i=null==i?o.length-1:+i,function(){for(var t=Math.max(arguments.length-i,0),e=Array(t),n=0;n<t;n++)e[n]=arguments[n+i];switch(i){case 0:return o.call(this,e);case 1:return o.call(this,arguments[0],e);case 2:return o.call(this,arguments[0],arguments[1],e)}for(var r=Array(i+1),n=0;n<i;n++)r[n]=arguments[n];return r[i]=e,o.apply(this,r)}}function i(t){var e=typeof t;return"function"==e||"object"==e&&!!t}function J(t){return void 0===t}function Q(t){return!0===t||!1===t||"[object Boolean]"===f.call(t)}function o(t){var e="[object "+t+"]";return function(t){return f.call(t)===e}}var Y=o("String"),X=o("Number"),a=o("Date"),Z=o("RegExp"),tt=o("Error"),et=o("Symbol"),nt=o("ArrayBuffer"),u=o("Function"),t=t.document&&t.document.childNodes,p=u="function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof t?function(t){return"function"==typeof t||!1}:u,t=o("Object"),rt=n&&t(new DataView(new ArrayBuffer(8))),u="undefined"!=typeof Map&&t(new Map),n=o("DataView");var d=rt?function(t){return null!=t&&p(t.getInt8)&&nt(t.buffer)}:n,h=B||o("Array");function y(t,e){return null!=t&&N.call(t,e)}var ot=o("Arguments"),it=(!function(){ot(arguments)||(ot=function(t){return y(t,"callee")})}(),ot);function at(t){return X(t)&&W(t)}function ut(t){return function(){return t}}function ct(e){return function(t){t=e(t);return"number"==typeof t&&0<=t&&t<=H}}function st(e){return function(t){return null==t?void 0:t[e]}}var g=st("byteLength"),lt=ct(g),ft=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var pt=e?function(t){return q?q(t)&&!d(t):lt(t)&&ft.test(f.call(t))}:ut(!1),m=st("length");function dt(t,e){e=function(e){for(var n={},t=e.length,r=0;r<t;++r)n[e[r]]=!0;return{contains:function(t){return!0===n[t]},push:function(t){return n[t]=!0,e.push(t)}}}(e);var n=G.length,r=t.constructor,o=p(r)&&r.prototype||L,i="constructor";for(y(t,i)&&!e.contains(i)&&e.push(i);n--;)(i=G[n])in t&&t[i]!==o[i]&&!e.contains(i)&&e.push(i)}function v(t){if(!i(t))return[];if(z)return z(t);var e,n=[];for(e in t)y(t,e)&&n.push(e);return K&&dt(t,n),n}function ht(t,e){var n=v(e),r=n.length;if(null==t)return!r;for(var o=Object(t),i=0;i<r;i++){var a=n[i];if(e[a]!==o[a]||!(a in o))return!1}return!0}function b(t){return t instanceof b?t:this instanceof b?void(this._wrapped=t):new b(t)}function yt(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,g(t))}b.VERSION="1.13.6",b.prototype.valueOf=b.prototype.toJSON=b.prototype.value=function(){return this._wrapped},b.prototype.toString=function(){return String(this._wrapped)};var gt="[object DataView]";function mt(t,e,n,r){var o;return t===e?0!==t||1/t==1/e:null!=t&&null!=e&&(t!=t?e!=e:("function"==(o=typeof t)||"object"==o||"object"==typeof e)&&function t(e,n,r,o){e instanceof b&&(e=e._wrapped);n instanceof b&&(n=n._wrapped);var i=f.call(e);if(i!==f.call(n))return!1;if(rt&&"[object Object]"==i&&d(e)){if(!d(n))return!1;i=gt}switch(i){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object Symbol]":return D.valueOf.call(e)===D.valueOf.call(n);case"[object ArrayBuffer]":case gt:return t(yt(e),yt(n),r,o)}i="[object Array]"===i;if(!i&&pt(e)){var a=g(e);if(a!==g(n))return!1;if(e.buffer===n.buffer&&e.byteOffset===n.byteOffset)return!0;i=!0}if(!i){if("object"!=typeof e||"object"!=typeof n)return!1;var a=e.constructor,u=n.constructor;if(a!==u&&!(p(a)&&a instanceof a&&p(u)&&u instanceof u)&&"constructor"in e&&"constructor"in n)return!1}r=r||[];o=o||[];var c=r.length;for(;c--;)if(r[c]===e)return o[c]===n;r.push(e);o.push(n);if(i){if((c=e.length)!==n.length)return!1;for(;c--;)if(!mt(e[c],n[c],r,o))return!1}else{var s,l=v(e);if(c=l.length,v(n).length!==c)return!1;for(;c--;)if(s=l[c],!y(n,s)||!mt(e[s],n[s],r,o))return!1}r.pop();o.pop();return!0}(t,e,n,r))}function s(t){if(!i(t))return[];var e,n=[];for(e in t)n.push(e);return K&&dt(t,n),n}function vt(r){var o=m(r);return function(t){if(null==t)return!1;var e=s(t);if(m(e))return!1;for(var n=0;n<o;n++)if(!p(t[r[n]]))return!1;return r!==wt||!p(t[bt])}}var bt="forEach",t=["clear","delete"],n=["get","has","set"],B=t.concat(bt,n),wt=t.concat(n),e=["add"].concat(t,bt,"has"),n=u?vt(B):o("Map"),t=u?vt(wt):o("WeakMap"),B=u?vt(e):o("Set"),u=o("WeakSet");function w(t){for(var e=v(t),n=e.length,r=Array(n),o=0;o<n;o++)r[o]=t[e[o]];return r}function xt(t){for(var e={},n=v(t),r=0,o=n.length;r<o;r++)e[t[n[r]]]=n[r];return e}function _t(t){var e,n=[];for(e in t)p(t[e])&&n.push(e);return n.sort()}function St(c,s){return function(t){var e=arguments.length;if(s&&(t=Object(t)),!(e<2||null==t))for(var n=1;n<e;n++)for(var r=arguments[n],o=c(r),i=o.length,a=0;a<i;a++){var u=o[a];s&&void 0!==t[u]||(t[u]=r[u])}return t}}var kt=St(s),x=St(v),jt=St(s,!0);function At(t){var e;return i(t)?U?U(t):((e=function(){}).prototype=t,t=new e,e.prototype=null,t):{}}function It(t){return h(t)?t:[t]}function _(t){return b.toPath(t)}function Et(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}function Ot(t,e,n){t=Et(t,_(e));return J(t)?n:t}function Ct(t){return t}function S(e){return e=x({},e),function(t){return ht(t,e)}}function Tt(e){return e=_(e),function(t){return Et(t,e)}}function k(o,i,t){if(void 0===i)return o;switch(null==t?3:t){case 1:return function(t){return o.call(i,t)};case 3:return function(t,e,n){return o.call(i,t,e,n)};case 4:return function(t,e,n,r){return o.call(i,t,e,n,r)}}return function(){return o.apply(i,arguments)}}function Ft(t,e,n){return null==t?Ct:p(t)?k(t,e,n):(i(t)&&!h(t)?S:Tt)(t)}function $t(t,e){return Ft(t,e,1/0)}function j(t,e,n){return b.iteratee!==$t?b.iteratee(t,e):Ft(t,e,n)}function Pt(){}function Rt(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}b.toPath=It,b.iteratee=$t;var A=Date.now||function(){return(new Date).getTime()};function Lt(e){function n(t){return e[t]}var t="(?:"+v(e).join("|")+")",r=RegExp(t),o=RegExp(t,"g");return function(t){return r.test(t=null==t?"":""+t)?t.replace(o,n):t}}var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Dt=Lt(e),e=Lt(xt(e)),Mt=b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Nt=/(.)^/,Bt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},zt=/\\|'|\r|\n|\u2028|\u2029/g;function Ut(t){return"\\"+Bt[t]}var qt=/^\s*(\w|\$)+\s*$/;var Wt=0;function Vt(t,e,n,r,o){return r instanceof e?(r=At(t.prototype),i(e=t.apply(r,o))?e:r):t.apply(n,o)}var I=l(function(o,i){function a(){for(var t=0,e=i.length,n=Array(e),r=0;r<e;r++)n[r]=i[r]===u?arguments[t++]:i[r];for(;t<arguments.length;)n.push(arguments[t++]);return Vt(o,a,this,this,n)}var u=I.placeholder;return a}),Kt=(I.placeholder=b,l(function(e,n,r){var o;if(p(e))return o=l(function(t){return Vt(e,o,n,this,r.concat(t))});throw new TypeError("Bind must be called on a function")})),E=ct(m);function O(t,e,n,r){if(r=r||[],e||0===e){if(e<=0)return r.concat(t)}else e=1/0;for(var o=r.length,i=0,a=m(t);i<a;i++){var u=t[i];if(E(u)&&(h(u)||it(u)))if(1<e)O(u,e-1,n,r),o=r.length;else for(var c=0,s=u.length;c<s;)r[o++]=u[c++];else n||(r[o++]=u)}return r}var Gt=l(function(t,e){var n=(e=O(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=Kt(t[r],t)}return t});var Ht=l(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),Jt=I(Ht,b,1);function Qt(t){return function(){return!t.apply(this,arguments)}}function Yt(t,e){var n;return function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}var Xt=I(Yt,2);function Zt(t,e,n){e=j(e,n);for(var r,o=v(t),i=0,a=o.length;i<a;i++)if(e(t[r=o[i]],r,t))return r}function te(i){return function(t,e,n){e=j(e,n);for(var r=m(t),o=0<i?0:r-1;0<=o&&o<r;o+=i)if(e(t[o],o,t))return o;return-1}}var ee=te(1),ne=te(-1);function re(t,e,n,r){for(var o=(n=j(n,r,1))(e),i=0,a=m(t);i<a;){var u=Math.floor((i+a)/2);n(t[u])<o?i=u+1:a=u}return i}function oe(i,a,u){return function(t,e,n){var r=0,o=m(t);if("number"==typeof n)0<i?r=0<=n?n:Math.max(n+o,r):o=0<=n?Math.min(n+1,o):n+o+1;else if(u&&n&&o)return t[n=u(t,e)]===e?n:-1;if(e!=e)return 0<=(n=a(c.call(t,r,o),at))?n+r:-1;for(n=0<i?r:o-1;0<=n&&n<o;n+=i)if(t[n]===e)return n;return-1}}var ie=oe(1,ee,re),ae=oe(-1,ne);function ue(t,e,n){e=(E(t)?ee:Zt)(t,e,n);if(void 0!==e&&-1!==e)return t[e]}function C(t,e,n){if(e=k(e,n),E(t))for(o=0,i=t.length;o<i;o++)e(t[o],o,t);else for(var r=v(t),o=0,i=r.length;o<i;o++)e(t[r[o]],r[o],t);return t}function T(t,e,n){e=j(e,n);for(var r=!E(t)&&v(t),o=(r||t).length,i=Array(o),a=0;a<o;a++){var u=r?r[a]:a;i[a]=e(t[u],u,t)}return i}function ce(p){return function(t,e,n,r){var o=3<=arguments.length,i=t,a=k(e,r,4),u=n,c=!E(i)&&v(i),s=(c||i).length,l=0<p?0:s-1;for(o||(u=i[c?c[l]:l],l+=p);0<=l&&l<s;l+=p){var f=c?c[l]:l;u=a(u,i[f],f,i)}return u}}var se=ce(1),le=ce(-1);function F(t,r,e){var o=[];return r=j(r,e),C(t,function(t,e,n){r(t,e,n)&&o.push(t)}),o}function fe(t,e,n){e=j(e,n);for(var r=!E(t)&&v(t),o=(r||t).length,i=0;i<o;i++){var a=r?r[i]:i;if(!e(t[a],a,t))return!1}return!0}function pe(t,e,n){e=j(e,n);for(var r=!E(t)&&v(t),o=(r||t).length,i=0;i<o;i++){var a=r?r[i]:i;if(e(t[a],a,t))return!0}return!1}function $(t,e,n,r){return E(t)||(t=w(t)),0<=ie(t,e,n="number"==typeof n&&!r?n:0)}var de=l(function(t,n,r){var o,i;return p(n)?i=n:(n=_(n),o=n.slice(0,-1),n=n[n.length-1]),T(t,function(t){var e=i;if(!e){if(null==(t=o&&o.length?Et(t,o):t))return;e=t[n]}return null==e?e:e.apply(t,r)})});function he(t,e){return T(t,Tt(e))}function ye(t,r,e){var n,o,i=-1/0,a=-1/0;if(null==r||"number"==typeof r&&"object"!=typeof t[0]&&null!=t)for(var u=0,c=(t=E(t)?t:w(t)).length;u<c;u++)null!=(n=t[u])&&i<n&&(i=n);else r=j(r,e),C(t,function(t,e,n){o=r(t,e,n),(a<o||o===-1/0&&i===-1/0)&&(i=t,a=o)});return i}var ge=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function me(t){return t?h(t)?c.call(t):Y(t)?t.match(ge):E(t)?T(t,Ct):w(t):[]}function ve(t,e,n){if(null==e||n)return(t=E(t)?t:w(t))[Rt(t.length-1)];for(var r=me(t),n=m(r),o=(e=Math.max(Math.min(e,n),0),n-1),i=0;i<e;i++){var a=Rt(i,o),u=r[i];r[i]=r[a],r[a]=u}return r.slice(0,e)}function P(i,e){return function(n,r,t){var o=e?[[],[]]:{};return r=j(r,t),C(n,function(t,e){e=r(t,e,n);i(o,t,e)}),o}}var be=P(function(t,e,n){y(t,n)?t[n].push(e):t[n]=[e]}),we=P(function(t,e,n){t[n]=e}),xe=P(function(t,e,n){y(t,n)?t[n]++:t[n]=1}),_e=P(function(t,e,n){t[n?0:1].push(e)},!0);function Se(t,e,n){return e in n}var ke=l(function(t,e){var n={},r=e[0];if(null!=t){p(r)?(1<e.length&&(r=k(r,e[1])),e=s(t)):(r=Se,e=O(e,!1,!1),t=Object(t));for(var o=0,i=e.length;o<i;o++){var a=e[o],u=t[a];r(u,a,t)&&(n[a]=u)}}return n}),je=l(function(t,n){var e,r=n[0];return p(r)?(r=Qt(r),1<n.length&&(e=n[1])):(n=T(O(n,!1,!1),String),r=function(t,e){return!$(n,e)}),ke(t,r,e)});function Ae(t,e,n){return c.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function Ie(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:Ae(t,t.length-e)}function R(t,e,n){return c.call(t,null==e||n?1:e)}var Ee=l(function(t,e){return e=O(e,!0,!0),F(t,function(t){return!$(e,t)})}),Oe=l(function(t,e){return Ee(t,e)});function Ce(t,e,n,r){Q(e)||(r=n,n=e,e=!1),null!=n&&(n=j(n,r));for(var o=[],i=[],a=0,u=m(t);a<u;a++){var c=t[a],s=n?n(c,a,t):c;e&&!n?(a&&i===s||o.push(c),i=s):n?$(i,s)||(i.push(s),o.push(c)):$(o,c)||o.push(c)}return o}var Te=l(function(t){return Ce(O(t,!0,!0))});function Fe(t){for(var e=t&&ye(t,m).length||0,n=Array(e),r=0;r<e;r++)n[r]=he(t,r);return n}var $e=l(Fe);function Pe(t,e){return t._chain?b(e).chain():e}function Re(n){return C(_t(n),function(t){var e=b[t]=n[t];b.prototype[t]=function(){var t=[this._wrapped];return M.apply(t,arguments),Pe(this,e.apply(b,t))}}),b}C(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=r[e];b.prototype[e]=function(){var t=this._wrapped;return null!=t&&(n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0]),Pe(this,t)}}),C(["concat","join","slice"],function(t){var e=r[t];b.prototype[t]=function(){var t=this._wrapped;return Pe(this,t=null!=t?e.apply(t,arguments):t)}});a=Re({__proto__:null,VERSION:"1.13.6",restArguments:l,isObject:i,isNull:function(t){return null===t},isUndefined:J,isBoolean:Q,isElement:function(t){return!(!t||1!==t.nodeType)},isString:Y,isNumber:X,isDate:a,isRegExp:Z,isError:tt,isSymbol:et,isArrayBuffer:nt,isDataView:d,isArray:h,isFunction:p,isArguments:it,isFinite:function(t){return!et(t)&&V(t)&&!isNaN(parseFloat(t))},isNaN:at,isTypedArray:pt,isEmpty:function(t){var e;return null==t||("number"==typeof(e=m(t))&&(h(t)||Y(t)||it(t))?0===e:0===m(v(t)))},isMatch:ht,isEqual:function(t,e){return mt(t,e)},isMap:n,isWeakMap:t,isSet:B,isWeakSet:u,keys:v,allKeys:s,values:w,pairs:function(t){for(var e=v(t),n=e.length,r=Array(n),o=0;o<n;o++)r[o]=[e[o],t[e[o]]];return r},invert:xt,functions:_t,methods:_t,extend:kt,extendOwn:x,assign:x,defaults:jt,create:function(t,e){return t=At(t),e&&x(t,e),t},clone:function(t){return i(t)?h(t)?t.slice():kt({},t):t},tap:function(t,e){return e(t),t},get:Ot,has:function(t,e){for(var n=(e=_(e)).length,r=0;r<n;r++){var o=e[r];if(!y(t,o))return!1;t=t[o]}return!!n},mapObject:function(t,e,n){e=j(e,n);for(var r=v(t),o=r.length,i={},a=0;a<o;a++){var u=r[a];i[u]=e(t[u],u,t)}return i},identity:Ct,constant:ut,noop:Pt,toPath:It,property:Tt,propertyOf:function(e){return null==e?Pt:function(t){return Ot(e,t)}},matcher:S,matches:S,times:function(t,e,n){var r=Array(Math.max(0,t));e=k(e,n,1);for(var o=0;o<t;o++)r[o]=e(o);return r},random:Rt,now:A,escape:Dt,unescape:e,templateSettings:Mt,template:function(i,t,e){t=jt({},t=!t&&e?e:t,b.templateSettings);var n,e=RegExp([(t.escape||Nt).source,(t.interpolate||Nt).source,(t.evaluate||Nt).source].join("|")+"|$","g"),a=0,u="__p+='";if(i.replace(e,function(t,e,n,r,o){return u+=i.slice(a,o).replace(zt,Ut),a=o+t.length,e?u+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":n?u+="'+\n((__t=("+n+"))==null?'':__t)+\n'":r&&(u+="';\n"+r+"\n__p+='"),t}),u+="';\n",e=t.variable){if(!qt.test(e))throw new Error("variable is not a bare identifier: "+e)}else u="with(obj||{}){\n"+u+"}\n",e="obj";u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{n=new Function(e,"_",u)}catch(t){throw t.source=u,t}function r(t){return n.call(this,t,b)}return r.source="function("+e+"){\n"+u+"}",r},result:function(t,e,n){var r=(e=_(e)).length;if(!r)return p(n)?n.call(t):n;for(var o=0;o<r;o++){var i=null==t?void 0:t[e[o]];void 0===i&&(i=n,o=r),t=p(i)?i.call(t):i}return t},uniqueId:function(t){var e=++Wt+"";return t?t+e:e},chain:function(t){return(t=b(t))._chain=!0,t},iteratee:$t,partial:I,bind:Kt,bindAll:Gt,memoize:function(r,o){function i(t){var e=i.cache,n=""+(o?o.apply(this,arguments):t);return y(e,n)||(e[n]=r.apply(this,arguments)),e[n]}return i.cache={},i},delay:Ht,defer:Jt,throttle:function(n,r,o){function i(){l=!1===o.leading?0:A(),a=null,s=n.apply(u,c),a||(u=c=null)}function t(){var t=A(),e=(l||!1!==o.leading||(l=t),r-(t-l));return u=this,c=arguments,e<=0||r<e?(a&&(clearTimeout(a),a=null),l=t,s=n.apply(u,c),a||(u=c=null)):a||!1===o.trailing||(a=setTimeout(i,e)),s}var a,u,c,s,l=0;return o=o||{},t.cancel=function(){clearTimeout(a),l=0,a=u=c=null},t},debounce:function(e,n,r){function o(){var t=A()-a;t<n?i=setTimeout(o,n-t):(i=null,r||(c=e.apply(s,u)),i||(u=s=null))}var i,a,u,c,s,t=l(function(t){return s=this,u=t,a=A(),i||(i=setTimeout(o,n),r&&(c=e.apply(s,u))),c});return t.cancel=function(){clearTimeout(i),i=u=s=null},t},wrap:function(t,e){return I(e,t)},negate:Qt,compose:function(){var n=arguments,r=n.length-1;return function(){for(var t=r,e=n[r].apply(this,arguments);t--;)e=n[t].call(this,e);return e}},after:function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},before:Yt,once:Xt,findKey:Zt,findIndex:ee,findLastIndex:ne,sortedIndex:re,indexOf:ie,lastIndexOf:ae,find:ue,detect:ue,findWhere:function(t,e){return ue(t,S(e))},each:C,forEach:C,map:T,collect:T,reduce:se,foldl:se,inject:se,reduceRight:le,foldr:le,filter:F,select:F,reject:function(t,e,n){return F(t,Qt(j(e)),n)},every:fe,all:fe,some:pe,any:pe,contains:$,includes:$,include:$,invoke:de,pluck:he,where:function(t,e){return F(t,S(e))},max:ye,min:function(t,r,e){var n,o,i=1/0,a=1/0;if(null==r||"number"==typeof r&&"object"!=typeof t[0]&&null!=t)for(var u=0,c=(t=E(t)?t:w(t)).length;u<c;u++)null!=(n=t[u])&&n<i&&(i=n);else r=j(r,e),C(t,function(t,e,n){((o=r(t,e,n))<a||o===1/0&&i===1/0)&&(i=t,a=o)});return i},shuffle:function(t){return ve(t,1/0)},sample:ve,sortBy:function(t,r,e){var o=0;return r=j(r,e),he(T(t,function(t,e,n){return{value:t,index:o++,criteria:r(t,e,n)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(r<n||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index}),"value")},groupBy:be,indexBy:we,countBy:xe,partition:_e,toArray:me,size:function(t){return null==t?0:(E(t)?t:v(t)).length},pick:ke,omit:je,first:Ie,head:Ie,take:Ie,initial:Ae,last:function(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:R(t,Math.max(0,t.length-e))},rest:R,tail:R,drop:R,compact:function(t){return F(t,Boolean)},flatten:function(t,e){return O(t,e,!1)},without:Oe,uniq:Ce,unique:Ce,union:Te,intersection:function(t){for(var e=[],n=arguments.length,r=0,o=m(t);r<o;r++){var i=t[r];if(!$(e,i)){for(var a=1;a<n&&$(arguments[a],i);a++);a===n&&e.push(i)}}return e},difference:Ee,unzip:Fe,transpose:Fe,zip:$e,object:function(t,e){for(var n={},r=0,o=m(t);r<o;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},range:function(t,e,n){null==e&&(e=t||0,t=0),n=n||(e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),o=Array(r),i=0;i<r;i++,t+=n)o[i]=t;return o},chunk:function(t,e){if(null==e||e<1)return[];for(var n=[],r=0,o=t.length;r<o;)n.push(c.call(t,r,r+=e));return n},mixin:Re,default:b});return a._=a},"object"==typeof i&&void 0!==o?o.exports=e():"function"==typeof define&&define.amd?define("underscore",e):(t="undefined"!=typeof globalThis?globalThis:t||self,n=t._,(r=t._=e()).noConflict=function(){return t._=n,r})}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1]);
//# sourceMappingURL=client.map